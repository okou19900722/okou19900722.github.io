{"pageProps":{"slug":"vertx-zipkin/java","title":"Vertx Zipkin Tracing","toc":"","contents":"<h1>Vertx Zipkin Tracing</h1>\n<div class=\"paragraph\">\n<p>Vert.x integrates with Zipkin thanks to the Zipkin Brave client.</p>\n</div>\n<div class=\"paragraph\">\n<p>Vert.x uses the ZipKin HTTP sender based using a Vert.x HTTP Client reporting\nspans to <code><a href=\"http://localhost:9411/api/v2/spans\" class=\"bare\">http://localhost:9411/api/v2/spans</a></code> in JSON format.</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-java\" data-lang=\"java\">Vertx vertx = Vertx.vertx(<span class=\"hljs-keyword\">new</span> VertxOptions()\n  .setTracingOptions(\n    <span class=\"hljs-keyword\">new</span> ZipkinTracingOptions().setServiceName(<span class=\"hljs-string\">\"A cute service\"</span>)\n  )\n);</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>The service name is the mandatory Zipkin service name. If you don&#8217;t set it, then <code>a-service</code> will be used instead.</p>\n</div>\n<div class=\"paragraph\">\n<p>You can configure the sender to use a specific URL</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-java\" data-lang=\"java\">Vertx vertx = Vertx.vertx(<span class=\"hljs-keyword\">new</span> VertxOptions()\n  .setTracingOptions(\n    <span class=\"hljs-keyword\">new</span> ZipkinTracingOptions()\n      .setSenderOptions(<span class=\"hljs-keyword\">new</span> HttpSenderOptions().setSenderEndpoint(senderEndpoint))\n  )\n);</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>The default sender uses a single HTTP connection in plain text with compressed bodies.</p>\n</div>\n<div class=\"paragraph\">\n<p>You can override the configuration of the HTTP sender with custom <code>HttpClientOptions</code>.</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-java\" data-lang=\"java\">Vertx vertx = Vertx.vertx(<span class=\"hljs-keyword\">new</span> VertxOptions()\n  .setTracingOptions(\n    <span class=\"hljs-keyword\">new</span> ZipkinTracingOptions()\n      .setSenderOptions(<span class=\"hljs-keyword\">new</span> HttpSenderOptions()\n        .setSenderEndpoint(senderEndpoint)\n        .setSsl(<span class=\"hljs-keyword\">true</span>)\n        .setKeyCertOptions(sslOptions))\n  )\n);</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>Finally you can set a custom ZipKin <code>Tracing</code> allowing for greater control\nover the configuration.</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-java\" data-lang=\"java\">Vertx vertx = Vertx.vertx(<span class=\"hljs-keyword\">new</span> VertxOptions()\n  .setTracingOptions(\n    <span class=\"hljs-keyword\">new</span> ZipkinTracingOptions(tracing)\n  )\n);</code></pre>\n</div>\n</div>"},"__N_SSG":true}