<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><title>Page 7 | Guides | Blog | Eclipse Vert.x</title><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/styles.176b8cb6.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.176b8cb6.chunk.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-79fb140702e98d221643.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.4df82c4704a0136f6a4b.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.7726cd762eacbba73350.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.8577696c4e17514af975.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-8beb549608891d89d2f4.js" as="script"/><link rel="preload" href="/_next/static/chunks/4f16b6dee4e09daf8bf4ac98169064eb9dcaeaf1.72e9236f86e8a2b5e7a0.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-3cd5466df6cee536d361.js" as="script"/></head><body><div id="__next"><main class="page"><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><a class="navbar-menu-item" href="/introduction-to-vertx-and-reactive/">Intro</a><a class="navbar-menu-item" href="/docs/">Docs</a><a class="navbar-menu-item" href="/faq/">FAQ</a><a class="navbar-menu-item" href="/blog/">Blog</a><a class="navbar-menu-item" href="/community/">Community</a></div><div class="navbar-social"><div class="dropdown"><a class="dropdown-title">v4.0.0<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"><a href="/docs/"><li class="dropdown-item active"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dropdown-check-icon"><polyline points="20 6 9 17 4 12"></polyline></svg>Latest (v<!-- -->4.0.0<!-- -->)</li></a><a href="/docs/3.9.2"><li class="dropdown-item">v<!-- -->3.9.2</li></a><a href="/docs/3.9.1"><li class="dropdown-item">v<!-- -->3.9.1</li></a><a href="/docs/3.9.0"><li class="dropdown-item">v<!-- -->3.9.0</li></a></ul></div><a href="https://github.com/vert-x3/vertx-awesome" class="navbar-social-link" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M23.996 10.648l-6.153-5.644-.865.944 5.127 4.7H1.895l5.127-4.705L6.157 5 .004 10.648H0v3.72c0 1.682 1.62 3.052 3.61 3.052h3.794c1.99 0 3.61-1.37 3.61-3.051v-2.445h1.968v2.445c0 1.681 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.72z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" class="navbar-social-link" title="Stack Overflow" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>Stack Overflow</title><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" class="navbar-social-link" title="YouTube" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>YouTube</title><path d="M23.495 6.205a3.007 3.007 0 0 0-2.088-2.088c-1.87-.501-9.396-.501-9.396-.501s-7.507-.01-9.396.501A3.007 3.007 0 0 0 .527 6.205a31.247 31.247 0 0 0-.522 5.805 31.247 31.247 0 0 0 .522 5.783 3.007 3.007 0 0 0 2.088 2.088c1.868.502 9.396.502 9.396.502s7.506 0 9.396-.502a3.007 3.007 0 0 0 2.088-2.088 31.247 31.247 0 0 0 .5-5.783 31.247 31.247 0 0 0-.5-5.805zM9.609 15.601V8.408l6.264 3.602z"></path></svg></a><a href="https://gitter.im/eclipse-vertx/vertx-users" class="navbar-social-link" title="Gitter" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Gitter"><title>Gitter</title><path d="M8.501 4.001H10.5V24H8.501V4.001zm6.999 0V24h-2V4.001h2zM3.5 0h2.001v15H3.5V0zm15 4.001h2V15h-2V4.001z"></path></svg></a></div></div></div></div></header><div class="page-content"><div class="container"><div class="blog"><div class="blog-navbar"><h2>Blog</h2><ul><li><a href="/blog/">All posts</a></li><li><a href="/blog/category/releases/">releases</a></li><li><a href="/blog/category/guides/">guides</a></li><li><a href="/blog/category/news/">news</a></li></ul></div><div class="blog-entries"><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">3 January 2016</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/ecmascript-6-7-on-the-jvm-with-typescript-and-vert-x/">ECMAScript 6/7 on the JVM with TypeScript and Vert.x</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/michel-kraemer.png?size=50"/><a href="https://github.com/michel-kraemer" target="_blank" rel="noopener noreferrer">Michel Kr√§mer</a></li></ul></span><p class="blog-entry-summary">I figured it would be a good idea to give you a couple of examples how teaming
  Vert.x and TypeScript helps you use ECMAScript 6 and 7 features on the JVM today.</p><span class="read-more-link"><a href="/blog/ecmascript-6-7-on-the-jvm-with-typescript-and-vert-x/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">20 December 2015</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/automatic-redeployment-in-eclipse-ide/">Automatic redeployment in Eclipse IDE</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/cescoffier.png?size=50"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="blog-entry-summary">Vert.x 3.1 has (re-)introduced the redeploy feature. This blog post explains how to use this feature in the Eclipse IDE. However, you can easily adapt the content to your IDE.</p><span class="read-more-link"><a href="/blog/automatic-redeployment-in-eclipse-ide/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">30 November 2015</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/combine-vert-x-and-mongo-to-build-a-giant/">Combine vert.x and mongo to build a giant</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/cescoffier.png?size=50"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="blog-entry-summary">This blog post is part of the introduction to Vert.x series. We are now going to replace this JDBC client by the vertx-mongo-client, and thus connect to a Mongo database.</p><span class="read-more-link"><a href="/blog/combine-vert-x-and-mongo-to-build-a-giant/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">25 November 2015</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/vert-x-es6-back-to-the-future/">Vert.x ES6 back to the future</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/pmlopes.png?size=50"/><a href="https://github.com/pmlopes" target="_blank" rel="noopener noreferrer">Paulo Lopes</a></li></ul></span><p class="blog-entry-summary">On October 21th, 2015 we all rejoiced with the return from the past of Marty McFly with his flying car and so on, however in the Vert.x world we were quite sad about our rather old JavaScript support.</p><span class="read-more-link"><a href="/blog/vert-x-es6-back-to-the-future/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">19 October 2015</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/using-the-asynchronous-sql-client/">Using the asynchronous SQL client</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/cescoffier.png?size=50"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="blog-entry-summary">Finally, back... This post is the fifth post of the introduction to vert.x blog series, after a not-that-small break. In this post we are going to see how we can use JDBC in a vert.x application.</p><span class="read-more-link"><a href="/blog/using-the-asynchronous-sql-client/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">17 September 2015</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/contract-driven-rest-services-with-vert-x3/">Contract Driven REST Services with Vert.x3</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/pmlopes.png?size=50"/><a href="https://github.com/pmlopes" target="_blank" rel="noopener noreferrer">Paulo Lopes</a></li></ul></span><p class="blog-entry-summary">We see a new trend in development where we are shifting from developing applications to APIs. More and more we see services being offered as REST APIs that we are allowed to consume.</p><span class="read-more-link"><a href="/blog/contract-driven-rest-services-with-vert-x3/">Read more</a></span></div></div><div class="pagination"><div class="pagination-page"><a href="/blog/category/guides/page/6/">¬´</a></div><div class="pagination-page"><a href="/blog/category/guides/">1</a></div><div class="pagination-page disabled">‚Ä¶</div><div class="pagination-page"><a href="/blog/category/guides/page/5/">5</a></div><div class="pagination-page"><a href="/blog/category/guides/page/6/">6</a></div><div class="pagination-page active"><a href="/blog/category/guides/page/7/">7</a></div><div class="pagination-page"><a href="/blog/category/guides/page/8/">8</a></div><div class="pagination-page"><a href="/blog/category/guides/page/9/">9</a></div><div class="pagination-page"><a href="/blog/category/guides/page/8/">¬ª</a></div></div></div></div></div><footer><div class="container"><div class="footer-nav-section"><div class="footer-nav-list footer-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="footer-nav-list"><h5>Eclipse Vert.x</h5><ul class=""><li><a class="navbar-menu-item" href="/docs/">Docs</a></li><li><a href="/faq/">FAQ</a></li><li><a href="/blog/">Blog</a></li><li><a href="/community/">Community</a></li></ul></div><div class="footer-nav-list"><h5>Eclipse</h5><ul class=""><li><a href="https://www.eclipse.org/">Eclipse Foundation</a></li><li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li><li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li><li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li><li><a href="https://www.eclipse.org/legal/">Legal Resources</a></li></ul></div></div><div class="footer-copyright"><div class="footer-copyright-remarks">¬© <!-- -->2020<!-- --> Eclipse Vert.x<br/>Eclipse Vert.x is open source and dual-licensed under the <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer">Eclipse Public License 2.0</a> and the <a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer">Apache License 2.0</a>. <br class="footer-copyright-break"/>Website design by <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer">Michel Kr√§mer</a>.</div><div class="footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0TDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"categories":["releases","guides","news"],"category":"guides","page":7,"posts":[{"filename":"blog/2016-01-03-ecmascript-6-7-on-the-jvm-with-typescript-and-vert-x.mdx","date":"2016-01-03","slug":"ecmascript-6-7-on-the-jvm-with-typescript-and-vert-x","meta":{"title":"ECMAScript 6/7 on the JVM with TypeScript and Vert.x","category":"guides","authors":[{"name":"Michel Kr√§mer","github_id":"michel-kraemer"}],"summary":"I figured it would be a good idea to give you a couple of examples how teaming\n  Vert.x and TypeScript helps you use ECMAScript 6 and 7 features on the JVM today."},"readingTime":{"text":"4 min read","minutes":3.775,"time":226500,"words":755},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Fol\\xADlow\\xADing the lat\\xADest re\\xADleases of \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vertx.io\"\n  }), \"Vert.x 3.2\"), \" and\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/michel-kraemer/vertx-lang-typescript\"\n  }), \"vertx-\\u200Blang-typescript 1.1.0\"), \"\\nI fig\\xADured it would be a good idea to give you a cou\\xADple of ex\\xADam\\xADples how team\\xADing\\nVert.x and Type\\xADScript helps you use EC\\xADMAScript 6 and 7 fea\\xADtures on the JVM today.\"), mdx(\"p\", null, \"The vertx-\\u200Blang-typescript li\\xADbrary adds \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.typescriptlang.org/\"\n  }), \"Type\\xADScript\"), \" sup\\xADport to Vert.x 3.\\nType\\xADScript is a typed su\\xADper\\xADset of JavaScript that com\\xADpiles to plain JavaScript. It sup\\xADports the\\nEC\\xADMAScript 6 (EC\\xADMAScript 2015, ES6) stan\\xADdard and also a few parts of EC\\xADMAScript 7 (ES7) al\\xADready.\"), mdx(\"p\", null, \"The li\\xADbrary au\\xADto\\xADmat\\xADi\\xADcally com\\xADpiles Vert.x ver\\xADti\\xADcles writ\\xADten in\\nType\\xADScript to JavaScript and ex\\xADe\\xADcutes them on the JVM. vertx-\\u200Blang-typescript also pro\\xADvides\\ntype de\\xADf\\xADi\\xADn\\xADi\\xADtions for the Vert.x JavaScript API. Use them in your favourite\\nType\\xADScript ed\\xADi\\xADtor/IDE to get auto-\\u200Bcompletion, API doc\\xADu\\xADmen\\xADta\\xADtion and mean\\xADing\\xADful error\\nmes\\xADsages. See the fol\\xADlow\\xADing screen\\xADcast:\"), mdx(\"img\", {\n    src: \"https://raw.githubusercontent.com/michel-kraemer/vertx-lang-typescript/aaa67228c998bf9dc64b5f45fb407ef56169efec/screencast.gif\"\n  }), mdx(\"h2\", {\n    \"id\": \"ecmascript-67-and-vertx\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#ecmascript-67-and-vertx\"\n  })), \"ECMAScript 6/7 and Vert.x\"), mdx(\"p\", null, \"Below you find an ex\\xADam\\xADple ver\\xADti\\xADcle writ\\xADten in Type\\xADScript. Well, I left all\\nthe TypeScript-\\u200Bspecific parts out. In fact the ver\\xADti\\xADcle is valid EC\\xADMAScript 6\\n(ex\\xADcept for the last snip\\xADpet \", \"[9]\", \" which is EC\\xADMAScript 7).\"), mdx(\"p\", null, \"First, fol\\xADlow the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/michel-kraemer/vertx-lang-typescript/blob/master/README.md\"\n  }), \"vertx-\\u200Blang-typescript README\"), \"\\nto in\\xADstall the li\\xADbrary and to en\\xADable Type\\xADScript in Vert.x. Then ex\\xADtract the\\ntype de\\xADf\\xADi\\xADn\\xADi\\xADtions (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-lang-typescript-1.1.0-typings.zip\"), \") into a new di\\xADrec\\xADtory.\\nCre\\xADate a new file named \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"es7verticle.ts\"), \" in this di\\xADrec\\xADtory and copy the code\\nbelow into it. Fi\\xADnally, open your com\\xADmand prompt and ex\\xADe\\xADcute\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"vertx run es7verticle.ts\\n\")), mdx(\"p\", null, \"This will run a small HTTP server that lis\\xADtens to re\\xADquests on port 8080. If you\\nopen your browser and go to http://lo\\xADcal\\xADhost:8080 you will see the fol\\xADlow\\xADing:\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/images/blog/ecmascript-6-7-on-the-jvm-with-typscript-and-vertx/output.png\",\n    \"alt\": \"Output of the verticle written in TypeScript\"\n  }))), mdx(\"p\", null, \"So far so good. Now let\\u2019s have a look at the code. I num\\xADbered the in\\xADdi\\xADvid\\xADual\\nEC\\xADMAScript fea\\xADtures used. Here\\u2019s a com\\xADplete list:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Use an \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"arrow func\\xADtion\"), \" to cre\\xADate a re\\xADquest han\\xADdler (ES6)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Block-\\u200Bscoped vari\\xADables\"), \" do not pol\\xADlute your global name\\xADspace (ES6)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Spec\\xADify a \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"de\\xADfault value\"), \" for a func\\xADtion pa\\xADra\\xADme\\xADter (ES6)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Use \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"rest pa\\xADra\\xADme\\xADters\"), \" to col\\xADlect mul\\xADti\\xADple pa\\xADra\\xADme\\xADters in an array (ES6)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Spread\"), \" the con\\xADtents of an array to func\\xADtion pa\\xADra\\xADme\\xADters (ES6)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"It\\xADer\\xADate over array con\\xADtents using the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"for\\u2026of loop\"), \" (ES6)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"tem\\xADplate strings\"), \" en\\xADable \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"string in\\xADter\\xADpo\\xADla\\xADtion\"), \" and \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"multi-\\u200Bline strings\"), \" (ES6)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Use \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"classes\"), \" and \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"in\\xADher\\xADi\\xADtance\"), \" (ES6)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Use the new \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"ex\\xADpo\\xADnen\\xADti\\xADa\\xADtion op\\xADer\\xADa\\xADtor\"), \" as a short\\xADcut for \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Math.pow()\"), \" (ES7)\")), mdx(Gist, {\n    url: \"https://gist.github.com/michel-kraemer/892866038dabcb8376e6\",\n    mdxType: \"Gist\"\n  }), mdx(\"h2\", {\n    \"id\": \"conclusion\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#conclusion\"\n  })), \"Conclusion\"), mdx(\"p\", null, \"The ex\\xADam\\xADple demon\\xADstrates very well how you can use EC\\xADMAScript 6 (and parts of\\n7) on the JVM today. In fact, there are a lot more\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://es6-features.org/\"\n  }), \"cool ES6 fea\\xADtures\"), \" not in\\xADcluded in the ex\\xADam\\xADple such\\nas con\\xADstants (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"const\"), \"), the prop\\xADerty short\\xADhand or method prop\\xADer\\xADties.\"), mdx(\"p\", null, \"Type\\xADScript is so much more than just ES6. It ac\\xADtu\\xADally has a\\nvery good sta\\xADtic type sys\\xADtem that al\\xADlows you to make compile-\\u200Btime type checks.\\nThis is makes it much eas\\xADier to write large Vert.x ap\\xADpli\\xADca\\xADtions with many\\nver\\xADti\\xADcles. Per\\xADson\\xADally I re\\xADally like the sup\\xADport that I get from my IDE when\\npro\\xADgram\\xADming Type\\xADScript. Since vertx-\\u200Blang-typescript comes with type de\\xADf\\xADi\\xADn\\xADi\\xADtions\\nfor the Vert.x JavaScript API I get auto-\\u200Bcompletion and ac\\xADcess to the doc\\xADu\\xADmen\\xADta\\xADtion\\nright in the ed\\xADi\\xADtor. I mostly use \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.sublimetext.com/\"\n  }), \"Sub\\xADlime\"), \" by the\\nway, but I have tested it suc\\xADcess\\xADfully with\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://code.visualstudio.com/\"\n  }), \"Vi\\xADsual Stu\\xADdio Code\"), \", \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.eclipse.org/\"\n  }), \"Eclipse\"), \"\\nand \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://atom.io/\"\n  }), \"Atom\"), \".\"), mdx(\"p\", null, \"Un\\xADfor\\xADtu\\xADnately, the only ES7 fea\\xADture that you can use at the mo\\xADment with\\nvertx-\\u200Blang-typescript is the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"ex\\xADpo\\xADnen\\xADti\\xADa\\xADtion op\\xADer\\xADa\\xADtor\"), \". Type\\xADScript 1.7 also\\nsup\\xADports \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"dec\\xADo\\xADra\\xADtors\"), \" but this fea\\xADture is dis\\xADabled at the mo\\xADment in\\nvertx-\\u200Blang-typescript be\\xADcause it is ex\\xADper\\xADi\\xADmen\\xADtal and sub\\xADject to change. I\\u2019ll\\nkeep you up to date when new fea\\xADtures are in\\xADtro\\xADduced.\"), mdx(\"h2\", {\n    \"id\": \"alternatives\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#alternatives\"\n  })), \"Alternatives\"), mdx(\"p\", null, \"We\\u2019ve re\\xADcently \", mdx(Link, {\n    href: \"/blog/[[...slug]]\",\n    as: \"/blog/vert-x-es6-back-to-the-future/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", null, \"pub\\xADlished a post\")), \"\\non how to use EC\\xADMAScript 6 with Vert.x here on this blog. We used \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://babeljs.io/\"\n  }), \"Babel\"), \", a\\ncom\\xADpiler that trans\\xADlates ES6 to ES5.\"), mdx(\"p\", null, \"Al\\xADthough this ap\\xADproach works well it is a bit harder to set up and use than the\\none pre\\xADsented here. First, you need to wrap your Vert.x ap\\xADpli\\xADca\\xADtion in a NPM pack\\xADage.\\nSec\\xADond, in order to run your ap\\xADpli\\xADca\\xADtion, you need to ex\\xADe\\xADcute two com\\xADmands.\\nYou have to com\\xADpile it with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm run build\"), \" and then then call \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm start\"), \".\\nWith vertx-\\u200Blang-typescript you only need one com\\xADmand. vertx-\\u200Blang-typescript\\nalso al\\xADlows you to embed the Type\\xADScript ver\\xADti\\xADcle in a larger Vert.x ap\\xADpli\\xADca\\xADtion\\nand also mix mul\\xADti\\xADple lan\\xADguages in one project. This is not pos\\xADsi\\xADble if you wrap\\nevery\\xADthing in a NPM pack\\xADage.\"), mdx(\"p\", null, \"Fi\\xADnally, the ap\\xADproach based on Babel only sup\\xADports EC\\xADMAScript 6 (2015), al\\xADthough\\nmore fea\\xADtures from ES7 will surely be in\\xADtro\\xADduced in Babel in the fu\\xADture.\\nType\\xADScript on the other hand gives you much more fea\\xADtures such as sta\\xADtic\\ntyp\\xADing that you will cer\\xADtainly find use\\xADful for any larger project.\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eFol¬≠low¬≠ing the lat¬≠est re¬≠leases of \u003ca href=\"http://vertx.io\"\u003eVert.x 3.2\u003c/a\u003e and\n\u003ca href=\"https://github.com/michel-kraemer/vertx-lang-typescript\"\u003evertx-‚Äãlang-typescript 1.1.0\u003c/a\u003e\nI fig¬≠ured it would be a good idea to give you a cou¬≠ple of ex¬≠am¬≠ples how team¬≠ing\nVert.x and Type¬≠Script helps you use EC¬≠MAScript 6 and 7 fea¬≠tures on the JVM today.\u003c/p\u003e\u003cp\u003eThe vertx-‚Äãlang-typescript li¬≠brary adds \u003ca href=\"http://www.typescriptlang.org/\"\u003eType¬≠Script\u003c/a\u003e sup¬≠port to Vert.x 3.\nType¬≠Script is a typed su¬≠per¬≠set of JavaScript that com¬≠piles to plain JavaScript. It sup¬≠ports the\nEC¬≠MAScript 6 (EC¬≠MAScript 2015, ES6) stan¬≠dard and also a few parts of EC¬≠MAScript 7 (ES7) al¬≠ready.\u003c/p\u003e\u003cp\u003eThe li¬≠brary au¬≠to¬≠mat¬≠i¬≠cally com¬≠piles Vert.x ver¬≠ti¬≠cles writ¬≠ten in\nType¬≠Script to JavaScript and ex¬≠e¬≠cutes them on the JVM. vertx-‚Äãlang-typescript also pro¬≠vides\ntype de¬≠f¬≠i¬≠n¬≠i¬≠tions for the Vert.x JavaScript API. Use them in your favourite\nType¬≠Script ed¬≠i¬≠tor/IDE to get auto-‚Äãcompletion, API doc¬≠u¬≠men¬≠ta¬≠tion and mean¬≠ing¬≠ful error\nmes¬≠sages. See the fol¬≠low¬≠ing screen¬≠cast:\u003c/p\u003e\u003cimg src=\"https://raw.githubusercontent.com/michel-kraemer/vertx-lang-typescript/aaa67228c998bf9dc64b5f45fb407ef56169efec/screencast.gif\"/\u003e\u003ch2 id=\"ecmascript-67-and-vertx\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#ecmascript-67-and-vertx\"\u003e\u003c/a\u003eECMAScript 6/7 and Vert.x\u003c/h2\u003e\u003cp\u003eBelow you find an ex¬≠am¬≠ple ver¬≠ti¬≠cle writ¬≠ten in Type¬≠Script. Well, I left all\nthe TypeScript-‚Äãspecific parts out. In fact the ver¬≠ti¬≠cle is valid EC¬≠MAScript 6\n(ex¬≠cept for the last snip¬≠pet \u003c!-- --\u003e[9]\u003c!-- --\u003e which is EC¬≠MAScript 7).\u003c/p\u003e\u003cp\u003eFirst, fol¬≠low the \u003ca href=\"https://github.com/michel-kraemer/vertx-lang-typescript/blob/master/README.md\"\u003evertx-‚Äãlang-typescript README\u003c/a\u003e\nto in¬≠stall the li¬≠brary and to en¬≠able Type¬≠Script in Vert.x. Then ex¬≠tract the\ntype de¬≠f¬≠i¬≠n¬≠i¬≠tions (\u003ccode\u003evertx-lang-typescript-1.1.0-typings.zip\u003c/code\u003e) into a new di¬≠rec¬≠tory.\nCre¬≠ate a new file named \u003ccode\u003ees7verticle.ts\u003c/code\u003e in this di¬≠rec¬≠tory and copy the code\nbelow into it. Fi¬≠nally, open your com¬≠mand prompt and ex¬≠e¬≠cute\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003evertx run es7verticle.ts\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis will run a small HTTP server that lis¬≠tens to re¬≠quests on port 8080. If you\nopen your browser and go to http://lo¬≠cal¬≠host:8080 you will see the fol¬≠low¬≠ing:\u003c/p\u003e\u003cp\u003e\u003cimg src=\"/images/blog/ecmascript-6-7-on-the-jvm-with-typscript-and-vertx/output.png\" alt=\"Output of the verticle written in TypeScript\"/\u003e\u003c/p\u003e\u003cp\u003eSo far so good. Now let‚Äôs have a look at the code. I num¬≠bered the in¬≠di¬≠vid¬≠ual\nEC¬≠MAScript fea¬≠tures used. Here‚Äôs a com¬≠plete list:\u003c/p\u003e\u003col\u003e\u003cli\u003eUse an \u003cem\u003earrow func¬≠tion\u003c/em\u003e to cre¬≠ate a re¬≠quest han¬≠dler (ES6)\u003c/li\u003e\u003cli\u003e\u003cem\u003eBlock-‚Äãscoped vari¬≠ables\u003c/em\u003e do not pol¬≠lute your global name¬≠space (ES6)\u003c/li\u003e\u003cli\u003eSpec¬≠ify a \u003cem\u003ede¬≠fault value\u003c/em\u003e for a func¬≠tion pa¬≠ra¬≠me¬≠ter (ES6)\u003c/li\u003e\u003cli\u003eUse \u003cem\u003erest pa¬≠ra¬≠me¬≠ters\u003c/em\u003e to col¬≠lect mul¬≠ti¬≠ple pa¬≠ra¬≠me¬≠ters in an array (ES6)\u003c/li\u003e\u003cli\u003e\u003cem\u003eSpread\u003c/em\u003e the con¬≠tents of an array to func¬≠tion pa¬≠ra¬≠me¬≠ters (ES6)\u003c/li\u003e\u003cli\u003eIt¬≠er¬≠ate over array con¬≠tents using the \u003cem\u003efor‚Ä¶of loop\u003c/em\u003e (ES6)\u003c/li\u003e\u003cli\u003e\u003cem\u003etem¬≠plate strings\u003c/em\u003e en¬≠able \u003cem\u003estring in¬≠ter¬≠po¬≠la¬≠tion\u003c/em\u003e and \u003cem\u003emulti-‚Äãline strings\u003c/em\u003e (ES6)\u003c/li\u003e\u003cli\u003eUse \u003cem\u003eclasses\u003c/em\u003e and \u003cem\u003ein¬≠her¬≠i¬≠tance\u003c/em\u003e (ES6)\u003c/li\u003e\u003cli\u003eUse the new \u003cem\u003eex¬≠po¬≠nen¬≠ti¬≠a¬≠tion op¬≠er¬≠a¬≠tor\u003c/em\u003e as a short¬≠cut for \u003ccode\u003eMath.pow()\u003c/code\u003e (ES7)\u003c/li\u003e\u003c/ol\u003e\u003cdiv\u003e...waiting for Gist...\u003c/div\u003e\u003ch2 id=\"conclusion\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#conclusion\"\u003e\u003c/a\u003eConclusion\u003c/h2\u003e\u003cp\u003eThe ex¬≠am¬≠ple demon¬≠strates very well how you can use EC¬≠MAScript 6 (and parts of\n7) on the JVM today. In fact, there are a lot more\n\u003ca href=\"http://es6-features.org/\"\u003ecool ES6 fea¬≠tures\u003c/a\u003e not in¬≠cluded in the ex¬≠am¬≠ple such\nas con¬≠stants (\u003ccode\u003econst\u003c/code\u003e), the prop¬≠erty short¬≠hand or method prop¬≠er¬≠ties.\u003c/p\u003e\u003cp\u003eType¬≠Script is so much more than just ES6. It ac¬≠tu¬≠ally has a\nvery good sta¬≠tic type sys¬≠tem that al¬≠lows you to make compile-‚Äãtime type checks.\nThis is makes it much eas¬≠ier to write large Vert.x ap¬≠pli¬≠ca¬≠tions with many\nver¬≠ti¬≠cles. Per¬≠son¬≠ally I re¬≠ally like the sup¬≠port that I get from my IDE when\npro¬≠gram¬≠ming Type¬≠Script. Since vertx-‚Äãlang-typescript comes with type de¬≠f¬≠i¬≠n¬≠i¬≠tions\nfor the Vert.x JavaScript API I get auto-‚Äãcompletion and ac¬≠cess to the doc¬≠u¬≠men¬≠ta¬≠tion\nright in the ed¬≠i¬≠tor. I mostly use \u003ca href=\"http://www.sublimetext.com/\"\u003eSub¬≠lime\u003c/a\u003e by the\nway, but I have tested it suc¬≠cess¬≠fully with\n\u003ca href=\"https://code.visualstudio.com/\"\u003eVi¬≠sual Stu¬≠dio Code\u003c/a\u003e, \u003ca href=\"http://www.eclipse.org/\"\u003eEclipse\u003c/a\u003e\nand \u003ca href=\"https://atom.io/\"\u003eAtom\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eUn¬≠for¬≠tu¬≠nately, the only ES7 fea¬≠ture that you can use at the mo¬≠ment with\nvertx-‚Äãlang-typescript is the \u003cem\u003eex¬≠po¬≠nen¬≠ti¬≠a¬≠tion op¬≠er¬≠a¬≠tor\u003c/em\u003e. Type¬≠Script 1.7 also\nsup¬≠ports \u003cem\u003edec¬≠o¬≠ra¬≠tors\u003c/em\u003e but this fea¬≠ture is dis¬≠abled at the mo¬≠ment in\nvertx-‚Äãlang-typescript be¬≠cause it is ex¬≠per¬≠i¬≠men¬≠tal and sub¬≠ject to change. I‚Äôll\nkeep you up to date when new fea¬≠tures are in¬≠tro¬≠duced.\u003c/p\u003e\u003ch2 id=\"alternatives\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#alternatives\"\u003e\u003c/a\u003eAlternatives\u003c/h2\u003e\u003cp\u003eWe‚Äôve re¬≠cently \u003ca href=\"/blog/vert-x-es6-back-to-the-future/\"\u003epub¬≠lished a post\u003c/a\u003e\non how to use EC¬≠MAScript 6 with Vert.x here on this blog. We used \u003ca href=\"https://babeljs.io/\"\u003eBabel\u003c/a\u003e, a\ncom¬≠piler that trans¬≠lates ES6 to ES5.\u003c/p\u003e\u003cp\u003eAl¬≠though this ap¬≠proach works well it is a bit harder to set up and use than the\none pre¬≠sented here. First, you need to wrap your Vert.x ap¬≠pli¬≠ca¬≠tion in a NPM pack¬≠age.\nSec¬≠ond, in order to run your ap¬≠pli¬≠ca¬≠tion, you need to ex¬≠e¬≠cute two com¬≠mands.\nYou have to com¬≠pile it with \u003ccode\u003enpm run build\u003c/code\u003e and then then call \u003ccode\u003enpm start\u003c/code\u003e.\nWith vertx-‚Äãlang-typescript you only need one com¬≠mand. vertx-‚Äãlang-typescript\nalso al¬≠lows you to embed the Type¬≠Script ver¬≠ti¬≠cle in a larger Vert.x ap¬≠pli¬≠ca¬≠tion\nand also mix mul¬≠ti¬≠ple lan¬≠guages in one project. This is not pos¬≠si¬≠ble if you wrap\nevery¬≠thing in a NPM pack¬≠age.\u003c/p\u003e\u003cp\u003eFi¬≠nally, the ap¬≠proach based on Babel only sup¬≠ports EC¬≠MAScript 6 (2015), al¬≠though\nmore fea¬≠tures from ES7 will surely be in¬≠tro¬≠duced in Babel in the fu¬≠ture.\nType¬≠Script on the other hand gives you much more fea¬≠tures such as sta¬≠tic\ntyp¬≠ing that you will cer¬≠tainly find use¬≠ful for any larger project.\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"typescript","tf":22},{"term":"us","tf":15},{"term":"es6","tf":12},{"term":"ecmascript","tf":11},{"term":"lang","tf":9},{"term":"featur","tf":8},{"term":"type","tf":7},{"term":"support","tf":5},{"term":"javascript","tf":5},{"term":"compil","tf":5},{"term":"verticl","tf":5},{"term":"follow","tf":4},{"term":"exampl","tf":4},{"term":"es7","tf":4},{"term":"new","tf":4},{"term":"will","tf":4},{"term":"paramet","tf":4},{"term":"applic","tf":4},{"term":"good","tf":3},{"term":"jvm","tf":3},{"term":"librari","tf":3},{"term":"part","tf":3},{"term":"execut","tf":3},{"term":"definit","tf":3},{"term":"api","tf":3}]},{"filename":"blog/2015-12-20-automatic-redeployment-in-eclipse-ide.mdx","date":"2015-12-20","slug":"automatic-redeployment-in-eclipse-ide","meta":{"title":"Automatic redeployment in Eclipse IDE","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Vert.x 3.1 has (re-)introduced the redeploy feature. This blog post explains how to use this feature in the Eclipse IDE. However, you can easily adapt the content to your IDE."},"readingTime":{"text":"3 min read","minutes":2.035,"time":122100.00000000001,"words":407},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Vert.x 3.1 has (re-)in\\xADtro\\xADduced the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"re\\xADde\\xADploy\"), \" fea\\xADture. This blog post ex\\xADplains how to use this fea\\xADture in the Eclipse IDE. How\\xADever, you can eas\\xADily adapt the con\\xADtent to your IDE.\"), mdx(\"h2\", {\n    \"id\": \"how-does-redeploy-work\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#how-does-redeploy-work\"\n  })), \"How does redeploy work\"), mdx(\"p\", null, \"How is im\\xADple\\xADmented the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"redeploy\"), \" is not as you may ex\\xADpect. First, the re\\xADde\\xADploy does not rely on a build tool, but is in\\xADte\\xADgrated in vert.x. How\\xADever you can plug your build tools with the re\\xADde\\xADploy fea\\xADture. This fea\\xADture is of\\xADfered by the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"io.vertx.core.Launcher\"), \" class. The re\\xADde\\xADploy\\xADment process is ac\\xADtu\\xADally very sim\\xADple:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"the ap\\xADpli\\xADca\\xADtion is launched in \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"re\\xADde\\xADploy mode\"), \".\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"it lis\\xADtens for file changes\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"when a \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"match\\xADing\"), \" file is changed, it stops the ap\\xADpli\\xADca\\xADtion\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"it ex\\xADe\\xADcutes the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"on-redeploy\"), \" ac\\xADtions if any\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"it restarts the ap\\xADpli\\xADca\\xADtion\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"back to (2)\")), mdx(\"p\", null, \"Ini\\xADtially the ap\\xADpli\\xADca\\xADtion is launched in \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"re\\xADde\\xADploy mode\"), \". The ap\\xADpli\\xADca\\xADtion is ac\\xADtu\\xADally launched in back\\xADground, in a sep\\xADa\\xADrated process. Vert.x lis\\xADtens for file changes. You give it a set of (Ant-\\u200Bstyle) pat\\xADterns and every time a match\\xADing file changes, Vert.x stops the whole ap\\xADpli\\xADca\\xADtion and restarts it. Op\\xADtion\\xADally you can con\\xADfig\\xADure a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"on-redeploy\"), \" ac\\xADtion to plug in your build tools.\"), mdx(\"p\", null, \"To in\\xADte\\xADgrate this process in Eclipse (or in your IDE), you just need to con\\xADfig\\xADure the set of lis\\xADtened files, and let the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Launcher\"), \" class starts and stops your ap\\xADpli\\xADca\\xADtion.\"), mdx(\"h2\", {\n    \"id\": \"redeploy-in-eclipse\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#redeploy-in-eclipse\"\n  })), \"Redeploy in Eclipse\"), mdx(\"p\", null, \"The fol\\xADlow\\xADing screen\\xADcast ex\\xADplains how you con\\xADfig\\xADure a vert.x ap\\xADpli\\xADca\\xADtion to be run in Eclipse and how to con\\xADfig\\xADure the re\\xADde\\xADploy:\"), mdx(\"div\", {\n    className: \"youtube-embed\"\n  }, mdx(\"iframe\", {\n    src: \"https://www.youtube.com/embed/iyZwAzEVX-o\",\n    frameBorder: \"0\",\n    allowFullScreen: true\n  })), mdx(\"p\", null, \"To sum\\xADma\\xADrize the last con\\xADfig\\xADu\\xADra\\xADtion:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"it\\u2019s a Java ap\\xADpli\\xADca\\xADtion con\\xADfig\\xADu\\xADra\\xADtion\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"it uses \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"io.vertx.core.Launcher\"), \" as main class\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"In the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Pro\\xADgram ar\\xADgu\\xADments\"), \" (\", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Ar\\xADgu\\xADments\"), \" tab), write: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"run org.acme.verticle.MyMainVerticle --redeploy=\\\"src/**/*.java\\\" --launcher-class=io.vertx.core.Launcher\"))), mdx(\"h2\", {\n    \"id\": \"redeploy-with-your-own-main-class\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#redeploy-with-your-own-main-class\"\n  })), \"Redeploy with your own Main class\"), mdx(\"p\", null, \"Let\\u2019s now imag\\xADine that you have your own \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Main\"), \" class, start\\xADing your ap\\xADpli\\xADca\\xADtion. For in\\xADstance, it can be some\\xADthing like:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"package\"), \" org.acme.vertx;\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"import\"), \" io.vertx.core.Vertx;\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"class\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"Main\"), \" \"), \"{\\n\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"static\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"main\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(String[] args)\"), \" \"), \"{\\n        Vertx vertx = Vertx.vertx();\\n        vertx.deployVerticle(MyMainVerticle.class.getName());\\n    }\\n\\n}\\n\")), mdx(\"p\", null, \"The re\\xADde\\xADploy fea\\xADture from vert.x lets you use your own \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Main\"), \" class:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Cre\\xADate an\\xADother \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Run\"), \" con\\xADfig\\xADu\\xADra\\xADtion\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Set the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Main-Class\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"io.vertx.core.Launcher\"), \" (yes, the one from vert.x not yours)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"In the ap\\xADpli\\xADca\\xADtion pa\\xADra\\xADme\\xADter add: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"run --redeploy=\\\"src/**/*.java\\\" --launcher-class=org.acme.vertx.Main\"))), mdx(\"p\", null, \"With this con\\xADfig\\xADu\\xADra\\xADtion, the ap\\xADpli\\xADca\\xADtion is launched in back\\xADground using your own \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Main\"), \" class, and will restart the ap\\xADpli\\xADca\\xADtion every time you change your source code (you can even change the source code of your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Main\"), \" class).\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eVert.x 3.1 has (re-)in¬≠tro¬≠duced the \u003cem\u003ere¬≠de¬≠ploy\u003c/em\u003e fea¬≠ture. This blog post ex¬≠plains how to use this fea¬≠ture in the Eclipse IDE. How¬≠ever, you can eas¬≠ily adapt the con¬≠tent to your IDE.\u003c/p\u003e\u003ch2 id=\"how-does-redeploy-work\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#how-does-redeploy-work\"\u003e\u003c/a\u003eHow does redeploy work\u003c/h2\u003e\u003cp\u003eHow is im¬≠ple¬≠mented the \u003ccode\u003eredeploy\u003c/code\u003e is not as you may ex¬≠pect. First, the re¬≠de¬≠ploy does not rely on a build tool, but is in¬≠te¬≠grated in vert.x. How¬≠ever you can plug your build tools with the re¬≠de¬≠ploy fea¬≠ture. This fea¬≠ture is of¬≠fered by the \u003ccode\u003eio.vertx.core.Launcher\u003c/code\u003e class. The re¬≠de¬≠ploy¬≠ment process is ac¬≠tu¬≠ally very sim¬≠ple:\u003c/p\u003e\u003col\u003e\u003cli\u003ethe ap¬≠pli¬≠ca¬≠tion is launched in \u003cem\u003ere¬≠de¬≠ploy mode\u003c/em\u003e.\u003c/li\u003e\u003cli\u003eit lis¬≠tens for file changes\u003c/li\u003e\u003cli\u003ewhen a \u003cem\u003ematch¬≠ing\u003c/em\u003e file is changed, it stops the ap¬≠pli¬≠ca¬≠tion\u003c/li\u003e\u003cli\u003eit ex¬≠e¬≠cutes the \u003ccode\u003eon-redeploy\u003c/code\u003e ac¬≠tions if any\u003c/li\u003e\u003cli\u003eit restarts the ap¬≠pli¬≠ca¬≠tion\u003c/li\u003e\u003cli\u003eback to (2)\u003c/li\u003e\u003c/ol\u003e\u003cp\u003eIni¬≠tially the ap¬≠pli¬≠ca¬≠tion is launched in \u003cem\u003ere¬≠de¬≠ploy mode\u003c/em\u003e. The ap¬≠pli¬≠ca¬≠tion is ac¬≠tu¬≠ally launched in back¬≠ground, in a sep¬≠a¬≠rated process. Vert.x lis¬≠tens for file changes. You give it a set of (Ant-‚Äãstyle) pat¬≠terns and every time a match¬≠ing file changes, Vert.x stops the whole ap¬≠pli¬≠ca¬≠tion and restarts it. Op¬≠tion¬≠ally you can con¬≠fig¬≠ure a \u003ccode\u003eon-redeploy\u003c/code\u003e ac¬≠tion to plug in your build tools.\u003c/p\u003e\u003cp\u003eTo in¬≠te¬≠grate this process in Eclipse (or in your IDE), you just need to con¬≠fig¬≠ure the set of lis¬≠tened files, and let the \u003ccode\u003eLauncher\u003c/code\u003e class starts and stops your ap¬≠pli¬≠ca¬≠tion.\u003c/p\u003e\u003ch2 id=\"redeploy-in-eclipse\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#redeploy-in-eclipse\"\u003e\u003c/a\u003eRedeploy in Eclipse\u003c/h2\u003e\u003cp\u003eThe fol¬≠low¬≠ing screen¬≠cast ex¬≠plains how you con¬≠fig¬≠ure a vert.x ap¬≠pli¬≠ca¬≠tion to be run in Eclipse and how to con¬≠fig¬≠ure the re¬≠de¬≠ploy:\u003c/p\u003e\u003cdiv class=\"youtube-embed\"\u003e\u003ciframe src=\"https://www.youtube.com/embed/iyZwAzEVX-o\" frameBorder=\"0\" allowfullscreen=\"\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003cp\u003eTo sum¬≠ma¬≠rize the last con¬≠fig¬≠u¬≠ra¬≠tion:\u003c/p\u003e\u003cul\u003e\u003cli\u003eit‚Äôs a Java ap¬≠pli¬≠ca¬≠tion con¬≠fig¬≠u¬≠ra¬≠tion\u003c/li\u003e\u003cli\u003eit uses \u003ccode\u003eio.vertx.core.Launcher\u003c/code\u003e as main class\u003c/li\u003e\u003cli\u003eIn the \u003cem\u003ePro¬≠gram ar¬≠gu¬≠ments\u003c/em\u003e (\u003cem\u003eAr¬≠gu¬≠ments\u003c/em\u003e tab), write: \u003ccode\u003erun org.acme.verticle.MyMainVerticle --redeploy=\u0026quot;src/**/*.java\u0026quot; --launcher-class=io.vertx.core.Launcher\u003c/code\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch2 id=\"redeploy-with-your-own-main-class\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#redeploy-with-your-own-main-class\"\u003e\u003c/a\u003eRedeploy with your own Main class\u003c/h2\u003e\u003cp\u003eLet‚Äôs now imag¬≠ine that you have your own \u003ccode\u003eMain\u003c/code\u003e class, start¬≠ing your ap¬≠pli¬≠ca¬≠tion. For in¬≠stance, it can be some¬≠thing like:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epackage\u003c/span\u003e org.acme.vertx;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e io.vertx.core.Vertx;\n\n\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMain\u003c/span\u003e \u003c/span\u003e{\n\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003emain\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String[] args)\u003c/span\u003e \u003c/span\u003e{\n        Vertx vertx = Vertx.vertx();\n        vertx.deployVerticle(MyMainVerticle.class.getName());\n    }\n\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe re¬≠de¬≠ploy fea¬≠ture from vert.x lets you use your own \u003ccode\u003eMain\u003c/code\u003e class:\u003c/p\u003e\u003col\u003e\u003cli\u003eCre¬≠ate an¬≠other \u003ccode\u003eRun\u003c/code\u003e con¬≠fig¬≠u¬≠ra¬≠tion\u003c/li\u003e\u003cli\u003eSet the \u003ccode\u003eMain-Class\u003c/code\u003e to \u003ccode\u003eio.vertx.core.Launcher\u003c/code\u003e (yes, the one from vert.x not yours)\u003c/li\u003e\u003cli\u003eIn the ap¬≠pli¬≠ca¬≠tion pa¬≠ra¬≠me¬≠ter add: \u003ccode\u003erun --redeploy=\u0026quot;src/**/*.java\u0026quot; --launcher-class=org.acme.vertx.Main\u003c/code\u003e\u003c/li\u003e\u003c/ol\u003e\u003cp\u003eWith this con¬≠fig¬≠u¬≠ra¬≠tion, the ap¬≠pli¬≠ca¬≠tion is launched in back¬≠ground using your own \u003ccode\u003eMain\u003c/code\u003e class, and will restart the ap¬≠pli¬≠ca¬≠tion every time you change your source code (you can even change the source code of your \u003ccode\u003eMain\u003c/code\u003e class).\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"applic","tf":13},{"term":"redeploi","tf":10},{"term":"class","tf":8},{"term":"configur","tf":8},{"term":"chang","tf":6},{"term":"featur","tf":5},{"term":"file","tf":5},{"term":"us","tf":4},{"term":"launch","tf":4},{"term":"id","tf":3},{"term":"not","tf":3},{"term":"build","tf":3},{"term":"tool","tf":3},{"term":"process","tf":3},{"term":"listen","tf":3},{"term":"stop","tf":3},{"term":"restart","tf":3},{"term":"set","tf":3},{"term":"let","tf":3},{"term":"explain","tf":2},{"term":"howev","tf":2},{"term":"integr","tf":2},{"term":"plug","tf":2},{"term":"actual","tf":2},{"term":"mode","tf":2}]},{"filename":"blog/2015-11-30-combine-vert-x-and-mongo-to-build-a-giant.mdx","date":"2015-11-30","slug":"combine-vert-x-and-mongo-to-build-a-giant","meta":{"title":"Combine vert.x and mongo to build a giant","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"This blog post is part of the introduction to Vert.x series. We are now going to replace this JDBC client by the vertx-mongo-client, and thus connect to a Mongo database."},"readingTime":{"text":"10 min read","minutes":9.07,"time":544200,"words":1814},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"This blog post is part of the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"in\\xADtro\\xADduc\\xADtion to vert.x\"), \" se\\xADries. Last time, we have seen how we can use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-jdbc-client\"), \" to con\\xADnect to a data\\xADbase using a JDBC dri\\xADver. In this post, we are going to re\\xADplace this JDBC client by the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-mongo-client\"), \", and thus con\\xADnect to a Mongo data\\xADbase.\"), mdx(\"p\", null, \"You don\\u2019t un\\xADder\\xADstand the title, check the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.mongodb.org\"\n  }), \"mon\\xADgoDB\"), \" web\\xADsite.\"), mdx(\"p\", null, \"But be\\xADfore going fur\\xADther, let\\u2019s recap.\"), mdx(\"h2\", {\n    \"id\": \"previously-in--introduction-to-vertx\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#previously-in--introduction-to-vertx\"\n  })), \"Previously in  \\u2018introduction to vert.x\\u2019\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The \", mdx(Link, {\n    href: \"/blog/[[...slug]]\",\n    as: \"/blog/my-first-vert-x-3-application/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", null, \"first post\")), \" has de\\xADscribed how to build a vert.x ap\\xADpli\\xADca\\xADtion with Maven and ex\\xADe\\xADcute unit tests.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The \", mdx(Link, {\n    href: \"/blog/[[...slug]]\",\n    as: \"/blog/vert-x-application-configuration/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", null, \"sec\\xADond post\")), \" has de\\xADscribed how this ap\\xADpli\\xADca\\xADtion can be\\xADcome con\\xADfig\\xADurable.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The \", mdx(Link, {\n    href: \"/blog/[[...slug]]\",\n    as: \"/blog/some-rest-with-vert-x/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", null, \"third post\")), \" has in\\xADtro\\xADduced \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://vertx.io/docs/vertx-web/java/\"\n  }), \"vertx-\\u200Bweb\"), \", and a small col\\xADlec\\xADtion man\\xADage\\xADment ap\\xADpli\\xADca\\xADtion has been de\\xADvel\\xADoped. This ap\\xADpli\\xADca\\xADtion of\\xADfers a REST API used by a HTML/JavaScript fron\\xADtend.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The \", mdx(Link, {\n    href: \"/blog/[[...slug]]\",\n    as: \"/blog/unit-and-integration-tests/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", null, \"fourth post\")), \" has pre\\xADsented how you can run in\\xADte\\xADgra\\xADtion tests to en\\xADsure the be\\xADhav\\xADior of your ap\\xADpli\\xADca\\xADtion.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The \", mdx(Link, {\n    href: \"/blog/[[...slug]]\",\n    as: \"/blog/using-the-asynchronous-sql-client/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", null, \"last post\")), \" has pre\\xADsented how you can in\\xADter\\xADact with a JDBC data\\xADbase using the vertx-\\u200Bjdbc-client.\")), mdx(\"p\", null, \"This post shows an\\xADother client that lets you use Mon\\xADgoDB in a vert.x ap\\xADpli\\xADca\\xADtion. This client pro\\xADvides an vert.x API to ac\\xADcess asyn\\xADchro\\xADnously to the Mongo data\\xADbase. We won\\u2019t com\\xADpare whether or not JDBC is su\\xADpe\\xADrior to Mongo, they have both pros and cons, and you should use the one that meet your re\\xADquire\\xADments. Vert.x lets you choose, that\\u2019s the point.\"), mdx(\"p\", null, \"The vertx-\\u200Bmongo-client doc\\xADu\\xADmen\\xADta\\xADtion is avail\\xADable \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vertx.io/docs/vertx-mongo-client/java/\"\n  }), \"here\"), \".\"), mdx(\"p\", null, \"The code de\\xADvel\\xADoped in this blog post is avail\\xADable in the branch \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/cescoffier/my-vertx-first-app/tree/post-6\"\n  }), \"post-6\"), \". Our start\\xADing point is the code from the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/cescoffier/my-vertx-first-app/tree/post-5\"\n  }), \"post-5 branch\"), \".\"), mdx(\"h2\", {\n    \"id\": \"asynchronous-data-access\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#asynchronous-data-access\"\n  })), \"Asynchronous data access\"), mdx(\"p\", null, \"One of the vert.x char\\xADac\\xADter\\xADis\\xADtics is being asyn\\xADchro\\xADnous. With an asyn\\xADchro\\xADnous API, you don\\u2019t wait for a re\\xADsult, but you are no\\xADti\\xADfied when this re\\xADsult is ready. Thanks to vert.x, this no\\xADti\\xADfi\\xADca\\xADtion hap\\xADpens in the same thread (un\\xADder\\xADstand event loop) as the ini\\xADtial re\\xADquest:\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/images/blog/intro-series/async-data.png\",\n    \"alt\": \"Asynchronous data access\"\n  }))), mdx(\"p\", null, \"Your code (on the left) is going to in\\xADvoke the mongo client and pass a call\\xADback that will be in\\xADvoked when the re\\xADsult is avail\\xADable. The in\\xADvo\\xADca\\xADtion to the mongo client is non block\\xADing and re\\xADturns im\\xADme\\xADdi\\xADately. The client is deal\\xADing with the mongo data\\xADbase and when the re\\xADsult has been com\\xADputed / re\\xADtrieved, it in\\xADvokes the call\\xADback in the same event loop as the re\\xADquest.\"), mdx(\"p\", null, \"This model is par\\xADtic\\xADu\\xADlarly pow\\xADer\\xADful as it avoids the syn\\xADchro\\xADniza\\xADtion pit\\xADfalls. In\\xADdeed, your code is only called by a sin\\xADgle thread, no need to syn\\xADchro\\xADnize any\\xADthing.\"), mdx(\"h2\", {\n    \"id\": \"as-with-every-maven-project\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#as-with-every-maven-project\"\n  })), \"As with every Maven project\\u2026\"), mdx(\"p\", null, \"\\u2026 we need to up\\xADdate the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \" file first.\"), mdx(\"p\", null, \"In the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \" file, re\\xADplace the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-jdbc-client\"), \" by the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-mongo-client\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-xml\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependency\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"io.vertx\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"vertx-mongo-client\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"3.1.0\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependency\"), \"\u003e\"), \"\\n\")), mdx(\"p\", null, \"Un\\xADlike JDBC where we were in\\xADstan\\xADti\\xADat\\xADing a data\\xADbase on the fly, here we need to ex\\xADplic\\xADitly starts a Mon\\xADgoDB server. In order to launch a Mongo server in our test, we are going to add an\\xADother de\\xADpen\\xADdency:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-xml\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependency\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"de.flapdoodle.embed\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"de.flapdoodle.embed.mongo\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"1.50.0\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"scope\"), \"\u003e\"), \"test\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"scope\"), \"\u003e\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependency\"), \"\u003e\"), \"\\n\")), mdx(\"p\", null, \"This de\\xADpen\\xADdency will be used in our unit tests, as it lets us start a mongo server pro\\xADgram\\xADmat\\xADi\\xADcally. For our in\\xADte\\xADgra\\xADtion tests, we are going to use a Maven plug\\xADin start\\xADing and stop\\xADping the mongo server be\\xADfore and after our in\\xADte\\xADgra\\xADtion tests. Add this plug\\xADin to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\u003cplugins/\u003e\"), \" sec\\xADtion of your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \" file.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-xml\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"plugin\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"com.github.joelittlejohn.embedmongo\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"embedmongo-maven-plugin\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"0.2.0\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"executions\"), \"\u003e\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"execution\"), \"\u003e\"), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"id\"), \"\u003e\"), \"start\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"id\"), \"\u003e\"), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"goals\"), \"\u003e\"), \"\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"goal\"), \"\u003e\"), \"start\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"goal\"), \"\u003e\"), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"goals\"), \"\u003e\"), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"configuration\"), \"\u003e\"), \"\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"port\"), \"\u003e\"), \"37017\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"port\"), \"\u003e\"), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"configuration\"), \"\u003e\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"execution\"), \"\u003e\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"execution\"), \"\u003e\"), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"id\"), \"\u003e\"), \"stop\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"id\"), \"\u003e\"), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"goals\"), \"\u003e\"), \"\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"goal\"), \"\u003e\"), \"stop\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"goal\"), \"\u003e\"), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"goals\"), \"\u003e\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"execution\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"executions\"), \"\u003e\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"plugin\"), \"\u003e\"), \"\\n\")), mdx(\"p\", null, \"No\\xADtice the port we use here (37017), we will use this port later.\"), mdx(\"h2\", {\n    \"id\": \"enough-xml-for-today\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#enough-xml-for-today\"\n  })), \"Enough XML for today\"), mdx(\"p\", null, \"Now that we have up\\xADdated our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \" file, it\\u2019s time to change our ver\\xADti\\xADcle. The first thing to do is to re\\xADplace the jdbc client by the mongo client:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"mongo = MongoClient.createShared(vertx, config());\\n\")), mdx(\"p\", null, \"This client is con\\xADfig\\xADured with the con\\xADfig\\xADu\\xADra\\xADtion given to the ver\\xADti\\xADcle (more on this below).\"), mdx(\"p\", null, \"Once done, we need to change how we start the ap\\xADpli\\xADca\\xADtion. With the mongo client, no need to ac\\xADquire a con\\xADnec\\xADtion, it han\\xADdles this in\\xADter\\xADnally. So our startup se\\xADquence is a bit more sim\\xADple:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"createSomeData(\\n    (nothing) -\u003e startWebApp(\\n        (http) -\u003e completeStartup(http, fut)\\n    ), fut);\\n\")), mdx(\"p\", null, \"As in the pre\\xADvi\\xADous post, we need to in\\xADsert some pre\\xADde\\xADfined data if the data\\xADbase is empty:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"createSomeData\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(Handler\u003cAsyncResult\u003cVoid\u003e\u003e next, Future\u003cVoid\u003e fut)\"), \" \"), \"{\\n  Whisky bowmore = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" Whisky(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Bowmore 15 Years Laimrig\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Scotland, Islay\\\"\"), \");\\n  Whisky talisker = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" Whisky(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Talisker 57\\xB0 North\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Scotland, Island\\\"\"), \");\\n  System.out.println(bowmore.toJson());\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Do we have data in the collection ?\"), \"\\n  mongo.count(COLLECTION, \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject(), count -\u003e {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (count.succeeded()) {\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (count.result() == \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"0\"), \") {\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// no whiskies, insert data\"), \"\\n        mongo.insert(COLLECTION, bowmore.toJson(), ar -\u003e {\\n          \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (ar.failed()) {\\n            fut.fail(ar.cause());\\n          } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n            mongo.insert(COLLECTION, talisker.toJson(), ar2 -\u003e {\\n              \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (ar2.failed()) {\\n                fut.failed();\\n              } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n                next.handle(Future.\u003cVoid\u003esucceededFuture());\\n              }\\n            });\\n          }\\n        });\\n      } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n        next.handle(Future.\u003cVoid\u003esucceededFuture());\\n      }\\n    } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// report the error\"), \"\\n      fut.fail(count.cause());\\n    }\\n  });\\n}\\n\")), mdx(\"p\", null, \"To de\\xADtect whether or not the data\\xADbase al\\xADready con\\xADtains some data, we re\\xADtrieve the num\\xADber of \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"doc\\xADu\\xADments\"), \" from the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"whiskies\"), \" col\\xADlec\\xADtion. This is done with : \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mongo.count(COLLECTION, new JsonObject(), count -\u003e {})\"), \". The sec\\xADond pa\\xADra\\xADme\\xADter is the query. In our case, we want to count all doc\\xADu\\xADments. This is done using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"new JsonObject()\"), \" that would cre\\xADate a query ac\\xADcept\\xADing all doc\\xADu\\xADments from the col\\xADlec\\xADtion (it\\u2019s equiv\\xADa\\xADlent to a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SELECT * FROM ...\"), \").\"), mdx(\"p\", null, \"Also no\\xADtice the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"insert\"), \" calls. Doc\\xADu\\xADments are passed as JSON ob\\xADject, so to in\\xADsert an ob\\xADject, just se\\xADri\\xADal\\xADize it to JSON and use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mongo.insert(COLLECTION, json, completion handler)\"), \".\"), mdx(\"h2\", {\n    \"id\": \"mongo-ize-the-rest-handlers\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#mongo-ize-the-rest-handlers\"\n  })), \"Mongo-ize the REST handlers\"), mdx(\"p\", null, \"Now that the ap\\xADpli\\xADca\\xADtion boot se\\xADquence has been mi\\xADgrated to mongo, it\\u2019s time to up\\xADdate the code han\\xADdling the REST re\\xADquests.\"), mdx(\"p\", null, \"Let\\u2019s start by the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"getAll\"), \" method that re\\xADturns all stored prod\\xADucts. To im\\xADple\\xADment this, we use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"find\"), \" method. As we saw for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"count\"), \" method, we pass an empty json ob\\xADject to de\\xADscribe a query ac\\xADcept\\xADing all doc\\xADu\\xADments:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"getAll\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(RoutingContext routingContext)\"), \" \"), \"{\\n  mongo.find(COLLECTION, \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject(), results -\u003e {\\n    List\u003cJsonObject\u003e objects = results.result();\\n    List\u003cWhisky\u003e whiskies = objects.stream().map(Whisky::\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \").collect(Collectors.toList());\\n    routingContext.response()\\n        .putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"application/json; charset=utf-8\\\"\"), \")\\n        .end(Json.encodePrettily(whiskies));\\n  });\\n}\\n\")), mdx(\"p\", null, \"The query re\\xADsults are passed as a list of JSON ob\\xADjects. From this list we can cre\\xADate our prod\\xADuct in\\xADstances, and fill the HTTP re\\xADsponse with this set.\"), mdx(\"p\", null, \"To delete a spe\\xADcific doc\\xADu\\xADment we need to se\\xADlect the doc\\xADu\\xADment using its \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"id\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"deleteOne\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(RoutingContext routingContext)\"), \" \"), \"{\\n  String id = routingContext.request().getParam(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"id\\\"\"), \");\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (id == \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"null\"), \") {\\n    routingContext.response().setStatusCode(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"400\"), \").end();\\n  } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n    mongo.removeOne(COLLECTION, \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject().put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"_id\\\"\"), \", id),\\n        ar -\u003e routingContext.response().setStatusCode(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"204\"), \").end());\\n  }\\n}\\n\")), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"new JsonObject().put(\\\"_id\\\", id)\"), \" de\\xADscribes a query se\\xADlect\\xADing a sin\\xADgle doc\\xADu\\xADment (se\\xADlected by its unique \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"id\"), \", so it\\u2019s the equiv\\xADa\\xADlent to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SELECT * WHERE id=...\"), \"). No\\xADtice the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"_id\"), \" which is a mongo trick to se\\xADlect a doc\\xADu\\xADment by id.\"), mdx(\"p\", null, \"Up\\xADdat\\xADing a doc\\xADu\\xADment is a less triv\\xADial:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"updateOne\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(RoutingContext routingContext)\"), \" \"), \"{\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"final\"), \" String id = routingContext.request().getParam(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"id\\\"\"), \");\\n  JsonObject json = routingContext.getBodyAsJson();\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (id == \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"null\"), \" || json == \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"null\"), \") {\\n    routingContext.response().setStatusCode(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"400\"), \").end();\\n  } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n    mongo.update(COLLECTION,\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject().put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"_id\\\"\"), \", id), \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Select a unique document\"), \"\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// The update syntax: {$set, the json object containing the fields to update}\"), \"\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject()\\n            .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"$set\\\"\"), \", json),\\n        v -\u003e {\\n          \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (v.failed()) {\\n            routingContext.response().setStatusCode(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"404\"), \").end();\\n          } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n            routingContext.response()\\n                .putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"application/json; charset=utf-8\\\"\"), \")\\n                .end(Json.encodePrettily(\\n                  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" Whisky(id, json.getString(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"name\\\"\"), \"),\\n                    json.getString(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"origin\\\"\"), \"))));\\n          }\\n        });\\n  }\\n}\\n\")), mdx(\"p\", null, \"As we can see, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"update\"), \" method takes two JSON ob\\xADjects as pa\\xADra\\xADme\\xADter:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The first one de\\xADnotes the query (here we se\\xADlect a sin\\xADgle doc\\xADu\\xADment using its id).\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The sec\\xADond ob\\xADject ex\\xADpresses the change to apply to the se\\xADlected doc\\xADu\\xADment. It uses a mongo syn\\xADtax. In our case, we up\\xADdate the doc\\xADu\\xADment using the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"$set\"), \" op\\xADer\\xADa\\xADtor.\")), mdx(Alert, {\n    info: true,\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"In this code we up\\xADdate the doc\\xADu\\xADment and re\\xADplace only a set of fields. You can also re\\xADplace the whole doc\\xADu\\xADment using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mongo.replace(...)\"), \".\")), mdx(\"p\", null, \"I def\\xADi\\xADnitely rec\\xADom\\xADmend to have a look to the Mon\\xADgoDB doc\\xADu\\xADmen\\xADta\\xADtion, es\\xADpe\\xADcially:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://docs.mongodb.org/manual/tutorial/query-documents/\",\n    \"title\": \"MongoDB Query Documentation\"\n  }), \"Query syn\\xADtax doc\\xADu\\xADmen\\xADta\\xADtion\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://docs.mongodb.org/manual/tutorial/modify-documents/\",\n    \"title\": \"MongoDB Update Documentation\"\n  }), \"Up\\xADdate syn\\xADtax doc\\xADu\\xADmen\\xADta\\xADtion\"))), mdx(\"h2\", {\n    \"id\": \"time-for-configuration\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#time-for-configuration\"\n  })), \"Time for configuration\"), mdx(\"p\", null, \"Well, the code is mi\\xADgrated, but we still need to up\\xADdate the con\\xADfig\\xADu\\xADra\\xADtion. With JDBC we passed the JDBC url and the dri\\xADver class in the con\\xADfig\\xADu\\xADra\\xADtion. With mongo, we need to con\\xADfig\\xADure the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"connection_string\"), \" - the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mongo://\"), \" url on which the ap\\xADpli\\xADca\\xADtion is con\\xADnected, and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"db_name\"), \" - a name for the data source.\"), mdx(\"p\", null, \"Let\\u2019s start by the unit test. Edit the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MyFirstVerticleTest\"), \" file and add the fol\\xADlow\\xADing code:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"static\"), \" MongodProcess MONGO;\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"static\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"int\"), \" MONGO_PORT = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"12345\"), \";\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@BeforeClass\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"static\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"initialize\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"throws\"), \" IOException \"), \"{\\n  MongodStarter starter = MongodStarter.getDefaultInstance();\\n  IMongodConfig mongodConfig = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" MongodConfigBuilder()\\n      .version(Version.Main.PRODUCTION)\\n      .net(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" Net(MONGO_PORT, Network.localhostIsIPv6()))\\n      .build();\\n  MongodExecutable mongodExecutable =\\n      starter.prepare(mongodConfig);\\n  MONGO = mongodExecutable.start();\\n}\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@AfterClass\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"static\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"shutdown\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{  MONGO.stop(); }\\n\")), mdx(\"p\", null, \"Be\\xADfore our tests, we start (pro\\xADgram\\xADmat\\xADi\\xADcally) a mongo data\\xADbase on the port 12345. When all our tests have been ex\\xADe\\xADcuted, we shut\\xADdown the data\\xADbase.\"), mdx(\"p\", null, \"So now that the mongo server is man\\xADaged, we need to to give the right con\\xADfig\\xADu\\xADra\\xADtion to our ver\\xADti\\xADcle. Up\\xADdate the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DeploymentOption\"), \" in\\xADstance with:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"DeploymentOptions options = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" DeploymentOptions()\\n    .setConfig(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject()\\n        .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"http.port\\\"\"), \", port)\\n        .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"db_name\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"whiskies-test\\\"\"), \")\\n        .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"connection_string\\\"\"), \",\\n            \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"mongodb://localhost:\\\"\"), \" + MONGO_PORT)\\n);\\n\")), mdx(\"p\", null, \"That\\u2019s all for the unit tests.\"), mdx(\"p\", null, \"For the integration-\\u200Btest, we are using an ex\\xADter\\xADnal\\xADized json file. Edit the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/test/resources/my-it-config.json\"), \" with the fol\\xADlow\\xADing con\\xADtent:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-json\"\n  }), \"{\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"http.port\\\"\"), \": ${http.port},\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"db_name\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"whiskies-it\\\"\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"connection_string\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"mongodb://localhost:37017\\\"\"), \"\\n}\\n\")), mdx(\"p\", null, \"No\\xADtice the port we are using for the mongo server. This port was con\\xADfig\\xADured in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \" file.\"), mdx(\"p\", null, \"Last but not least, we still have a con\\xADfig\\xADu\\xADra\\xADtion file to edit: the con\\xADfig\\xADu\\xADra\\xADtion you use to launch the ap\\xADpli\\xADca\\xADtion in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"production\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-json\"\n  }), \"{\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"http.port\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8082\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"db_name\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"whiskies\\\"\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"connection_string\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"mongodb://localhost:27017\\\"\"), \"\\n}\\n\")), mdx(\"p\", null, \"Here you would need to edit the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"localhost:27017\"), \" with the right url for your mongo server.\"), mdx(Alert, {\n    info: true,\n    title: \"Some changes in the integration tests\",\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"Be\\xADcause mongo doc\\xADu\\xADment id are String and not in\\xADte\\xADger, we have to slightly change doc\\xADu\\xADment se\\xADlec\\xADtion in the in\\xADte\\xADgra\\xADtion test.\")), mdx(\"h2\", {\n    \"id\": \"time-for-a-run\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#time-for-a-run\"\n  })), \"Time for a run\"), mdx(\"p\", null, \"It\\u2019s time to pack\\xADage and run the ap\\xADpli\\xADca\\xADtion and check that every\\xADthing works as ex\\xADpected. Let\\u2019s pack\\xADage the ap\\xADpli\\xADca\\xADtion using:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-text\"\n  }), \"mvn clean verify\\n\")), mdx(\"p\", null, \"And then to launch it, start your mongo server and launch:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-text\"\n  }), \"java -jar target/my-first-app-1.0-SNAPSHOT-fat.jar \\\\\\n  -conf src/main/conf/my-application-conf.json\\n\")), mdx(\"p\", null, \"If you are, like me, using docker / docker-\\u200Bmachine for al\\xADmost every\\xADthing, edit the con\\xADfig\\xADu\\xADra\\xADtion file to refer to the right host (lo\\xADcal\\xADhost for docker, the docker-\\u200Bmachine ip if you use docker-\\u200Bmachine) and then launch:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"docker run -d -p 27017:27017 mongo\\njava -jar target/my-first-app-1.0-SNAPSHOT-fat.jar \\\\\\n  -conf src/main/conf/my-application-conf.json\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"# or\"), \"\\njava -jar target/my-first-app-1.0-SNAPSHOT-fat.jar \\\\\\n  -conf src/main/conf/my-application-conf-docker-machine.json\\n\")), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/images/blog/intro-series/whisky-mongo.png\",\n    \"alt\": \"The application live and running\"\n  }))), mdx(\"h2\", {\n    \"id\": \"thats-all-folks\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#thats-all-folks\"\n  })), \"That\\u2019s all folks!\"), mdx(\"p\", null, \"We are reach\\xADing the end of this post. We saw how you can use the vert-\\u200Bmongo-client to ac\\xADcess asyn\\xADchro\\xADnously data stored in\\xADside a mongo data\\xADbase as well as in\\xADsert\\xADing/up\\xADdat\\xADing this data. Now you have the choice be\\xADtween JDBC or Mongo. In ad\\xADdi\\xADtion, vert.x pro\\xADvides a client for Redis.\"), mdx(\"p\", null, \"Next time, we will see how the ver\\xADti\\xADcle class can be split in two ver\\xADti\\xADcles in order to bet\\xADter or\\xADga\\xADnize your code. The in\\xADter\\xADac\\xADtion be\\xADtween the two ver\\xADti\\xADcles will uses \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"ser\\xADvices\"), \".\"), mdx(\"p\", null, \"Stay tuned \u0026 Happy cod\\xADing!\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eThis blog post is part of the \u003cem\u003ein¬≠tro¬≠duc¬≠tion to vert.x\u003c/em\u003e se¬≠ries. Last time, we have seen how we can use the \u003ccode\u003evertx-jdbc-client\u003c/code\u003e to con¬≠nect to a data¬≠base using a JDBC dri¬≠ver. In this post, we are going to re¬≠place this JDBC client by the \u003ccode\u003evertx-mongo-client\u003c/code\u003e, and thus con¬≠nect to a Mongo data¬≠base.\u003c/p\u003e\u003cp\u003eYou don‚Äôt un¬≠der¬≠stand the title, check the \u003ca href=\"https://www.mongodb.org\"\u003emon¬≠goDB\u003c/a\u003e web¬≠site.\u003c/p\u003e\u003cp\u003eBut be¬≠fore going fur¬≠ther, let‚Äôs recap.\u003c/p\u003e\u003ch2 id=\"previously-in--introduction-to-vertx\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#previously-in--introduction-to-vertx\"\u003e\u003c/a\u003ePreviously in  ‚Äòintroduction to vert.x‚Äô\u003c/h2\u003e\u003col\u003e\u003cli\u003eThe \u003ca href=\"/blog/my-first-vert-x-3-application/\"\u003efirst post\u003c/a\u003e has de¬≠scribed how to build a vert.x ap¬≠pli¬≠ca¬≠tion with Maven and ex¬≠e¬≠cute unit tests.\u003c/li\u003e\u003cli\u003eThe \u003ca href=\"/blog/vert-x-application-configuration/\"\u003esec¬≠ond post\u003c/a\u003e has de¬≠scribed how this ap¬≠pli¬≠ca¬≠tion can be¬≠come con¬≠fig¬≠urable.\u003c/li\u003e\u003cli\u003eThe \u003ca href=\"/blog/some-rest-with-vert-x/\"\u003ethird post\u003c/a\u003e has in¬≠tro¬≠duced \u003ca href=\"http://vertx.io/docs/vertx-web/java/\"\u003evertx-‚Äãweb\u003c/a\u003e, and a small col¬≠lec¬≠tion man¬≠age¬≠ment ap¬≠pli¬≠ca¬≠tion has been de¬≠vel¬≠oped. This ap¬≠pli¬≠ca¬≠tion of¬≠fers a REST API used by a HTML/JavaScript fron¬≠tend.\u003c/li\u003e\u003cli\u003eThe \u003ca href=\"/blog/unit-and-integration-tests/\"\u003efourth post\u003c/a\u003e has pre¬≠sented how you can run in¬≠te¬≠gra¬≠tion tests to en¬≠sure the be¬≠hav¬≠ior of your ap¬≠pli¬≠ca¬≠tion.\u003c/li\u003e\u003cli\u003eThe \u003ca href=\"/blog/using-the-asynchronous-sql-client/\"\u003elast post\u003c/a\u003e has pre¬≠sented how you can in¬≠ter¬≠act with a JDBC data¬≠base using the vertx-‚Äãjdbc-client.\u003c/li\u003e\u003c/ol\u003e\u003cp\u003eThis post shows an¬≠other client that lets you use Mon¬≠goDB in a vert.x ap¬≠pli¬≠ca¬≠tion. This client pro¬≠vides an vert.x API to ac¬≠cess asyn¬≠chro¬≠nously to the Mongo data¬≠base. We won‚Äôt com¬≠pare whether or not JDBC is su¬≠pe¬≠rior to Mongo, they have both pros and cons, and you should use the one that meet your re¬≠quire¬≠ments. Vert.x lets you choose, that‚Äôs the point.\u003c/p\u003e\u003cp\u003eThe vertx-‚Äãmongo-client doc¬≠u¬≠men¬≠ta¬≠tion is avail¬≠able \u003ca href=\"http://vertx.io/docs/vertx-mongo-client/java/\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eThe code de¬≠vel¬≠oped in this blog post is avail¬≠able in the branch \u003ca href=\"https://github.com/cescoffier/my-vertx-first-app/tree/post-6\"\u003epost-6\u003c/a\u003e. Our start¬≠ing point is the code from the \u003ca href=\"https://github.com/cescoffier/my-vertx-first-app/tree/post-5\"\u003epost-5 branch\u003c/a\u003e.\u003c/p\u003e\u003ch2 id=\"asynchronous-data-access\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#asynchronous-data-access\"\u003e\u003c/a\u003eAsynchronous data access\u003c/h2\u003e\u003cp\u003eOne of the vert.x char¬≠ac¬≠ter¬≠is¬≠tics is being asyn¬≠chro¬≠nous. With an asyn¬≠chro¬≠nous API, you don‚Äôt wait for a re¬≠sult, but you are no¬≠ti¬≠fied when this re¬≠sult is ready. Thanks to vert.x, this no¬≠ti¬≠fi¬≠ca¬≠tion hap¬≠pens in the same thread (un¬≠der¬≠stand event loop) as the ini¬≠tial re¬≠quest:\u003c/p\u003e\u003cp\u003e\u003cimg src=\"/images/blog/intro-series/async-data.png\" alt=\"Asynchronous data access\"/\u003e\u003c/p\u003e\u003cp\u003eYour code (on the left) is going to in¬≠voke the mongo client and pass a call¬≠back that will be in¬≠voked when the re¬≠sult is avail¬≠able. The in¬≠vo¬≠ca¬≠tion to the mongo client is non block¬≠ing and re¬≠turns im¬≠me¬≠di¬≠ately. The client is deal¬≠ing with the mongo data¬≠base and when the re¬≠sult has been com¬≠puted / re¬≠trieved, it in¬≠vokes the call¬≠back in the same event loop as the re¬≠quest.\u003c/p\u003e\u003cp\u003eThis model is par¬≠tic¬≠u¬≠larly pow¬≠er¬≠ful as it avoids the syn¬≠chro¬≠niza¬≠tion pit¬≠falls. In¬≠deed, your code is only called by a sin¬≠gle thread, no need to syn¬≠chro¬≠nize any¬≠thing.\u003c/p\u003e\u003ch2 id=\"as-with-every-maven-project\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#as-with-every-maven-project\"\u003e\u003c/a\u003eAs with every Maven project‚Ä¶\u003c/h2\u003e\u003cp\u003e‚Ä¶ we need to up¬≠date the \u003ccode\u003epom.xml\u003c/code\u003e file first.\u003c/p\u003e\u003cp\u003eIn the \u003ccode\u003epom.xml\u003c/code\u003e file, re¬≠place the \u003ccode\u003evertx-jdbc-client\u003c/code\u003e by the \u003ccode\u003evertx-mongo-client\u003c/code\u003e:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-mongo-client\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.1.0\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eUn¬≠like JDBC where we were in¬≠stan¬≠ti¬≠at¬≠ing a data¬≠base on the fly, here we need to ex¬≠plic¬≠itly starts a Mon¬≠goDB server. In order to launch a Mongo server in our test, we are going to add an¬≠other de¬≠pen¬≠dency:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003ede.flapdoodle.embed\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003ede.flapdoodle.embed.mongo\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e1.50.0\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escope\u003c/span\u003e\u0026gt;\u003c/span\u003etest\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escope\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis de¬≠pen¬≠dency will be used in our unit tests, as it lets us start a mongo server pro¬≠gram¬≠mat¬≠i¬≠cally. For our in¬≠te¬≠gra¬≠tion tests, we are going to use a Maven plug¬≠in start¬≠ing and stop¬≠ping the mongo server be¬≠fore and after our in¬≠te¬≠gra¬≠tion tests. Add this plug¬≠in to the \u003ccode\u003e\u0026lt;plugins/\u0026gt;\u003c/code\u003e sec¬≠tion of your \u003ccode\u003epom.xml\u003c/code\u003e file.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eplugin\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003ecom.github.joelittlejohn.embedmongo\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003eembedmongo-maven-plugin\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e0.2.0\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eexecutions\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eexecution\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eid\u003c/span\u003e\u0026gt;\u003c/span\u003estart\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eid\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egoals\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egoal\u003c/span\u003e\u0026gt;\u003c/span\u003estart\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egoal\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egoals\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003econfiguration\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eport\u003c/span\u003e\u0026gt;\u003c/span\u003e37017\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eport\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003econfiguration\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eexecution\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eexecution\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eid\u003c/span\u003e\u0026gt;\u003c/span\u003estop\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eid\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egoals\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egoal\u003c/span\u003e\u0026gt;\u003c/span\u003estop\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egoal\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egoals\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eexecution\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eexecutions\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eplugin\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNo¬≠tice the port we use here (37017), we will use this port later.\u003c/p\u003e\u003ch2 id=\"enough-xml-for-today\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#enough-xml-for-today\"\u003e\u003c/a\u003eEnough XML for today\u003c/h2\u003e\u003cp\u003eNow that we have up¬≠dated our \u003ccode\u003epom.xml\u003c/code\u003e file, it‚Äôs time to change our ver¬≠ti¬≠cle. The first thing to do is to re¬≠place the jdbc client by the mongo client:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003emongo = MongoClient.createShared(vertx, config());\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis client is con¬≠fig¬≠ured with the con¬≠fig¬≠u¬≠ra¬≠tion given to the ver¬≠ti¬≠cle (more on this below).\u003c/p\u003e\u003cp\u003eOnce done, we need to change how we start the ap¬≠pli¬≠ca¬≠tion. With the mongo client, no need to ac¬≠quire a con¬≠nec¬≠tion, it han¬≠dles this in¬≠ter¬≠nally. So our startup se¬≠quence is a bit more sim¬≠ple:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003ecreateSomeData(\n    (nothing) -\u0026gt; startWebApp(\n        (http) -\u0026gt; completeStartup(http, fut)\n    ), fut);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAs in the pre¬≠vi¬≠ous post, we need to in¬≠sert some pre¬≠de¬≠fined data if the data¬≠base is empty:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ecreateSomeData\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Handler\u0026lt;AsyncResult\u0026lt;Void\u0026gt;\u0026gt; next, Future\u0026lt;Void\u0026gt; fut)\u003c/span\u003e \u003c/span\u003e{\n  Whisky bowmore = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e Whisky(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Bowmore 15 Years Laimrig\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Scotland, Islay\u0026quot;\u003c/span\u003e);\n  Whisky talisker = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e Whisky(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Talisker 57¬∞ North\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Scotland, Island\u0026quot;\u003c/span\u003e);\n  System.out.println(bowmore.toJson());\n  \u003cspan class=\"hljs-comment\"\u003e// Do we have data in the collection ?\u003c/span\u003e\n  mongo.count(COLLECTION, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject(), count -\u0026gt; {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (count.succeeded()) {\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (count.result() == \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) {\n        \u003cspan class=\"hljs-comment\"\u003e// no whiskies, insert data\u003c/span\u003e\n        mongo.insert(COLLECTION, bowmore.toJson(), ar -\u0026gt; {\n          \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.failed()) {\n            fut.fail(ar.cause());\n          } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n            mongo.insert(COLLECTION, talisker.toJson(), ar2 -\u0026gt; {\n              \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar2.failed()) {\n                fut.failed();\n              } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n                next.handle(Future.\u0026lt;Void\u0026gt;succeededFuture());\n              }\n            });\n          }\n        });\n      } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n        next.handle(Future.\u0026lt;Void\u0026gt;succeededFuture());\n      }\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n      \u003cspan class=\"hljs-comment\"\u003e// report the error\u003c/span\u003e\n      fut.fail(count.cause());\n    }\n  });\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eTo de¬≠tect whether or not the data¬≠base al¬≠ready con¬≠tains some data, we re¬≠trieve the num¬≠ber of \u003cem\u003edoc¬≠u¬≠ments\u003c/em\u003e from the \u003ccode\u003ewhiskies\u003c/code\u003e col¬≠lec¬≠tion. This is done with : \u003ccode\u003emongo.count(COLLECTION, new JsonObject(), count -\u0026gt; {})\u003c/code\u003e. The sec¬≠ond pa¬≠ra¬≠me¬≠ter is the query. In our case, we want to count all doc¬≠u¬≠ments. This is done using \u003ccode\u003enew JsonObject()\u003c/code\u003e that would cre¬≠ate a query ac¬≠cept¬≠ing all doc¬≠u¬≠ments from the col¬≠lec¬≠tion (it‚Äôs equiv¬≠a¬≠lent to a \u003ccode\u003eSELECT * FROM ...\u003c/code\u003e).\u003c/p\u003e\u003cp\u003eAlso no¬≠tice the \u003ccode\u003einsert\u003c/code\u003e calls. Doc¬≠u¬≠ments are passed as JSON ob¬≠ject, so to in¬≠sert an ob¬≠ject, just se¬≠ri¬≠al¬≠ize it to JSON and use \u003ccode\u003emongo.insert(COLLECTION, json, completion handler)\u003c/code\u003e.\u003c/p\u003e\u003ch2 id=\"mongo-ize-the-rest-handlers\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#mongo-ize-the-rest-handlers\"\u003e\u003c/a\u003eMongo-ize the REST handlers\u003c/h2\u003e\u003cp\u003eNow that the ap¬≠pli¬≠ca¬≠tion boot se¬≠quence has been mi¬≠grated to mongo, it‚Äôs time to up¬≠date the code han¬≠dling the REST re¬≠quests.\u003c/p\u003e\u003cp\u003eLet‚Äôs start by the \u003ccode\u003egetAll\u003c/code\u003e method that re¬≠turns all stored prod¬≠ucts. To im¬≠ple¬≠ment this, we use the \u003ccode\u003efind\u003c/code\u003e method. As we saw for the \u003ccode\u003ecount\u003c/code\u003e method, we pass an empty json ob¬≠ject to de¬≠scribe a query ac¬≠cept¬≠ing all doc¬≠u¬≠ments:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetAll\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(RoutingContext routingContext)\u003c/span\u003e \u003c/span\u003e{\n  mongo.find(COLLECTION, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject(), results -\u0026gt; {\n    List\u0026lt;JsonObject\u0026gt; objects = results.result();\n    List\u0026lt;Whisky\u0026gt; whiskies = objects.stream().map(Whisky::\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e).collect(Collectors.toList());\n    routingContext.response()\n        .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;application/json; charset=utf-8\u0026quot;\u003c/span\u003e)\n        .end(Json.encodePrettily(whiskies));\n  });\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe query re¬≠sults are passed as a list of JSON ob¬≠jects. From this list we can cre¬≠ate our prod¬≠uct in¬≠stances, and fill the HTTP re¬≠sponse with this set.\u003c/p\u003e\u003cp\u003eTo delete a spe¬≠cific doc¬≠u¬≠ment we need to se¬≠lect the doc¬≠u¬≠ment using its \u003ccode\u003eid\u003c/code\u003e:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003edeleteOne\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(RoutingContext routingContext)\u003c/span\u003e \u003c/span\u003e{\n  String id = routingContext.request().getParam(\u003cspan class=\"hljs-string\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (id == \u003cspan class=\"hljs-keyword\"\u003enull\u003c/span\u003e) {\n    routingContext.response().setStatusCode(\u003cspan class=\"hljs-number\"\u003e400\u003c/span\u003e).end();\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    mongo.removeOne(COLLECTION, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;_id\u0026quot;\u003c/span\u003e, id),\n        ar -\u0026gt; routingContext.response().setStatusCode(\u003cspan class=\"hljs-number\"\u003e204\u003c/span\u003e).end());\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe \u003ccode\u003enew JsonObject().put(\u0026quot;_id\u0026quot;, id)\u003c/code\u003e de¬≠scribes a query se¬≠lect¬≠ing a sin¬≠gle doc¬≠u¬≠ment (se¬≠lected by its unique \u003ccode\u003eid\u003c/code\u003e, so it‚Äôs the equiv¬≠a¬≠lent to \u003ccode\u003eSELECT * WHERE id=...\u003c/code\u003e). No¬≠tice the \u003ccode\u003e_id\u003c/code\u003e which is a mongo trick to se¬≠lect a doc¬≠u¬≠ment by id.\u003c/p\u003e\u003cp\u003eUp¬≠dat¬≠ing a doc¬≠u¬≠ment is a less triv¬≠ial:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eupdateOne\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(RoutingContext routingContext)\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e String id = routingContext.request().getParam(\u003cspan class=\"hljs-string\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e);\n  JsonObject json = routingContext.getBodyAsJson();\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (id == \u003cspan class=\"hljs-keyword\"\u003enull\u003c/span\u003e || json == \u003cspan class=\"hljs-keyword\"\u003enull\u003c/span\u003e) {\n    routingContext.response().setStatusCode(\u003cspan class=\"hljs-number\"\u003e400\u003c/span\u003e).end();\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    mongo.update(COLLECTION,\n        \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;_id\u0026quot;\u003c/span\u003e, id), \u003cspan class=\"hljs-comment\"\u003e// Select a unique document\u003c/span\u003e\n        \u003cspan class=\"hljs-comment\"\u003e// The update syntax: {$set, the json object containing the fields to update}\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n            .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;$set\u0026quot;\u003c/span\u003e, json),\n        v -\u0026gt; {\n          \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (v.failed()) {\n            routingContext.response().setStatusCode(\u003cspan class=\"hljs-number\"\u003e404\u003c/span\u003e).end();\n          } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n            routingContext.response()\n                .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;application/json; charset=utf-8\u0026quot;\u003c/span\u003e)\n                .end(Json.encodePrettily(\n                  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e Whisky(id, json.getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e),\n                    json.getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;origin\u0026quot;\u003c/span\u003e))));\n          }\n        });\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAs we can see, the \u003ccode\u003eupdate\u003c/code\u003e method takes two JSON ob¬≠jects as pa¬≠ra¬≠me¬≠ter:\u003c/p\u003e\u003col\u003e\u003cli\u003eThe first one de¬≠notes the query (here we se¬≠lect a sin¬≠gle doc¬≠u¬≠ment using its id).\u003c/li\u003e\u003cli\u003eThe sec¬≠ond ob¬≠ject ex¬≠presses the change to apply to the se¬≠lected doc¬≠u¬≠ment. It uses a mongo syn¬≠tax. In our case, we up¬≠date the doc¬≠u¬≠ment using the \u003ccode\u003e$set\u003c/code\u003e op¬≠er¬≠a¬≠tor.\u003c/li\u003e\u003c/ol\u003e\u003cdiv class=\"alert info\"\u003e\u003cp\u003eIn this code we up¬≠date the doc¬≠u¬≠ment and re¬≠place only a set of fields. You can also re¬≠place the whole doc¬≠u¬≠ment using \u003ccode\u003emongo.replace(...)\u003c/code\u003e.\u003c/p\u003e\u003c/div\u003e\u003cp\u003eI def¬≠i¬≠nitely rec¬≠om¬≠mend to have a look to the Mon¬≠goDB doc¬≠u¬≠men¬≠ta¬≠tion, es¬≠pe¬≠cially:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://docs.mongodb.org/manual/tutorial/query-documents/\" title=\"MongoDB Query Documentation\"\u003eQuery syn¬≠tax doc¬≠u¬≠men¬≠ta¬≠tion\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://docs.mongodb.org/manual/tutorial/modify-documents/\" title=\"MongoDB Update Documentation\"\u003eUp¬≠date syn¬≠tax doc¬≠u¬≠men¬≠ta¬≠tion\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch2 id=\"time-for-configuration\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#time-for-configuration\"\u003e\u003c/a\u003eTime for configuration\u003c/h2\u003e\u003cp\u003eWell, the code is mi¬≠grated, but we still need to up¬≠date the con¬≠fig¬≠u¬≠ra¬≠tion. With JDBC we passed the JDBC url and the dri¬≠ver class in the con¬≠fig¬≠u¬≠ra¬≠tion. With mongo, we need to con¬≠fig¬≠ure the \u003ccode\u003econnection_string\u003c/code\u003e - the \u003ccode\u003emongo://\u003c/code\u003e url on which the ap¬≠pli¬≠ca¬≠tion is con¬≠nected, and \u003ccode\u003edb_name\u003c/code\u003e - a name for the data source.\u003c/p\u003e\u003cp\u003eLet‚Äôs start by the unit test. Edit the \u003ccode\u003eMyFirstVerticleTest\u003c/code\u003e file and add the fol¬≠low¬≠ing code:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e MongodProcess MONGO;\n\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eint\u003c/span\u003e MONGO_PORT = \u003cspan class=\"hljs-number\"\u003e12345\u003c/span\u003e;\n\u003cspan class=\"hljs-meta\"\u003e@BeforeClass\u003c/span\u003e\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003einitialize\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ethrows\u003c/span\u003e IOException \u003c/span\u003e{\n  MongodStarter starter = MongodStarter.getDefaultInstance();\n  IMongodConfig mongodConfig = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e MongodConfigBuilder()\n      .version(Version.Main.PRODUCTION)\n      .net(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e Net(MONGO_PORT, Network.localhostIsIPv6()))\n      .build();\n  MongodExecutable mongodExecutable =\n      starter.prepare(mongodConfig);\n  MONGO = mongodExecutable.start();\n}\n\n\u003cspan class=\"hljs-meta\"\u003e@AfterClass\u003c/span\u003e\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eshutdown\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{  MONGO.stop(); }\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eBe¬≠fore our tests, we start (pro¬≠gram¬≠mat¬≠i¬≠cally) a mongo data¬≠base on the port 12345. When all our tests have been ex¬≠e¬≠cuted, we shut¬≠down the data¬≠base.\u003c/p\u003e\u003cp\u003eSo now that the mongo server is man¬≠aged, we need to to give the right con¬≠fig¬≠u¬≠ra¬≠tion to our ver¬≠ti¬≠cle. Up¬≠date the \u003ccode\u003eDeploymentOption\u003c/code\u003e in¬≠stance with:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eDeploymentOptions options = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e DeploymentOptions()\n    .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n        .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;http.port\u0026quot;\u003c/span\u003e, port)\n        .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;db_name\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;whiskies-test\u0026quot;\u003c/span\u003e)\n        .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;connection_string\u0026quot;\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\u0026quot;mongodb://localhost:\u0026quot;\u003c/span\u003e + MONGO_PORT)\n);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThat‚Äôs all for the unit tests.\u003c/p\u003e\u003cp\u003eFor the integration-‚Äãtest, we are using an ex¬≠ter¬≠nal¬≠ized json file. Edit the \u003ccode\u003esrc/test/resources/my-it-config.json\u003c/code\u003e with the fol¬≠low¬≠ing con¬≠tent:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e{\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;http.port\u0026quot;\u003c/span\u003e: ${http.port},\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;db_name\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;whiskies-it\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;connection_string\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;mongodb://localhost:37017\u0026quot;\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNo¬≠tice the port we are using for the mongo server. This port was con¬≠fig¬≠ured in the \u003ccode\u003epom.xml\u003c/code\u003e file.\u003c/p\u003e\u003cp\u003eLast but not least, we still have a con¬≠fig¬≠u¬≠ra¬≠tion file to edit: the con¬≠fig¬≠u¬≠ra¬≠tion you use to launch the ap¬≠pli¬≠ca¬≠tion in \u003ccode\u003eproduction\u003c/code\u003e:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e{\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;http.port\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e8082\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;db_name\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;whiskies\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;connection_string\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;mongodb://localhost:27017\u0026quot;\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eHere you would need to edit the \u003ccode\u003elocalhost:27017\u003c/code\u003e with the right url for your mongo server.\u003c/p\u003e\u003cdiv class=\"alert info\"\u003e\u003cdiv class=\"alert-title\"\u003eSome changes in the integration tests\u003c/div\u003e\u003cp\u003eBe¬≠cause mongo doc¬≠u¬≠ment id are String and not in¬≠te¬≠ger, we have to slightly change doc¬≠u¬≠ment se¬≠lec¬≠tion in the in¬≠te¬≠gra¬≠tion test.\u003c/p\u003e\u003c/div\u003e\u003ch2 id=\"time-for-a-run\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#time-for-a-run\"\u003e\u003c/a\u003eTime for a run\u003c/h2\u003e\u003cp\u003eIt‚Äôs time to pack¬≠age and run the ap¬≠pli¬≠ca¬≠tion and check that every¬≠thing works as ex¬≠pected. Let‚Äôs pack¬≠age the ap¬≠pli¬≠ca¬≠tion using:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-text\"\u003emvn clean verify\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAnd then to launch it, start your mongo server and launch:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-text\"\u003ejava -jar target/my-first-app-1.0-SNAPSHOT-fat.jar \\\n  -conf src/main/conf/my-application-conf.json\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIf you are, like me, using docker / docker-‚Äãmachine for al¬≠most every¬≠thing, edit the con¬≠fig¬≠u¬≠ra¬≠tion file to refer to the right host (lo¬≠cal¬≠host for docker, the docker-‚Äãmachine ip if you use docker-‚Äãmachine) and then launch:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003edocker run -d -p 27017:27017 mongo\njava -jar target/my-first-app-1.0-SNAPSHOT-fat.jar \\\n  -conf src/main/conf/my-application-conf.json\n\u003cspan class=\"hljs-comment\"\u003e# or\u003c/span\u003e\njava -jar target/my-first-app-1.0-SNAPSHOT-fat.jar \\\n  -conf src/main/conf/my-application-conf-docker-machine.json\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cimg src=\"/images/blog/intro-series/whisky-mongo.png\" alt=\"The application live and running\"/\u003e\u003c/p\u003e\u003ch2 id=\"thats-all-folks\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#thats-all-folks\"\u003e\u003c/a\u003eThat‚Äôs all folks!\u003c/h2\u003e\u003cp\u003eWe are reach¬≠ing the end of this post. We saw how you can use the vert-‚Äãmongo-client to ac¬≠cess asyn¬≠chro¬≠nously data stored in¬≠side a mongo data¬≠base as well as in¬≠sert¬≠ing/up¬≠dat¬≠ing this data. Now you have the choice be¬≠tween JDBC or Mongo. In ad¬≠di¬≠tion, vert.x pro¬≠vides a client for Redis.\u003c/p\u003e\u003cp\u003eNext time, we will see how the ver¬≠ti¬≠cle class can be split in two ver¬≠ti¬≠cles in order to bet¬≠ter or¬≠ga¬≠nize your code. The in¬≠ter¬≠ac¬≠tion be¬≠tween the two ver¬≠ti¬≠cles will uses \u003cem\u003eser¬≠vices\u003c/em\u003e.\u003c/p\u003e\u003cp\u003eStay tuned \u0026amp; Happy cod¬≠ing!\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"us","tf":27},{"term":"mongo","tf":26},{"term":"document","tf":21},{"term":"client","tf":14},{"term":"post","tf":13},{"term":"applic","tf":12},{"term":"test","tf":12},{"term":"configur","tf":12},{"term":"databas","tf":11},{"term":"need","tf":11},{"term":"jdbc","tf":10},{"term":"code","tf":10},{"term":"updat","tf":10},{"term":"start","tf":9},{"term":"file","tf":9},{"term":"server","tf":8},{"term":"time","tf":7},{"term":"let","tf":7},{"term":"queri","tf":7},{"term":"select","tf":7},{"term":"data","tf":6},{"term":"verticl","tf":6},{"term":"json","tf":6},{"term":"object","tf":6},{"term":"go","tf":5}]},{"filename":"blog/2015-11-25-vert-x-es6-back-to-the-future.mdx","date":"2015-11-25","slug":"vert-x-es6-back-to-the-future","meta":{"title":"Vert.x ES6 back to the future","category":"guides","authors":[{"name":"Paulo Lopes","github_id":"pmlopes"}],"summary":"On October 21th, 2015 we all rejoiced with the return from the past of Marty McFly with his flying car and so on, however in the Vert.x world we were quite sad about our rather old JavaScript support."},"readingTime":{"text":"3 min read","minutes":2.42,"time":145200,"words":484},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"On \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://backtothefuture.wikia.com/wiki/2015\"\n  }), \"Oc\\xADto\\xADber 21th, 2015\"), \" we all re\\xADjoiced with the re\\xADturn from the past of\\nMarty McFly with his fly\\xADing car and so on, how\\xADever in the Vert.x world we were quite sad that the JavaScript sup\\xADport we\\nhave was still using a tech\\xADnol\\xADogy re\\xADleased in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/ECMAScript#Versions\"\n  }), \"De\\xADcem\\xADber 2009\"), \". The\\nsup\\xADport for ES5 is not some\\xADthing that we Vert.x team con\\xADtrols but some\\xADthing that is in\\xADher\\xADited from run\\xADning on top of\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://openjdk.java.net/projects/nashorn/\"\n  }), \"Nashorn\"), \".\"), mdx(\"p\", null, \"With all these nos\\xADtal\\xADgic thoughts on my mind I\\u2019ve de\\xADcided to bring us back to the fu\\xADture and by fu\\xADture I mean, let\\u2019s\\nstart using a mod\\xADern JavaScript, or more cor\\xADrectly, let\\u2019s start using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://es6-features.org/\"\n  }), \"EC\\xADMAScript 6\"), \".\"), mdx(\"p\", null, \"It turned out to be quite sim\\xADple to achieve this so I\\u2019ll pick the hello world ex\\xADam\\xADple and write it in ES6 just to show\\nhow you can port your code to ES6 and still use the cur\\xADrent Vert.x APIs. Note that Vert.x in\\xADter\\xADnals still are ES5 and\\nhave not been touched or mod\\xADi\\xADfied to sup\\xADport any of ES6 fea\\xADtures.\"), mdx(\"h2\", {\n    \"id\": \"main\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#main\"\n  })), \"main\"), mdx(\"p\", null, \"Tra\\xADdi\\xADtion\\xADally your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"main.js\"), \" file would re\\xADside in the root of your mod\\xADule (this is where \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"NPM\"), \" will look for it by\\nde\\xADfault); how\\xADever as we are going to tran\\xADspile to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ES5\"), \" you\\u2019ll want to put your index file in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/src/main.js\"), \".\"), mdx(\"p\", null, \"How\\xADever, be\\xADcause we are tran\\xADspiling to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ES5\"), \", your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \"\\u2019s main block should point to the tran\\xADspiled \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.js\"), \"\\nfile in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/lib\"), \" di\\xADrec\\xADtory.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-json\"\n  }), \"{\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"name\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"vertx-es6\\\"\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"version\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"0.0.1\\\"\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"private\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-literal\"\n  }), \"true\"), \",\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"main\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"lib/main.js\\\"\"), \",\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"scripts\\\"\"), \": {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"build\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"rm -Rf lib \u0026\u0026 ./node_modules/.bin/babel --out-dir lib src\\\"\"), \",\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"start\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"./node_modules/.bin/vertx run lib/main.js\\\"\"), \"\\n  },\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"dependencies\\\"\"), \": {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"vertx3-full\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"3.1.0\\\"\"), \",\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"babel-cli\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"6.2.0\\\"\"), \",\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"babel-preset-es2015\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"6.1.18\\\"\"), \"\\n  }\\n}\\n\")), mdx(\"p\", null, \"As you can see, the main idea is to in\\xADvoke the tran\\xADspiler (Babel) when we are build\\xADing our project, and run it using the\\ngen\\xADer\\xADated files. This is slightly equiv\\xADa\\xADlent to a com\\xADpi\\xADla\\xADtion process you would have using com\\xADpiled lan\\xADguage.\"), mdx(\"h2\", {\n    \"id\": \"npmignore\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#npmignore\"\n  })), \".npmignore\"), mdx(\"p\", null, \"If you\\u2019re plan\\xADning to de\\xADploy your pack\\xADage to npm ei\\xADther local or pri\\xADvate you should be aware that npm will ex\\xADclude\\nany\\xADthing listed on your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".gitignore\"), \" since we should ig\\xADnore the gen\\xADer\\xADated code from git it need to in\\xADform npm to ig\\xADnore\\nthat rule and keep the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"lib\"), \" di\\xADrec\\xADtory. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".gitignore\"), \" should be some\\xADthing like:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-text\"\n  }), \"/lib\\n/node_modules\\n\")), mdx(\"p\", null, \"And the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".npmignore\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-text\"\n  }), \"/.gitignore\\n\")), mdx(\"h2\", {\n    \"id\": \"hello-fat-arrows-and-let-keywords\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#hello-fat-arrows-and-let-keywords\"\n  })), \"Hello fat arrows and let keywords\"), mdx(\"p\", null, \"So all the heavy work has been done, in order to cre\\xADate our hello world we just need to code some \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ES6\"), \" in our\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/main.js\"), \" file:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-javascript\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"var\"), \" Router = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"require\"), \"(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"vertx-web-js/router\\\"\"), \");\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"var\"), \" server = vertx.createHttpServer();\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"var\"), \" router = Router.router(vertx);\\n\\nrouter.get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/\\\"\"), \").handler(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), \"(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"ctx\"), \") =\u003e\"), \" {\\n\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"let\"), \" response = ctx.response();\\n    response.putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"text/plain\\\"\"), \");\\n\\n    response.end(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Hello ES6 World!\\\"\"), \");\\n});\\n\\nserver.requestHandler(router.accept).listen(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \");\\n\")), mdx(\"p\", null, \"As you can see we\\u2019re using fat ar\\xADrows in\\xADstead of writ\\xADing a func\\xADtion clo\\xADsure and scoped vari\\xADables using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"let\"), \" key\\xADword. If\\nyou now com\\xADpile your project:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-dockerfile\"\n  }), \"npm \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"run\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"bash\"\n  }), \" build\"), \"\\n\")), mdx(\"p\", null, \"And then start it:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-coffeescript\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"npm\"), \" start\\n\")), mdx(\"p\", null, \"You have your first back to the fu\\xADture \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ES6\"), \" ver\\xADti\\xADcle!\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eOn \u003ca href=\"http://backtothefuture.wikia.com/wiki/2015\"\u003eOc¬≠to¬≠ber 21th, 2015\u003c/a\u003e we all re¬≠joiced with the re¬≠turn from the past of\nMarty McFly with his fly¬≠ing car and so on, how¬≠ever in the Vert.x world we were quite sad that the JavaScript sup¬≠port we\nhave was still using a tech¬≠nol¬≠ogy re¬≠leased in \u003ca href=\"https://en.wikipedia.org/wiki/ECMAScript#Versions\"\u003eDe¬≠cem¬≠ber 2009\u003c/a\u003e. The\nsup¬≠port for ES5 is not some¬≠thing that we Vert.x team con¬≠trols but some¬≠thing that is in¬≠her¬≠ited from run¬≠ning on top of\n\u003ca href=\"http://openjdk.java.net/projects/nashorn/\"\u003eNashorn\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eWith all these nos¬≠tal¬≠gic thoughts on my mind I‚Äôve de¬≠cided to bring us back to the fu¬≠ture and by fu¬≠ture I mean, let‚Äôs\nstart using a mod¬≠ern JavaScript, or more cor¬≠rectly, let‚Äôs start using \u003ca href=\"http://es6-features.org/\"\u003eEC¬≠MAScript 6\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eIt turned out to be quite sim¬≠ple to achieve this so I‚Äôll pick the hello world ex¬≠am¬≠ple and write it in ES6 just to show\nhow you can port your code to ES6 and still use the cur¬≠rent Vert.x APIs. Note that Vert.x in¬≠ter¬≠nals still are ES5 and\nhave not been touched or mod¬≠i¬≠fied to sup¬≠port any of ES6 fea¬≠tures.\u003c/p\u003e\u003ch2 id=\"main\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#main\"\u003e\u003c/a\u003emain\u003c/h2\u003e\u003cp\u003eTra¬≠di¬≠tion¬≠ally your \u003ccode\u003emain.js\u003c/code\u003e file would re¬≠side in the root of your mod¬≠ule (this is where \u003ccode\u003eNPM\u003c/code\u003e will look for it by\nde¬≠fault); how¬≠ever as we are going to tran¬≠spile to \u003ccode\u003eES5\u003c/code\u003e you‚Äôll want to put your index file in \u003ccode\u003e/src/main.js\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eHow¬≠ever, be¬≠cause we are tran¬≠spiling to \u003ccode\u003eES5\u003c/code\u003e, your \u003ccode\u003epackage.json\u003c/code\u003e‚Äôs main block should point to the tran¬≠spiled \u003ccode\u003eindex.js\u003c/code\u003e\nfile in the \u003ccode\u003e/lib\u003c/code\u003e di¬≠rec¬≠tory.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e{\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;vertx-es6\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;version\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;0.0.1\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;private\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;main\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;lib/main.js\u0026quot;\u003c/span\u003e,\n\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;scripts\u0026quot;\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;build\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;rm -Rf lib \u0026amp;\u0026amp; ./node_modules/.bin/babel --out-dir lib src\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;start\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;./node_modules/.bin/vertx run lib/main.js\u0026quot;\u003c/span\u003e\n  },\n\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;dependencies\u0026quot;\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;vertx3-full\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;3.1.0\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;babel-cli\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;6.2.0\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;babel-preset-es2015\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;6.1.18\u0026quot;\u003c/span\u003e\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAs you can see, the main idea is to in¬≠voke the tran¬≠spiler (Babel) when we are build¬≠ing our project, and run it using the\ngen¬≠er¬≠ated files. This is slightly equiv¬≠a¬≠lent to a com¬≠pi¬≠la¬≠tion process you would have using com¬≠piled lan¬≠guage.\u003c/p\u003e\u003ch2 id=\"npmignore\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#npmignore\"\u003e\u003c/a\u003e.npmignore\u003c/h2\u003e\u003cp\u003eIf you‚Äôre plan¬≠ning to de¬≠ploy your pack¬≠age to npm ei¬≠ther local or pri¬≠vate you should be aware that npm will ex¬≠clude\nany¬≠thing listed on your \u003ccode\u003e.gitignore\u003c/code\u003e since we should ig¬≠nore the gen¬≠er¬≠ated code from git it need to in¬≠form npm to ig¬≠nore\nthat rule and keep the \u003ccode\u003elib\u003c/code\u003e di¬≠rec¬≠tory. The \u003ccode\u003e.gitignore\u003c/code\u003e should be some¬≠thing like:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-text\"\u003e/lib\n/node_modules\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAnd the \u003ccode\u003e.npmignore\u003c/code\u003e:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-text\"\u003e/.gitignore\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"hello-fat-arrows-and-let-keywords\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#hello-fat-arrows-and-let-keywords\"\u003e\u003c/a\u003eHello fat arrows and let keywords\u003c/h2\u003e\u003cp\u003eSo all the heavy work has been done, in order to cre¬≠ate our hello world we just need to code some \u003ccode\u003eES6\u003c/code\u003e in our\n\u003ccode\u003esrc/main.js\u003c/code\u003e file:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e Router = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;vertx-web-js/router\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e server = vertx.createHttpServer();\n\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e router = Router.router(vertx);\n\nrouter.get(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/\u0026quot;\u003c/span\u003e).handler(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ectx\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e response = ctx.response();\n    response.putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;text/plain\u0026quot;\u003c/span\u003e);\n\n    response.end(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Hello ES6 World!\u0026quot;\u003c/span\u003e);\n});\n\nserver.requestHandler(router.accept).listen(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAs you can see we‚Äôre using fat ar¬≠rows in¬≠stead of writ¬≠ing a func¬≠tion clo¬≠sure and scoped vari¬≠ables using \u003ccode\u003elet\u003c/code\u003e key¬≠word. If\nyou now com¬≠pile your project:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-dockerfile\"\u003enpm \u003cspan class=\"hljs-keyword\"\u003erun\u003c/span\u003e\u003cspan class=\"bash\"\u003e build\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAnd then start it:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-coffeescript\"\u003e\u003cspan class=\"hljs-built_in\"\u003enpm\u003c/span\u003e start\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eYou have your first back to the fu¬≠ture \u003ccode\u003eES6\u003c/code\u003e ver¬≠ti¬≠cle!\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"us","tf":9},{"term":"file","tf":5},{"term":"transpil","tf":4},{"term":"howev","tf":3},{"term":"world","tf":3},{"term":"support","tf":3},{"term":"someth","tf":3},{"term":"futur","tf":3},{"term":"let","tf":3},{"term":"start","tf":3},{"term":"hello","tf":3},{"term":"es6","tf":3},{"term":"code","tf":3},{"term":"main","tf":3},{"term":"compil","tf":3},{"term":"npm","tf":3},{"term":"quit","tf":2},{"term":"javascript","tf":2},{"term":"es5","tf":2},{"term":"not","tf":2},{"term":"run","tf":2},{"term":"back","tf":2},{"term":"ll","tf":2},{"term":"write","tf":2},{"term":"just","tf":2}]},{"filename":"blog/2015-10-19-using-the-asynchronous-sql-client.mdx","date":"2015-10-19","slug":"using-the-asynchronous-sql-client","meta":{"title":"Using the asynchronous SQL client","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Finally, back... This post is the fifth post of the introduction to vert.x blog series, after a not-that-small break. In this post we are going to see how we can use JDBC in a vert.x application."},"readingTime":{"text":"10 min read","minutes":9.095,"time":545700,"words":1819},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Fi\\xADnally, back\\u2026 This post is the fifth post of the in\\xADtro\\xADduc\\xADtion to vert.x blog se\\xADries, after a not-\\u200Bthat-small break. In this post we are going to see how we can use JDBC in a vert.x ap\\xADpli\\xADca\\xADtion, and this, using the asyn\\xADchro\\xADnous API pro\\xADvided by the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vertx.io/docs/vertx-jdbc-client/java/\"\n  }), \"vertx-\\u200Bjdbc-client\"), \".\"), mdx(\"h2\", {\n    \"id\": \"previously-in-the-introduction-to-vertx-series\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#previously-in-the-introduction-to-vertx-series\"\n  })), \"Previously in the introduction to vert.x series\"), mdx(\"p\", null, \"As it was quite some time since the last post, let\\u2019s start by re\\xADfresh\\xADing our mind about the four pre\\xADvi\\xADous posts:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The \", mdx(Link, {\n    href: \"/blog/[[...slug]]\",\n    as: \"/blog/my-first-vert-x-3-application/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", null, \"first post\")), \" has de\\xADscribed how to build a vert.x ap\\xADpli\\xADca\\xADtion with Maven and ex\\xADe\\xADcute unit tests.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The \", mdx(Link, {\n    href: \"/blog/[[...slug]]\",\n    as: \"/blog/vert-x-application-configuration/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", null, \"sec\\xADond post\")), \" has de\\xADscribed how this ap\\xADpli\\xADca\\xADtion can be\\xADcome con\\xADfig\\xADurable.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The \", mdx(Link, {\n    href: \"/blog/[[...slug]]\",\n    as: \"/blog/some-rest-with-vert-x/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", null, \"third post\")), \" has in\\xADtro\\xADduced \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://vertx.io/docs/vertx-web/java/\"\n  }), \"vertx-\\u200Bweb\"), \", and a small col\\xADlec\\xADtion man\\xADage\\xADment ap\\xADpli\\xADca\\xADtion has been de\\xADvel\\xADoped. This ap\\xADpli\\xADca\\xADtion of\\xADfers a REST API used by a HTML/JavaScript fron\\xADtend.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The \", mdx(Link, {\n    href: \"/blog/[[...slug]]\",\n    as: \"/blog/unit-and-integration-tests/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", null, \"pre\\xADvi\\xADous post\")), \" has pre\\xADsented how you can run in\\xADte\\xADgra\\xADtion tests to en\\xADsure the be\\xADhav\\xADior of your ap\\xADpli\\xADca\\xADtion.\")), mdx(\"p\", null, \"In this post, back to code. The cur\\xADrent ap\\xADpli\\xADca\\xADtion uses an in-\\u200Bmemory map to store the prod\\xADucts. It\\u2019s time to use a data\\xADbase. In this post we are going to use \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://hsqldb.org/\"\n  }), \"HSQL\"), \", but you can use any data\\xADbase pro\\xADvid\\xADing a JDBC dri\\xADver. In\\xADter\\xADac\\xADtions with the data\\xADbase will be asyn\\xADchro\\xADnous and made using the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vertx.io/docs/vertx-jdbc-client/java/\"\n  }), \"vertx-\\u200Bjdbc-client\"), \".\"), mdx(\"p\", null, \"The code of this post are avail\\xADable on this Github \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/cescoffier/my-vertx-first-app\"\n  }), \"project\"), \", in the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/cescoffier/my-vertx-first-app/tree/post-5\"\n  }), \"post-5 branch\"), \" branch.\"), mdx(\"h2\", {\n    \"id\": \"asynchronous\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#asynchronous\"\n  })), \"Asynchronous?\"), mdx(\"p\", null, \"One of the vert.x char\\xADac\\xADter\\xADis\\xADtics is being asyn\\xADchro\\xADnous. With an asyn\\xADchro\\xADnous API, you don\\u2019t wait for a re\\xADsult, but you are no\\xADti\\xADfied when this re\\xADsult is ready. Just to il\\xADlus\\xADtrate this, let\\u2019s take a very sim\\xADple ex\\xADam\\xADple.\"), mdx(\"p\", null, \"Let\\u2019s imag\\xADine an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"add\"), \" method. Tra\\xADdi\\xADtion\\xADally, you would use it like this: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"int r = add(1, 1)\"), \". This is a syn\\xADchro\\xADnous API as you are wait\\xADing for the re\\xADsult. An asyn\\xADchro\\xADnous ver\\xADsion of this API would be: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"add(1, 1, r -\u003e { /* do something with the result */ })\"), \". In this ver\\xADsion, you pass a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Handler\"), \" called when the re\\xADsult has been com\\xADputed. The method does not re\\xADturn any\\xADthing, and could be im\\xADple\\xADmented as:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"add\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"int\"), \" a, \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"int\"), \" b, Handler\u003cInteger\u003e resultHandler)\"), \" \"), \"{\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"int\"), \" r = a + b;\\n    resultHandler.handle(r);\\n}\\n\")), mdx(\"p\", null, \"Just to avoid mis\\xADcon\\xADcep\\xADtions, asyn\\xADchro\\xADnous API are not about threads. As we can see in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"add\"), \" ex\\xADam\\xADple, there are no threads in\\xADvolved.\"), mdx(\"h2\", {\n    \"id\": \"jdbc-yes-but-asynchronous\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#jdbc-yes-but-asynchronous\"\n  })), \"JDBC yes, but asynchronous\"), mdx(\"p\", null, \"So, now that we have seen some ba\\xADsics about asyn\\xADchro\\xADnous API, let\\u2019s have a look to the vertx-\\u200Bjdbc-client. This com\\xADpo\\xADnent lets us in\\xADter\\xADact with a data\\xADbase through a JDBC dri\\xADver. These in\\xADter\\xADac\\xADtions are asyn\\xADchro\\xADnous, so when you were doing:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"String sql = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"SELECT * FROM Products\\\"\"), \";\\nResultSet rs = stmt.executeQuery(sql);\\n\")), mdx(\"p\", null, \"it will be:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"connection.query(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"SELECT * FROM Products\\\"\"), \", result -\u003e {\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// do something with the result\"), \"\\n});\\n\")), mdx(\"p\", null, \"This model is more ef\\xADfi\\xADcient as it avoids wait\\xADing for the re\\xADsult. You are no\\xADti\\xADfied when the re\\xADsult is avail\\xADable.\"), mdx(\"p\", null, \"Let\\u2019s now mod\\xADify our ap\\xADpli\\xADca\\xADtion to use a data\\xADbase to store our prod\\xADucts.\"), mdx(\"h2\", {\n    \"id\": \"some-maven-dependencies\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#some-maven-dependencies\"\n  })), \"Some maven dependencies\"), mdx(\"p\", null, \"The first things we need to do it to de\\xADclare two new Maven de\\xADpen\\xADden\\xADcies in our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \" file:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-xml\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependency\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"io.vertx\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"vertx-jdbc-client\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"3.1.0\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependency\"), \"\u003e\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependency\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"org.hsqldb\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"hsqldb\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"2.3.3\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependency\"), \"\u003e\"), \"\\n\")), mdx(\"p\", null, \"The first de\\xADpen\\xADdency pro\\xADvides the vertx-\\u200Bjdbc-client, while the sec\\xADond one pro\\xADvide the HSQL JDBC dri\\xADver. If you want to use an\\xADother data\\xADbase, change this de\\xADpen\\xADdency. You will also need to change the JDBC url and JDBC dri\\xADver class name later.\"), mdx(\"h2\", {\n    \"id\": \"initializing-the-jdbc-client\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#initializing-the-jdbc-client\"\n  })), \"Initializing the JDBC client\"), mdx(\"p\", null, \"Now that we have added these de\\xADpen\\xADden\\xADcies, it\\u2019s time to cre\\xADate our JDBC client:\"), mdx(\"p\", null, \"In the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MyFirstVerticle\"), \" class, de\\xADclare a new field \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JDBCClient jdbc;\"), \", and add the fol\\xADlow\\xADing line at the be\\xADgin\\xADning of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"start\"), \" method:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"jdbc = JDBCClient.createShared(vertx, config(), \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"My-Whisky-Collection\\\"\"), \");\\n\")), mdx(\"p\", null, \"This cre\\xADates an in\\xADstance of JDBC client, con\\xADfig\\xADured with the con\\xADfig\\xADu\\xADra\\xADtion pro\\xADvided to the ver\\xADti\\xADcle. To work cor\\xADrectly this con\\xADfig\\xADu\\xADra\\xADtion needs to pro\\xADvide:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"url\"), \" - the JDBC url such as \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"jdbc:hsqldb:mem:db?shutdown=true\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"dri\\xADver_class\"), \" - the JDBC dri\\xADver class such as \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"org.hsqldb.jdbcDriver\"))), mdx(\"p\", null, \"Ok, we have the client, we need a con\\xADnec\\xADtion to the data\\xADbase. This is achieved using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jdbc.getConnection\"), \" that take a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Handler\u003cAsyncResult\u003cSQLConnection\u003e\u003e\"), \" as pa\\xADra\\xADme\\xADter. Let\\u2019s have a deeper look to this type. It\\u2019s a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Handler\"), \", so it is called when the re\\xADsult is ready. This re\\xADsult is an in\\xADstance of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AsyncResult\u003cSQLConnection\u003e\"), \". \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AsyncResult\"), \" is a struc\\xADture pro\\xADvided by vert.x that lets us know if the op\\xADer\\xADa\\xADtion was com\\xADpleted suc\\xADcess\\xADfully or failed. In case of suc\\xADcess, it pro\\xADvides the re\\xADsult, here an in\\xADstance of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SQLConnection\"), \".\"), mdx(\"p\", null, \"When you re\\xADceive an in\\xADstance of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AsyncResult\"), \", your code gen\\xADer\\xADally looks like:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (ar.failed()) {\\n  System.err.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"The operation has failed...: \\\"\"), \"\\n      + ar.cause().getMessage());\\n} \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Use the result:\"), \"\\n  result = ar.result();\\n }\\n\")), mdx(\"p\", null, \"So, let\\u2019s go back to our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SQLConnection\"), \". We need to re\\xADtrieve it, and then start the rest of the ap\\xADpli\\xADca\\xADtion. This changes how we start the ap\\xADpli\\xADca\\xADtion, as it will be\\xADcome asyn\\xADchro\\xADnous. So, if we di\\xADvide our startup se\\xADquence into small chunks it would be some\\xADthing like:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"startBackend(\\n (connection) -\u003e createSomeData(connection,\\n     (nothing) -\u003e startWebApp(\\n         (http) -\u003e completeStartup(http, fut)\\n     ), fut\\n ), fut);\\n\")), mdx(\"p\", null, \"with:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"startBackend\"), \" - re\\xADtrieves a \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"SQLConnection\"), \" and then calls the next step\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"createSomeData\"), \" - ini\\xADtial\\xADizes the data\\xADbase and in\\xADserts some data. When done, it calls the next step\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"startWebApp\"), \" - starts our web ap\\xADpli\\xADca\\xADtion\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"completeStartup\"), \" - fi\\xADnal\\xADizes our start se\\xADquence\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fut\"), \" is the com\\xADple\\xADtion fu\\xADture passed by vert.x that let us re\\xADport when we are started, or if an issue has been en\\xADcoun\\xADtered while start\\xADing.\"), mdx(\"p\", null, \"Let\\u2019s have a look to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"startBackend\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"startBackend\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(Handler\u003cAsyncResult\u003cSQLConnection\u003e\u003e next, Future\u003cVoid\u003e fut)\"), \" \"), \"{\\n  jdbc.getConnection(ar -\u003e {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (ar.failed()) {\\n      fut.fail(ar.cause());\\n    } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n      next.handle(Future.succeededFuture(ar.result()));\\n    }\\n  });\\n}\\n\")), mdx(\"p\", null, \"This method re\\xADtrieves a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SQLConnection\"), \", check whether this op\\xADer\\xADa\\xADtion suc\\xADceeded. If so, it calls the next step. In case of fail\\xADure, it re\\xADports it.\"), mdx(\"p\", null, \"The other meth\\xADods fol\\xADlow the same pat\\xADtern: 1) check if the last op\\xADer\\xADa\\xADtion has suc\\xADceeded, 2) do the task, 3) call the next step.\"), mdx(\"h3\", {\n    \"id\": \"a-bit-of-sql\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#a-bit-of-sql\"\n  })), \"A bit of SQL\\u2026\"), mdx(\"p\", null, \"Our client is ready, let\\u2019s now write some SQL state\\xADments. Let\\u2019s start by the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"createSomeData\"), \" method that is part of the startup se\\xADquence:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"createSomeData\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(AsyncResult\u003cSQLConnection\u003e result,\\n    Handler\u003cAsyncResult\u003cVoid\u003e\u003e next, Future\u003cVoid\u003e fut)\"), \" \"), \"{\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (result.failed()) {\\n      fut.fail(result.cause());\\n    } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n      SQLConnection connection = result.result();\\n      connection.execute(\\n          \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"CREATE TABLE IF NOT EXISTS Whisky (id INTEGER IDENTITY, name varchar(100), \\\"\"), \" +\\n          \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"origin varchar(100))\\\"\"), \",\\n          ar -\u003e {\\n            \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (ar.failed()) {\\n              fut.fail(ar.cause());\\n              connection.close();\\n              \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \";\\n            }\\n            connection.query(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"SELECT * FROM Whisky\\\"\"), \", select -\u003e {\\n              \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (select.failed()) {\\n                fut.fail(ar.cause());\\n                connection.close();\\n                \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \";\\n              }\\n              \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (select.result().getNumRows() == \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"0\"), \") {\\n                insert(\\n                    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" Whisky(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Bowmore 15 Years Laimrig\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Scotland, Islay\\\"\"), \"),\\n                    connection,\\n                    (v) -\u003e insert(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" Whisky(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Talisker 57\\xB0 North\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Scotland, Island\\\"\"), \"),\\n                        connection,\\n                        (r) -\u003e {\\n                          next.handle(Future.\u003cVoid\u003esucceededFuture());\\n                          connection.close();\\n                        }));                                                    \\n              } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n                next.handle(Future.\u003cVoid\u003esucceededFuture());\\n                connection.close();\\n              }\\n            });\\n          });\\n    }\\n  }\\n\")), mdx(\"p\", null, \"This method checks that the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SQLConnection\"), \" is avail\\xADable and then start ex\\xADe\\xADcut\\xADing some SQL state\\xADments. First, it cre\\xADates the ta\\xADbles if there are not there yet. As you can see, the method called is struc\\xADtured as fol\\xADlows:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"connection.execute(\\n    SQL statement,\\n    handler called when the statement has been executed\\n)\\n\")), mdx(\"p\", null, \"The han\\xADdler re\\xADceives an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AsyncResult\u003cVoid\u003e\"), \", \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"i.e.\"), \" a no\\xADti\\xADfi\\xADca\\xADtion of the com\\xADple\\xADtion with\\xADout an ac\\xADtual re\\xADsult.\"), mdx(Alert, {\n    info: true,\n    title: \"Closing connection\",\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"Don\\u2019t for\\xADget to close the SQL con\\xADnec\\xADtion when you are done. The con\\xADnec\\xADtion will be given back to the con\\xADnec\\xADtion pool and be reused.\")), mdx(\"p\", null, \"In the code of this han\\xADdler, we check whether or not the state\\xADment has been ex\\xADe\\xADcuted cor\\xADrectly, and if so we check to see if the table al\\xADready con\\xADtains some data, if not, it in\\xADserts data using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"insert\"), \" method:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"insert\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(Whisky whisky, SQLConnection connection, Handler\u003cAsyncResult\u003cWhisky\u003e\u003e next)\"), \" \"), \"{\\n  String sql = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO Whisky (name, origin) VALUES ?, ?\\\"\"), \";\\n  connection.updateWithParams(sql,\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonArray().add(whisky.getName()).add(whisky.getOrigin()),\\n      (ar) -\u003e {\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (ar.failed()) {\\n          next.handle(Future.failedFuture(ar.cause()));\\n          \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \";\\n        }\\n        UpdateResult result = ar.result();\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Build a new whisky instance with the generated id.\"), \"\\n        Whisky w = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" Whisky(result.getKeys().getInteger(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"0\"), \"), whisky.getName(), whisky.getOrigin());\\n        next.handle(Future.succeededFuture(w));\\n      });\\n}\\n\")), mdx(\"p\", null, \"This method uses the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"updateWithParams\"), \" method with an \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"IN\\xADSERT\"), \" state\\xADment, and pass val\\xADues. This ap\\xADproach avoids SQL in\\xADjec\\xADtion. Once the the state\\xADment has been ex\\xADe\\xADcuted, we cre\\xADates a new \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Whisky\"), \" ob\\xADject with the cre\\xADated (auto-\\u200Bgenerated) id.\"), mdx(\"h2\", {\n    \"id\": \"some-rest-with-a-pinch-of-sql\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#some-rest-with-a-pinch-of-sql\"\n  })), \"Some REST with a pinch of SQL\"), mdx(\"p\", null, \"The method de\\xADscribed  above is part of our start se\\xADquence. But what about the method in\\xADvoked by our REST API. Let\\u2019s have a look to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"getAll\"), \" method. This method is called by the web front-\\u200Bend to re\\xADtrieve all stored prod\\xADucts:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"getAll\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(RoutingContext routingContext)\"), \" \"), \"{\\n    jdbc.getConnection(ar -\u003e {\\n      SQLConnection connection = ar.result();\\n      connection.query(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"SELECT * FROM Whisky\\\"\"), \", result -\u003e {\\n        List\u003cWhisky\u003e whiskies = result.result().getRows().stream().map(Whisky::\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \").collect(Collectors.toList());\\n        routingContext.response()\\n            .putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"application/json; charset=utf-8\\\"\"), \")\\n            .end(Json.encodePrettily(whiskies));\\n        connection.close(); \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Close the connection     \"), \"\\n      });\\n    });\\n  }\\n\")), mdx(\"p\", null, \"This method gets a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SQLConnection\"), \", and then issue a query. Once the re\\xADsult has been re\\xADtrieved it writes the HTTP re\\xADsponse as be\\xADfore. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"getOne\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"deleteOne\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"updateOne\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"addOne\"), \" meth\\xADods fol\\xADlow the same pat\\xADtern. No\\xADtice that the con\\xADnec\\xADtion can be closed after the re\\xADsponse has been writ\\xADten.\"), mdx(\"p\", null, \"Let\\u2019s have a look to the re\\xADsult pro\\xADvided to the han\\xADdler passed to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"query\"), \" method. It gets a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ResultSet\"), \", which con\\xADtains the query re\\xADsult. Each row is a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JsonObject\"), \", so if your data ob\\xADject has a con\\xADstruc\\xADtor tak\\xADing a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JsonObject\"), \" as unique ar\\xADgu\\xADment, cre\\xADat\\xADing there ob\\xADjects is straight\\xADfor\\xADward.\"), mdx(\"h2\", {\n    \"id\": \"test-test-and-test-again\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#test-test-and-test-again\"\n  })), \"Test, test, and test again\"), mdx(\"p\", null, \"We need to slightly up\\xADdate our tests to con\\xADfig\\xADure the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JDBCClient\"), \". In the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MyFirstVertilceTest\"), \" class, change the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DeploymentOption\"), \" ob\\xADject cre\\xADated in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setUp\"), \" method to be:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"DeploymentOptions options = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" DeploymentOptions()\\n    .setConfig(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject()\\n        .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"http.port\\\"\"), \", port)\\n        .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"url\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"jdbc:hsqldb:mem:test?shutdown=true\\\"\"), \")\\n        .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"driver_class\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"org.hsqldb.jdbcDriver\\\"\"), \")\\n    );\\n\")), mdx(\"p\", null, \"In ad\\xADdi\\xADtion to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http.port\"), \", we also put the JDBC url and the class of the JDBC dri\\xADver. We use an in-\\u200Bmemory data\\xADbase for tests.\"), mdx(\"p\", null, \"The same mod\\xADi\\xADfi\\xADca\\xADtion needs to be done in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/test/resources/my-it-config.json\"), \" file:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-json\"\n  }), \"{\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"http.port\\\"\"), \": ${http.port},\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"url\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"jdbc:hsqldb:mem:it-test?shutdown=true\\\"\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"driver_class\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"org.hsqldb.jdbcDriver\\\"\"), \"\\n}\\n\")), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/main/conf/my-application-conf.json\"), \" file also needs to be up\\xADdated, not for the tests, but to run the ap\\xADpli\\xADca\\xADtion:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-json\"\n  }), \"{\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"http.port\\\"\"), \" : \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8082\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"url\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"jdbc:hsqldb:file:db/whiskies\\\"\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"driver_class\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"org.hsqldb.jdbcDriver\\\"\"), \"\\n}\\n\")), mdx(\"p\", null, \"The JDBC url is a bit dif\\xADfer\\xADent in this last file, as we store the data\\xADbase on the file sys\\xADtem.\"), mdx(\"h2\", {\n    \"id\": \"show-time\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#show-time\"\n  })), \"Show time!\"), mdx(\"p\", null, \"Let\\u2019s now build our ap\\xADpli\\xADca\\xADtion:\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mvn clean package\")), mdx(\"p\", null, \"As we didn\\u2019t change the API (nei\\xADther the pub\\xADlic java one nor the REST), test should run smoothly.\"), mdx(\"p\", null, \"Then launch the ap\\xADpli\\xADca\\xADtion with:\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"java -jar target/my-first-app-1.0-SNAPSHOT-fat.jar -conf src/main/conf/my-application-conf.json \")), mdx(\"p\", null, \"Open your browser to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://localhost:8082/assets/index.html\"), \", and you should see the ap\\xADpli\\xADca\\xADtion using the data\\xADbase. This time the prod\\xADucts are stored in a data\\xADbase per\\xADsisted on the file sys\\xADtem. So, if we stop and restart the ap\\xADpli\\xADca\\xADtion, the data is re\\xADstored.\"), mdx(\"h2\", {\n    \"id\": \"conclusion\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#conclusion\"\n  })), \"Conclusion\"), mdx(\"p\", null, \"In this post, we saw how you can use JDBC data\\xADbase with vert.x, and thus with\\xADout too much bur\\xADden. You may have been sur\\xADprised by the asyn\\xADchro\\xADnous de\\xADvel\\xADop\\xADment model, but once you start using it, it\\u2019s hard to come back.\"), mdx(\"p\", null, \"In the \", mdx(Link, {\n    href: \"/blog/[[...slug]]\",\n    as: \"/blog/combine-vert-x-and-mongo-to-build-a-giant/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", null, \"next post\")), \", we see how the same ap\\xADpli\\xADca\\xADtion can use Mon\\xADgoDB in\\xADstead of HSQL.\"), mdx(\"p\", null, \"Stay tuned, and happy cod\\xADing!\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eFi¬≠nally, back‚Ä¶ This post is the fifth post of the in¬≠tro¬≠duc¬≠tion to vert.x blog se¬≠ries, after a not-‚Äãthat-small break. In this post we are going to see how we can use JDBC in a vert.x ap¬≠pli¬≠ca¬≠tion, and this, using the asyn¬≠chro¬≠nous API pro¬≠vided by the \u003ca href=\"http://vertx.io/docs/vertx-jdbc-client/java/\"\u003evertx-‚Äãjdbc-client\u003c/a\u003e.\u003c/p\u003e\u003ch2 id=\"previously-in-the-introduction-to-vertx-series\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#previously-in-the-introduction-to-vertx-series\"\u003e\u003c/a\u003ePreviously in the introduction to vert.x series\u003c/h2\u003e\u003cp\u003eAs it was quite some time since the last post, let‚Äôs start by re¬≠fresh¬≠ing our mind about the four pre¬≠vi¬≠ous posts:\u003c/p\u003e\u003col\u003e\u003cli\u003eThe \u003ca href=\"/blog/my-first-vert-x-3-application/\"\u003efirst post\u003c/a\u003e has de¬≠scribed how to build a vert.x ap¬≠pli¬≠ca¬≠tion with Maven and ex¬≠e¬≠cute unit tests.\u003c/li\u003e\u003cli\u003eThe \u003ca href=\"/blog/vert-x-application-configuration/\"\u003esec¬≠ond post\u003c/a\u003e has de¬≠scribed how this ap¬≠pli¬≠ca¬≠tion can be¬≠come con¬≠fig¬≠urable.\u003c/li\u003e\u003cli\u003eThe \u003ca href=\"/blog/some-rest-with-vert-x/\"\u003ethird post\u003c/a\u003e has in¬≠tro¬≠duced \u003ca href=\"http://vertx.io/docs/vertx-web/java/\"\u003evertx-‚Äãweb\u003c/a\u003e, and a small col¬≠lec¬≠tion man¬≠age¬≠ment ap¬≠pli¬≠ca¬≠tion has been de¬≠vel¬≠oped. This ap¬≠pli¬≠ca¬≠tion of¬≠fers a REST API used by a HTML/JavaScript fron¬≠tend.\u003c/li\u003e\u003cli\u003eThe \u003ca href=\"/blog/unit-and-integration-tests/\"\u003epre¬≠vi¬≠ous post\u003c/a\u003e has pre¬≠sented how you can run in¬≠te¬≠gra¬≠tion tests to en¬≠sure the be¬≠hav¬≠ior of your ap¬≠pli¬≠ca¬≠tion.\u003c/li\u003e\u003c/ol\u003e\u003cp\u003eIn this post, back to code. The cur¬≠rent ap¬≠pli¬≠ca¬≠tion uses an in-‚Äãmemory map to store the prod¬≠ucts. It‚Äôs time to use a data¬≠base. In this post we are going to use \u003ca href=\"http://hsqldb.org/\"\u003eHSQL\u003c/a\u003e, but you can use any data¬≠base pro¬≠vid¬≠ing a JDBC dri¬≠ver. In¬≠ter¬≠ac¬≠tions with the data¬≠base will be asyn¬≠chro¬≠nous and made using the \u003ca href=\"http://vertx.io/docs/vertx-jdbc-client/java/\"\u003evertx-‚Äãjdbc-client\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eThe code of this post are avail¬≠able on this Github \u003ca href=\"https://github.com/cescoffier/my-vertx-first-app\"\u003eproject\u003c/a\u003e, in the \u003ca href=\"https://github.com/cescoffier/my-vertx-first-app/tree/post-5\"\u003epost-5 branch\u003c/a\u003e branch.\u003c/p\u003e\u003ch2 id=\"asynchronous\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#asynchronous\"\u003e\u003c/a\u003eAsynchronous?\u003c/h2\u003e\u003cp\u003eOne of the vert.x char¬≠ac¬≠ter¬≠is¬≠tics is being asyn¬≠chro¬≠nous. With an asyn¬≠chro¬≠nous API, you don‚Äôt wait for a re¬≠sult, but you are no¬≠ti¬≠fied when this re¬≠sult is ready. Just to il¬≠lus¬≠trate this, let‚Äôs take a very sim¬≠ple ex¬≠am¬≠ple.\u003c/p\u003e\u003cp\u003eLet‚Äôs imag¬≠ine an \u003ccode\u003eadd\u003c/code\u003e method. Tra¬≠di¬≠tion¬≠ally, you would use it like this: \u003ccode\u003eint r = add(1, 1)\u003c/code\u003e. This is a syn¬≠chro¬≠nous API as you are wait¬≠ing for the re¬≠sult. An asyn¬≠chro¬≠nous ver¬≠sion of this API would be: \u003ccode\u003eadd(1, 1, r -\u0026gt; { /* do something with the result */ })\u003c/code\u003e. In this ver¬≠sion, you pass a \u003ccode\u003eHandler\u003c/code\u003e called when the re¬≠sult has been com¬≠puted. The method does not re¬≠turn any¬≠thing, and could be im¬≠ple¬≠mented as:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eadd\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(\u003cspan class=\"hljs-keyword\"\u003eint\u003c/span\u003e a, \u003cspan class=\"hljs-keyword\"\u003eint\u003c/span\u003e b, Handler\u0026lt;Integer\u0026gt; resultHandler)\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003eint\u003c/span\u003e r = a + b;\n    resultHandler.handle(r);\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eJust to avoid mis¬≠con¬≠cep¬≠tions, asyn¬≠chro¬≠nous API are not about threads. As we can see in the \u003ccode\u003eadd\u003c/code\u003e ex¬≠am¬≠ple, there are no threads in¬≠volved.\u003c/p\u003e\u003ch2 id=\"jdbc-yes-but-asynchronous\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#jdbc-yes-but-asynchronous\"\u003e\u003c/a\u003eJDBC yes, but asynchronous\u003c/h2\u003e\u003cp\u003eSo, now that we have seen some ba¬≠sics about asyn¬≠chro¬≠nous API, let‚Äôs have a look to the vertx-‚Äãjdbc-client. This com¬≠po¬≠nent lets us in¬≠ter¬≠act with a data¬≠base through a JDBC dri¬≠ver. These in¬≠ter¬≠ac¬≠tions are asyn¬≠chro¬≠nous, so when you were doing:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eString sql = \u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM Products\u0026quot;\u003c/span\u003e;\nResultSet rs = stmt.executeQuery(sql);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eit will be:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003econnection.query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM Products\u0026quot;\u003c/span\u003e, result -\u0026gt; {\n        \u003cspan class=\"hljs-comment\"\u003e// do something with the result\u003c/span\u003e\n});\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis model is more ef¬≠fi¬≠cient as it avoids wait¬≠ing for the re¬≠sult. You are no¬≠ti¬≠fied when the re¬≠sult is avail¬≠able.\u003c/p\u003e\u003cp\u003eLet‚Äôs now mod¬≠ify our ap¬≠pli¬≠ca¬≠tion to use a data¬≠base to store our prod¬≠ucts.\u003c/p\u003e\u003ch2 id=\"some-maven-dependencies\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#some-maven-dependencies\"\u003e\u003c/a\u003eSome maven dependencies\u003c/h2\u003e\u003cp\u003eThe first things we need to do it to de¬≠clare two new Maven de¬≠pen¬≠den¬≠cies in our \u003ccode\u003epom.xml\u003c/code\u003e file:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-jdbc-client\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.1.0\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eorg.hsqldb\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003ehsqldb\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e2.3.3\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe first de¬≠pen¬≠dency pro¬≠vides the vertx-‚Äãjdbc-client, while the sec¬≠ond one pro¬≠vide the HSQL JDBC dri¬≠ver. If you want to use an¬≠other data¬≠base, change this de¬≠pen¬≠dency. You will also need to change the JDBC url and JDBC dri¬≠ver class name later.\u003c/p\u003e\u003ch2 id=\"initializing-the-jdbc-client\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#initializing-the-jdbc-client\"\u003e\u003c/a\u003eInitializing the JDBC client\u003c/h2\u003e\u003cp\u003eNow that we have added these de¬≠pen¬≠den¬≠cies, it‚Äôs time to cre¬≠ate our JDBC client:\u003c/p\u003e\u003cp\u003eIn the \u003ccode\u003eMyFirstVerticle\u003c/code\u003e class, de¬≠clare a new field \u003ccode\u003eJDBCClient jdbc;\u003c/code\u003e, and add the fol¬≠low¬≠ing line at the be¬≠gin¬≠ning of the \u003ccode\u003estart\u003c/code\u003e method:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003ejdbc = JDBCClient.createShared(vertx, config(), \u003cspan class=\"hljs-string\"\u003e\u0026quot;My-Whisky-Collection\u0026quot;\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis cre¬≠ates an in¬≠stance of JDBC client, con¬≠fig¬≠ured with the con¬≠fig¬≠u¬≠ra¬≠tion pro¬≠vided to the ver¬≠ti¬≠cle. To work cor¬≠rectly this con¬≠fig¬≠u¬≠ra¬≠tion needs to pro¬≠vide:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003cem\u003eurl\u003c/em\u003e - the JDBC url such as \u003ccode\u003ejdbc:hsqldb:mem:db?shutdown=true\u003c/code\u003e\u003c/li\u003e\u003cli\u003e\u003cem\u003edri¬≠ver_class\u003c/em\u003e - the JDBC dri¬≠ver class such as \u003ccode\u003eorg.hsqldb.jdbcDriver\u003c/code\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eOk, we have the client, we need a con¬≠nec¬≠tion to the data¬≠base. This is achieved using the \u003ccode\u003ejdbc.getConnection\u003c/code\u003e that take a \u003ccode\u003eHandler\u0026lt;AsyncResult\u0026lt;SQLConnection\u0026gt;\u0026gt;\u003c/code\u003e as pa¬≠ra¬≠me¬≠ter. Let‚Äôs have a deeper look to this type. It‚Äôs a \u003ccode\u003eHandler\u003c/code\u003e, so it is called when the re¬≠sult is ready. This re¬≠sult is an in¬≠stance of \u003ccode\u003eAsyncResult\u0026lt;SQLConnection\u0026gt;\u003c/code\u003e. \u003ccode\u003eAsyncResult\u003c/code\u003e is a struc¬≠ture pro¬≠vided by vert.x that lets us know if the op¬≠er¬≠a¬≠tion was com¬≠pleted suc¬≠cess¬≠fully or failed. In case of suc¬≠cess, it pro¬≠vides the re¬≠sult, here an in¬≠stance of \u003ccode\u003eSQLConnection\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eWhen you re¬≠ceive an in¬≠stance of \u003ccode\u003eAsyncResult\u003c/code\u003e, your code gen¬≠er¬≠ally looks like:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.failed()) {\n  System.err.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;The operation has failed...: \u0026quot;\u003c/span\u003e\n      + ar.cause().getMessage());\n} \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n  \u003cspan class=\"hljs-comment\"\u003e// Use the result:\u003c/span\u003e\n  result = ar.result();\n }\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSo, let‚Äôs go back to our \u003ccode\u003eSQLConnection\u003c/code\u003e. We need to re¬≠trieve it, and then start the rest of the ap¬≠pli¬≠ca¬≠tion. This changes how we start the ap¬≠pli¬≠ca¬≠tion, as it will be¬≠come asyn¬≠chro¬≠nous. So, if we di¬≠vide our startup se¬≠quence into small chunks it would be some¬≠thing like:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003estartBackend(\n (connection) -\u0026gt; createSomeData(connection,\n     (nothing) -\u0026gt; startWebApp(\n         (http) -\u0026gt; completeStartup(http, fut)\n     ), fut\n ), fut);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003ewith:\u003c/p\u003e\u003col\u003e\u003cli\u003e\u003ccode\u003estartBackend\u003c/code\u003e - re¬≠trieves a \u003ccode\u003eSQLConnection\u003c/code\u003e and then calls the next step\u003c/li\u003e\u003cli\u003e\u003ccode\u003ecreateSomeData\u003c/code\u003e - ini¬≠tial¬≠izes the data¬≠base and in¬≠serts some data. When done, it calls the next step\u003c/li\u003e\u003cli\u003e\u003ccode\u003estartWebApp\u003c/code\u003e - starts our web ap¬≠pli¬≠ca¬≠tion\u003c/li\u003e\u003cli\u003e\u003ccode\u003ecompleteStartup\u003c/code\u003e - fi¬≠nal¬≠izes our start se¬≠quence\u003c/li\u003e\u003c/ol\u003e\u003cp\u003e\u003ccode\u003efut\u003c/code\u003e is the com¬≠ple¬≠tion fu¬≠ture passed by vert.x that let us re¬≠port when we are started, or if an issue has been en¬≠coun¬≠tered while start¬≠ing.\u003c/p\u003e\u003cp\u003eLet‚Äôs have a look to \u003ccode\u003estartBackend\u003c/code\u003e:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003estartBackend\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Handler\u0026lt;AsyncResult\u0026lt;SQLConnection\u0026gt;\u0026gt; next, Future\u0026lt;Void\u0026gt; fut)\u003c/span\u003e \u003c/span\u003e{\n  jdbc.getConnection(ar -\u0026gt; {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.failed()) {\n      fut.fail(ar.cause());\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n      next.handle(Future.succeededFuture(ar.result()));\n    }\n  });\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis method re¬≠trieves a \u003ccode\u003eSQLConnection\u003c/code\u003e, check whether this op¬≠er¬≠a¬≠tion suc¬≠ceeded. If so, it calls the next step. In case of fail¬≠ure, it re¬≠ports it.\u003c/p\u003e\u003cp\u003eThe other meth¬≠ods fol¬≠low the same pat¬≠tern: 1) check if the last op¬≠er¬≠a¬≠tion has suc¬≠ceeded, 2) do the task, 3) call the next step.\u003c/p\u003e\u003ch3 id=\"a-bit-of-sql\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#a-bit-of-sql\"\u003e\u003c/a\u003eA bit of SQL‚Ä¶\u003c/h3\u003e\u003cp\u003eOur client is ready, let‚Äôs now write some SQL state¬≠ments. Let‚Äôs start by the \u003ccode\u003ecreateSomeData\u003c/code\u003e method that is part of the startup se¬≠quence:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ecreateSomeData\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(AsyncResult\u0026lt;SQLConnection\u0026gt; result,\n    Handler\u0026lt;AsyncResult\u0026lt;Void\u0026gt;\u0026gt; next, Future\u0026lt;Void\u0026gt; fut)\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (result.failed()) {\n      fut.fail(result.cause());\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n      SQLConnection connection = result.result();\n      connection.execute(\n          \u003cspan class=\"hljs-string\"\u003e\u0026quot;CREATE TABLE IF NOT EXISTS Whisky (id INTEGER IDENTITY, name varchar(100), \u0026quot;\u003c/span\u003e +\n          \u003cspan class=\"hljs-string\"\u003e\u0026quot;origin varchar(100))\u0026quot;\u003c/span\u003e,\n          ar -\u0026gt; {\n            \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.failed()) {\n              fut.fail(ar.cause());\n              connection.close();\n              \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e;\n            }\n            connection.query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM Whisky\u0026quot;\u003c/span\u003e, select -\u0026gt; {\n              \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (select.failed()) {\n                fut.fail(ar.cause());\n                connection.close();\n                \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e;\n              }\n              \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (select.result().getNumRows() == \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) {\n                insert(\n                    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e Whisky(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Bowmore 15 Years Laimrig\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Scotland, Islay\u0026quot;\u003c/span\u003e),\n                    connection,\n                    (v) -\u0026gt; insert(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e Whisky(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Talisker 57¬∞ North\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Scotland, Island\u0026quot;\u003c/span\u003e),\n                        connection,\n                        (r) -\u0026gt; {\n                          next.handle(Future.\u0026lt;Void\u0026gt;succeededFuture());\n                          connection.close();\n                        }));                                                    \n              } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n                next.handle(Future.\u0026lt;Void\u0026gt;succeededFuture());\n                connection.close();\n              }\n            });\n          });\n    }\n  }\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis method checks that the \u003ccode\u003eSQLConnection\u003c/code\u003e is avail¬≠able and then start ex¬≠e¬≠cut¬≠ing some SQL state¬≠ments. First, it cre¬≠ates the ta¬≠bles if there are not there yet. As you can see, the method called is struc¬≠tured as fol¬≠lows:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003econnection.execute(\n    SQL statement,\n    handler called when the statement has been executed\n)\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe han¬≠dler re¬≠ceives an \u003ccode\u003eAsyncResult\u0026lt;Void\u0026gt;\u003c/code\u003e, \u003cem\u003ei.e.\u003c/em\u003e a no¬≠ti¬≠fi¬≠ca¬≠tion of the com¬≠ple¬≠tion with¬≠out an ac¬≠tual re¬≠sult.\u003c/p\u003e\u003cdiv class=\"alert info\"\u003e\u003cdiv class=\"alert-title\"\u003eClosing connection\u003c/div\u003e\u003cp\u003eDon‚Äôt for¬≠get to close the SQL con¬≠nec¬≠tion when you are done. The con¬≠nec¬≠tion will be given back to the con¬≠nec¬≠tion pool and be reused.\u003c/p\u003e\u003c/div\u003e\u003cp\u003eIn the code of this han¬≠dler, we check whether or not the state¬≠ment has been ex¬≠e¬≠cuted cor¬≠rectly, and if so we check to see if the table al¬≠ready con¬≠tains some data, if not, it in¬≠serts data using the \u003ccode\u003einsert\u003c/code\u003e method:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003einsert\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Whisky whisky, SQLConnection connection, Handler\u0026lt;AsyncResult\u0026lt;Whisky\u0026gt;\u0026gt; next)\u003c/span\u003e \u003c/span\u003e{\n  String sql = \u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO Whisky (name, origin) VALUES ?, ?\u0026quot;\u003c/span\u003e;\n  connection.updateWithParams(sql,\n      \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonArray().add(whisky.getName()).add(whisky.getOrigin()),\n      (ar) -\u0026gt; {\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.failed()) {\n          next.handle(Future.failedFuture(ar.cause()));\n          \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e;\n        }\n        UpdateResult result = ar.result();\n        \u003cspan class=\"hljs-comment\"\u003e// Build a new whisky instance with the generated id.\u003c/span\u003e\n        Whisky w = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e Whisky(result.getKeys().getInteger(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e), whisky.getName(), whisky.getOrigin());\n        next.handle(Future.succeededFuture(w));\n      });\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis method uses the \u003ccode\u003eupdateWithParams\u003c/code\u003e method with an \u003cem\u003eIN¬≠SERT\u003c/em\u003e state¬≠ment, and pass val¬≠ues. This ap¬≠proach avoids SQL in¬≠jec¬≠tion. Once the the state¬≠ment has been ex¬≠e¬≠cuted, we cre¬≠ates a new \u003ccode\u003eWhisky\u003c/code\u003e ob¬≠ject with the cre¬≠ated (auto-‚Äãgenerated) id.\u003c/p\u003e\u003ch2 id=\"some-rest-with-a-pinch-of-sql\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#some-rest-with-a-pinch-of-sql\"\u003e\u003c/a\u003eSome REST with a pinch of SQL\u003c/h2\u003e\u003cp\u003eThe method de¬≠scribed  above is part of our start se¬≠quence. But what about the method in¬≠voked by our REST API. Let‚Äôs have a look to the \u003ccode\u003egetAll\u003c/code\u003e method. This method is called by the web front-‚Äãend to re¬≠trieve all stored prod¬≠ucts:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetAll\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(RoutingContext routingContext)\u003c/span\u003e \u003c/span\u003e{\n    jdbc.getConnection(ar -\u0026gt; {\n      SQLConnection connection = ar.result();\n      connection.query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM Whisky\u0026quot;\u003c/span\u003e, result -\u0026gt; {\n        List\u0026lt;Whisky\u0026gt; whiskies = result.result().getRows().stream().map(Whisky::\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e).collect(Collectors.toList());\n        routingContext.response()\n            .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;application/json; charset=utf-8\u0026quot;\u003c/span\u003e)\n            .end(Json.encodePrettily(whiskies));\n        connection.close(); \u003cspan class=\"hljs-comment\"\u003e// Close the connection     \u003c/span\u003e\n      });\n    });\n  }\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis method gets a \u003ccode\u003eSQLConnection\u003c/code\u003e, and then issue a query. Once the re¬≠sult has been re¬≠trieved it writes the HTTP re¬≠sponse as be¬≠fore. The \u003ccode\u003egetOne\u003c/code\u003e, \u003ccode\u003edeleteOne\u003c/code\u003e, \u003ccode\u003eupdateOne\u003c/code\u003e and \u003ccode\u003eaddOne\u003c/code\u003e meth¬≠ods fol¬≠low the same pat¬≠tern. No¬≠tice that the con¬≠nec¬≠tion can be closed after the re¬≠sponse has been writ¬≠ten.\u003c/p\u003e\u003cp\u003eLet‚Äôs have a look to the re¬≠sult pro¬≠vided to the han¬≠dler passed to the \u003ccode\u003equery\u003c/code\u003e method. It gets a \u003ccode\u003eResultSet\u003c/code\u003e, which con¬≠tains the query re¬≠sult. Each row is a \u003ccode\u003eJsonObject\u003c/code\u003e, so if your data ob¬≠ject has a con¬≠struc¬≠tor tak¬≠ing a \u003ccode\u003eJsonObject\u003c/code\u003e as unique ar¬≠gu¬≠ment, cre¬≠at¬≠ing there ob¬≠jects is straight¬≠for¬≠ward.\u003c/p\u003e\u003ch2 id=\"test-test-and-test-again\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#test-test-and-test-again\"\u003e\u003c/a\u003eTest, test, and test again\u003c/h2\u003e\u003cp\u003eWe need to slightly up¬≠date our tests to con¬≠fig¬≠ure the \u003ccode\u003eJDBCClient\u003c/code\u003e. In the \u003ccode\u003eMyFirstVertilceTest\u003c/code\u003e class, change the \u003ccode\u003eDeploymentOption\u003c/code\u003e ob¬≠ject cre¬≠ated in the \u003ccode\u003esetUp\u003c/code\u003e method to be:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eDeploymentOptions options = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e DeploymentOptions()\n    .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n        .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;http.port\u0026quot;\u003c/span\u003e, port)\n        .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;url\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;jdbc:hsqldb:mem:test?shutdown=true\u0026quot;\u003c/span\u003e)\n        .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;driver_class\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;org.hsqldb.jdbcDriver\u0026quot;\u003c/span\u003e)\n    );\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIn ad¬≠di¬≠tion to the \u003ccode\u003ehttp.port\u003c/code\u003e, we also put the JDBC url and the class of the JDBC dri¬≠ver. We use an in-‚Äãmemory data¬≠base for tests.\u003c/p\u003e\u003cp\u003eThe same mod¬≠i¬≠fi¬≠ca¬≠tion needs to be done in the \u003ccode\u003esrc/test/resources/my-it-config.json\u003c/code\u003e file:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e{\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;http.port\u0026quot;\u003c/span\u003e: ${http.port},\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;url\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;jdbc:hsqldb:mem:it-test?shutdown=true\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;driver_class\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;org.hsqldb.jdbcDriver\u0026quot;\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe \u003ccode\u003esrc/main/conf/my-application-conf.json\u003c/code\u003e file also needs to be up¬≠dated, not for the tests, but to run the ap¬≠pli¬≠ca¬≠tion:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e{\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;http.port\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e8082\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;url\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;jdbc:hsqldb:file:db/whiskies\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;driver_class\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;org.hsqldb.jdbcDriver\u0026quot;\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe JDBC url is a bit dif¬≠fer¬≠ent in this last file, as we store the data¬≠base on the file sys¬≠tem.\u003c/p\u003e\u003ch2 id=\"show-time\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#show-time\"\u003e\u003c/a\u003eShow time!\u003c/h2\u003e\u003cp\u003eLet‚Äôs now build our ap¬≠pli¬≠ca¬≠tion:\u003c/p\u003e\u003cp\u003e\u003ccode\u003emvn clean package\u003c/code\u003e\u003c/p\u003e\u003cp\u003eAs we didn‚Äôt change the API (nei¬≠ther the pub¬≠lic java one nor the REST), test should run smoothly.\u003c/p\u003e\u003cp\u003eThen launch the ap¬≠pli¬≠ca¬≠tion with:\u003c/p\u003e\u003cp\u003e\u003ccode\u003ejava -jar target/my-first-app-1.0-SNAPSHOT-fat.jar -conf src/main/conf/my-application-conf.json \u003c/code\u003e\u003c/p\u003e\u003cp\u003eOpen your browser to \u003ccode\u003ehttp://localhost:8082/assets/index.html\u003c/code\u003e, and you should see the ap¬≠pli¬≠ca¬≠tion using the data¬≠base. This time the prod¬≠ucts are stored in a data¬≠base per¬≠sisted on the file sys¬≠tem. So, if we stop and restart the ap¬≠pli¬≠ca¬≠tion, the data is re¬≠stored.\u003c/p\u003e\u003ch2 id=\"conclusion\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#conclusion\"\u003e\u003c/a\u003eConclusion\u003c/h2\u003e\u003cp\u003eIn this post, we saw how you can use JDBC data¬≠base with vert.x, and thus with¬≠out too much bur¬≠den. You may have been sur¬≠prised by the asyn¬≠chro¬≠nous de¬≠vel¬≠op¬≠ment model, but once you start using it, it‚Äôs hard to come back.\u003c/p\u003e\u003cp\u003eIn the \u003ca href=\"/blog/combine-vert-x-and-mongo-to-build-a-giant/\"\u003enext post\u003c/a\u003e, we see how the same ap¬≠pli¬≠ca¬≠tion can use Mon¬≠goDB in¬≠stead of HSQL.\u003c/p\u003e\u003cp\u003eStay tuned, and happy cod¬≠ing!\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"us","tf":22},{"term":"jdbc","tf":20},{"term":"method","tf":19},{"term":"applic","tf":17},{"term":"let","tf":16},{"term":"post","tf":15},{"term":"databas","tf":13},{"term":"result","tf":13},{"term":"asynchron","tf":12},{"term":"start","tf":11},{"term":"api","tf":9},{"term":"provid","tf":9},{"term":"client","tf":9},{"term":"test","tf":9},{"term":"call","tf":8},{"term":"need","tf":8},{"term":"not","tf":7},{"term":"creat","tf":7},{"term":"driver","tf":6},{"term":"look","tf":6},{"term":"file","tf":6},{"term":"sql","tf":6},{"term":"back","tf":5},{"term":"time","tf":5},{"term":"configur","tf":5}]},{"filename":"blog/2015-09-17-contract-driven-rest-services-with-vert-x3.mdx","date":"2015-09-17","slug":"contract-driven-rest-services-with-vert-x3","meta":{"title":"Contract Driven REST Services with Vert.x3","category":"guides","authors":[{"name":"Paulo Lopes","github_id":"pmlopes"}],"summary":"We see a new trend in development where we are shifting from developing applications to APIs. More and more we see services being offered as REST APIs that we are allowed to consume."},"readingTime":{"text":"8 min read","minutes":7.185,"time":431099.99999999994,"words":1437},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"We see a new trend in de\\xADvel\\xADop\\xADment where we are shift\\xADing from de\\xADvel\\xADop\\xADing ap\\xADpli\\xADca\\xADtions to de\\xADvelop APIs. More and more we see ser\\xADvices being of\\xADfered as REST APIs that we are al\\xADlowed to con\\xADsume and we al\\xADready see this trend from the big names in the in\\xADdus\\xADtry, e.g.: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://developers.facebook.com/\"\n  }), \"Face\\xADbook\"), \", \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.mediawiki.org/wiki/API:Main_page\"\n  }), \"Wikipedia\"), \", \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://developer.amazon.com/public/apis\"\n  }), \"Ama\\xADzon\"), \", \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://dev.twitter.com/overview/documentation\"\n  }), \"Twit\\xADter\"), \", \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://developers.google.com/apis-explorer/#p/\"\n  }), \"Google\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.reddit.com/dev/api\"\n  }), \"Red\\xADdit\"), \" they all offer APIs.\"), mdx(\"p\", null, \"Of course mak\\xADing an REST API using Vert.x is quite sim\\xADple, just use \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vertx.io/docs/#web\"\n  }), \"Vert.x Web\"), \" and you can start writ\\xADing your API in sec\\xADonds, how\\xADever an API with\\xADout doc\\xADu\\xADmen\\xADta\\xADtion is not an API since no de\\xADvel\\xADoper will know how to use it. How\\xADever this is one of the most sen\\xADsi\\xADtive is\\xADsues to tackle in soft\\xADware de\\xADvel\\xADop\\xADment, no\\xADbody likes to write doc\\xADu\\xADmen\\xADta\\xADtion. How\\xADever, in the REST age where REST-\\u200Bbased web-\\u200Bservices are ubiq\\xADui\\xADtous, doc\\xADu\\xADmen\\xADta\\xADtion for pub\\xADlic web-\\u200Bservices is a ne\\xADces\\xADsity. There are a lot of tools out there, two of the most pop\\xADu\\xADlar are with\\xADout a doubt:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://swagger.io\"\n  }), \"Swag\\xADger\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://raml.org\"\n  }), \"RAML\"))), mdx(\"p\", null, \"Both frame\\xADworks have a large ecosys\\xADtem of tools and tool\\xADing around but they tackle the doc\\xADu\\xADmen\\xADta\\xADtion from two dif\\xADfer\\xADent per\\xADspec\\xADtives. While Swag\\xADger is purely a doc\\xADu\\xADmen\\xADta\\xADtion tool it tack\\xADles the prob\\xADlem from bot\\xADtom up and RAML does doc\\xADu\\xADment top down. They both rely on a doc\\xADu\\xADment (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JSON\"), \" for Swag\\xADger, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"YAML\"), \" for RAML).\"), mdx(\"p\", null, \"I\\u2019ll now go over build\\xADing a sim\\xADple Hello World API, doc\\xADu\\xADment it and test it. For this ex\\xADam\\xADple I\\u2019ll choose RAML since it feels more nat\\xADural to the way we code with Vert.x Web.\"), mdx(\"h2\", {\n    \"id\": \"define-the-hello-world-api\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#define-the-hello-world-api\"\n  })), \"Define the Hello World API\"), mdx(\"p\", null, \"We need a con\\xADtract and as with any other de\\xADvel\\xADop\\xADment we need some spec\\xADi\\xADfi\\xADca\\xADtion, You can learn about RAML in its \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://raml.org\"\n  }), \"web\\xADsite\"), \" and quickly see how easy it is to get started. So we start with the fol\\xADlow\\xADing spec\\xADi\\xADfi\\xADca\\xADtion:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-yaml\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"#%RAML 0.8\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"title:\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"Hello\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"world\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"REST\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"API\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"baseUri:\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"http://localhost:8080/\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"version:\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"v1\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"/hello:\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"get:\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"responses:\"), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"200:\"), \"\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"body:\"), \"\\n          \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"application/json:\"), \"\\n            \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"schema:\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"|\\n              { \\\"$schema\\\": \\\"http://json-schema.org/schema\\\",\\n                \\\"type\\\": \\\"object\\\",\\n                \\\"description\\\": \\\"Hello World Greeting\\\",\\n                \\\"properties\\\": {\\n                  \\\"greeting\\\":  { \\\"type\\\": \\\"string\\\" }\\n                },\\n                \\\"required\\\": [ \\\"greeting\\\" ]\\n              }\\n\"))), mdx(\"p\", null, \"So if you didn\\u2019t un\\xADder\\xADstood why I named RAML as a top down doc\\xADu\\xADmen\\xADta\\xADtion tool, I think it be\\xADcomes clear now. So there are some basic de\\xADf\\xADi\\xADn\\xADi\\xADtion on the top of the file like, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"title\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"baseUri\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"version\"), \" which should be self ex\\xADplana\\xADtory.\"), mdx(\"p\", null, \"And then we start with the API doc\\xADu\\xADmen\\xADta\\xADtion, so we spec\\xADify that at the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"URL\"), \" \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/hello\"), \" using the HTTP verb \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GET\"), \" you are ex\\xADpected to get a re\\xADsponse with sta\\xADtus code \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"200\"), \" and the body of the re\\xADsponse should have con\\xADtent type \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"application/json\"), \". This is a very min\\xADi\\xADmal doc\\xADu\\xADment, one could go over and spec\\xADify the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://json-schema.org/\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"json schema\")), \" for the re\\xADsponse, input val\\xADues, etc\\u2026, how\\xADever lets just keep it sim\\xADple for this ex\\xADam\\xADple.\"), mdx(Alert, {\n    info: true,\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"If you do not like to write yaml in your ed\\xADi\\xADtor you can al\\xADways use the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://raml.org/projects.html\"\n  }), \"API De\\xADsigner\"), \" which gives you in\\xADstant feed\\xADback on your API doc\\xADu\\xADment and pro\\xADvides a test\\xADing plat\\xADform.\")), mdx(\"h2\", {\n    \"id\": \"implement-the-api\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#implement-the-api\"\n  })), \"Implement the API\"), mdx(\"p\", null, \"So you got your con\\xADtract, time to im\\xADple\\xADment it, this is a very sim\\xADple API so I\\u2019ll jump to the code im\\xADme\\xADdi\\xADately:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"class\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"App\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"extends\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"AbstractVerticle\"), \" \"), \"{\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@Override\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"start\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n    Router router = Router.router(vertx);\\n\\n    router.get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/hello\\\"\"), \").handler(rc -\u003e {\\n      rc.response()\\n          .putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"application/json\\\"\"), \")\\n          .end(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject().put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"greeting\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Hello World!\\\"\"), \").encode());\\n    });\\n\\n    vertx.createHttpServer().requestHandler(router::accept).listen(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \");\\n  }\\n}\\n\")), mdx(\"p\", null, \"As you can see the code re\\xADsem\\xADbles the con\\xADtract doc\\xADu\\xADment, when there is a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GET\"), \" re\\xADquest to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/hello\"), \" we send to the client a empty \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JSON\"), \" doc\\xADu\\xADment \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"{}\"), \".\"), mdx(\"h2\", {\n    \"id\": \"are-we-done\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#are-we-done\"\n  })), \"Are we done?\"), mdx(\"p\", null, \"The an\\xADswer is \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"NO!!!\"), \" how can we be sure that our im\\xADple\\xADmen\\xADta\\xADtion does com\\xADply to the con\\xADtract? We need to test. As I wrote be\\xADfore there is no spe\\xADcific sup\\xADport for Vert.x from RAML or other tools how\\xADever in this case it is not a prob\\xADlem we can still test our code with\\xADout hav\\xADing the need to im\\xADple\\xADment a test frame\\xADwork from the ground up.\"), mdx(\"h2\", {\n    \"id\": \"testing-our-contract\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#testing-our-contract\"\n  })), \"Testing our contract\"), mdx(\"p\", null, \"The ini\\xADtial step is to setup a test, this should be triv\\xADial we are using Java (al\\xADthough we could test any of Vert.x\\nsup\\xADported lan\\xADguages using the same tech\\xADnique). We cre\\xADate a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://junit.org/\"\n  }), \"JUnit\"), \" unit test.\"), mdx(Alert, {\n    info: true,\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"For this ex\\xADam\\xADple, I will be using JUnit in\\xADstead of Vert.x Test mostly to let you know that Vert.x isn\\u2019t an opin\\xADion\\xADated frame\\xADwork, so you are free to choose the tool that best fits you.\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"class\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"APITest\"), \" \"), \"{\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@BeforeClass\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"static\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"bootApp\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n    Runner.run(App.class);\\n  }\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@Test\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"testHelloEndpoint\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n  }\\n}\\n\")), mdx(\"p\", null, \"So at this mo\\xADment you have a sim\\xADple test, I\\u2019ll share the code of the run\\xADner class (ba\\xADsi\\xADcally it just in\\xADstan\\xADti\\xADates a\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Vertx\"), \" in\\xADstance and load the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"verticle\"), \" we just im\\xADple\\xADmented above) and has a empty test \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"testHelloEndpoint\"), \".\"), mdx(\"h3\", {\n    \"id\": \"load-the-api-definition-into-the-test\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#load-the-api-definition-into-the-test\"\n  })), \"Load the API definition into the test\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"class\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"APITest\"), \" \"), \"{\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"static\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"final\"), \" RamlDefinition api = RamlLoaders.fromClasspath()\\n        .load(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/api/hello.raml\\\"\"), \")\\n        .assumingBaseUri(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"http://localhost:8080/\\\"\"), \");\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" CheckingWebTarget checking;\\n\\n  ...\\n}\\n\")), mdx(\"p\", null, \"So the first step is to load the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"API\"), \" de\\xADf\\xADi\\xADn\\xADi\\xADtion into our test and have a ref\\xADer\\xADence to a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CheckingWebTarget\"), \" ob\\xADject. The check\\xADing ob\\xADject is where you can per\\xADform as\\xADser\\xADtions, but to do this we need some client make REST calls in order to test.\"), mdx(\"h3\", {\n    \"id\": \"create-a-rest-client\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#create-a-rest-client\"\n  })), \"Create a REST client\"), mdx(\"p\", null, \"There are many op\\xADtions for this, you could use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JAX-RS\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RestAssured\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RestEasy\"), \", etc\\u2026 so I\\u2019ll pick \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RestEasy\"), \" for now:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"class\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"APITest\"), \" \"), \"{\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"static\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"final\"), \" RamlDefinition api = RamlLoaders.fromClasspath()\\n      .load(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/api/hello.raml\\\"\"), \")\\n      .assumingBaseUri(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"http://localhost:8080/\\\"\"), \");\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" ResteasyClient client = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" ResteasyClientBuilder().build();\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" CheckingWebTarget checking;\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@BeforeClass\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"static\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"bootApp\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n    Runner.run(App.class);\\n  }\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@Before\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"createTarget\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n    checking = api.createWebTarget(client.target(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"http://localhost:8080\\\"\"), \"));\\n  }\\n\\n  ...\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"implement-the-test\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#implement-the-test\"\n  })), \"Implement the test\"), mdx(\"p\", null, \"All of the boil\\xADer\\xADplate code is in place and if you look at the pre\\xADvi\\xADous sec\\xADtion you will see that it wasn\\u2019t that bad, just a few lines and you loaded the RAML con\\xADtract, cre\\xADated a REST client and started up your ap\\xADpli\\xADca\\xADtion and all this under ~10 lines of code.\"), mdx(\"p\", null, \"So lets fin\\xADish and im\\xADple\\xADment the ver\\xADi\\xADfi\\xADca\\xADtion of the con\\xADtract:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"class\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"APITest\"), \" \"), \"{\\n  ...\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@Test\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"testHelloEndpoint\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n    checking.path(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/hello\\\"\"), \").request().get();\\n    Assert.assertThat(checking.getLastReport(), RamlMatchers.hasNoViolations());\\n  }\\n}\\n\")), mdx(\"p\", null, \"Once you run your tests, you will see:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-css\"\n  }), \"13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.200\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"o\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".a\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".h\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".i\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".conn\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".DefaultClientConnection\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Sending\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"request\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"GET\"), \" /\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"hello\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"HTTP\"), \"/1\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".1\"), \"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.201\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".wire\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \"  \u003e\u003e \\\"\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"GET\"), \" /\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"hello\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"HTTP\"), \"/1\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".1\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\r]\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\n]\"), \"\\\"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.202\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".wire\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \"  \u003e\u003e \\\"\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Accept-Encoding\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"gzip\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"deflate\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\r]\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\n]\"), \"\\\"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.202\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".wire\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \"  \u003e\u003e \\\"\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Host\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"localhost\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":8080\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\r]\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\n]\"), \"\\\"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.202\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".wire\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \"  \u003e\u003e \\\"\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Connection\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Keep-Alive\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\r]\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\n]\"), \"\\\"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.202\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".wire\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \"  \u003e\u003e \\\"\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\r]\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\n]\"), \"\\\"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.202\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".headers\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \" \u003e\u003e \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"GET\"), \" /\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"hello\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"HTTP\"), \"/1\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".1\"), \"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.202\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".headers\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \" \u003e\u003e \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Accept-Encoding\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"gzip\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"deflate\"), \"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.203\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".headers\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \" \u003e\u003e \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Host\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"localhost\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":8080\"), \"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.203\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".headers\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \" \u003e\u003e \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Connection\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Keep-Alive\"), \"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.412\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".wire\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \"  \u003c\u003c \\\"\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"HTTP\"), \"/1\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".1\"), \" 200 \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"OK\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\r]\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\n]\"), \"\\\"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.413\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".wire\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \"  \u003c\u003c \\\"\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"content-type\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"application\"), \"/\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"json\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\r]\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\n]\"), \"\\\"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.413\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".wire\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \"  \u003c\u003c \\\"\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Content-Length\"), \": 2\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\r]\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\n]\"), \"\\\"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.413\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".wire\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \"  \u003c\u003c \\\"\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\r]\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[\\\\n]\"), \"\\\"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.414\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"o\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".a\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".h\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".i\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".conn\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".DefaultClientConnection\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Receiving\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"response\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"HTTP\"), \"/1\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".1\"), \" 200 \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"OK\"), \"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.414\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".headers\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \" \u003c\u003c \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"HTTP\"), \"/1\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".1\"), \" 200 \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"OK\"), \"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.415\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".headers\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \" \u003c\u003c \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"content-type\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"application\"), \"/\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"json\"), \"\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.415\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".headers\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \" \u003c\u003c \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Content-Length\"), \": 2\\n13\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":09\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-pseudo\"\n  }), \":28.429\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-attr\"\n  }), \"[main]\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"DEBUG\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"org\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".apache\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".http\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".wire\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"-\"), \"  \u003c\u003c \\\"{}\\\"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Tests\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"run\"), \": 1, \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Failures\"), \": 0, \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Errors\"), \": 0, \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Skipped\"), \": 0, \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Time\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"elapsed\"), \": 1\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-class\"\n  }), \".076\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"sec\"), \"\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Results\"), \" :\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Tests\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"run\"), \": 1, \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Failures\"), \": 0, \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Errors\"), \": 0, \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-selector-tag\"\n  }), \"Skipped\"), \": 0\\n\")), mdx(\"p\", null, \"And we are done, we now have a API that fol\\xADlow the con\\xADtract, you can now keep de\\xADvel\\xADop\\xADing your API and im\\xADple\\xADmen\\xADta\\xADtion and have a test dri\\xADven ap\\xADproach to be sure that the con\\xADtract is not bro\\xADken.\"), mdx(\"h2\", {\n    \"id\": \"next-steps\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#next-steps\"\n  })), \"Next steps\"), mdx(\"p\", null, \"Until now you have learn how to in\\xADte\\xADgrate RAML into Vert.x and CI, how\\xADever the users of your API will not be able to know much about the API yet since its doc\\xADu\\xADmen\\xADta\\xADtion is not pub\\xADlicly avail\\xADable. So lets pub\\xADlish on\\xADline the doc\\xADu\\xADmen\\xADta\\xADtion of your API, of course if your API is pri\\xADvate you do not need to fol\\xADlow these steps.\"), mdx(\"p\", null, \"In order to do this all we need it to in\\xADclude in our ap\\xADpli\\xADca\\xADtion the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/mulesoft/api-console\"\n  }), \"RAML con\\xADsole\"), \", the fastest way to do this is just down\\xADload a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/mulesoft/api-console/releases\"\n  }), \"re\\xADlease\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/main/resouces/webroot\"), \" and in the orig\\xADi\\xADnal ap\\xADpli\\xADca\\xADtion Vert.x Router we add a Sta\\xADtic Con\\xADtent Han\\xADdler to serve the con\\xADsole files. Your ap\\xADpli\\xADca\\xADtion source code should look like this:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"class\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"App\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"extends\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"AbstractVerticle\"), \" \"), \"{\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@Override\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"start\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n    Router router = Router.router(vertx);\\n\\n    router.get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/hello\\\"\"), \").handler(rc -\u003e {\\n      rc.response()\\n          .putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"application/json\\\"\"), \")\\n          .end(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject().put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"greeting\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Hello World!\\\"\"), \").encode());\\n    });\\n\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// optionally enable the web console so users can play with your API\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// online from their web browsers\"), \"\\n    router.route().handler(StaticHandler.create());\\n\\n    vertx.createHttpServer().requestHandler(router::accept).listen(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \");\\n  }\\n}\\n\")), mdx(\"p\", null, \"Once you start you ap\\xADpli\\xADca\\xADtion open a browser point\\xADing at the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://localhost:8080?raml=/api/hello.raml\"\n  }), \"con\\xADsole\"), \". Once you do that you should be pre\\xADsented with some\\xADthing sim\\xADi\\xADlar to this:\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/images/blog/vertx3-contract-driven-rest-services/raml-console.png\",\n    \"alt\": \"apiconsole\"\n  }))), mdx(\"h2\", {\n    \"id\": \"article-source-code\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#article-source-code\"\n  })), \"Article source code\"), mdx(\"p\", null, \"You can get the full source code for this ar\\xADti\\xADcle \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/pmlopes/vert-x3-experiments/tree/experiments/raml\"\n  }), \"here\"), \".\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eWe see a new trend in de¬≠vel¬≠op¬≠ment where we are shift¬≠ing from de¬≠vel¬≠op¬≠ing ap¬≠pli¬≠ca¬≠tions to de¬≠velop APIs. More and more we see ser¬≠vices being of¬≠fered as REST APIs that we are al¬≠lowed to con¬≠sume and we al¬≠ready see this trend from the big names in the in¬≠dus¬≠try, e.g.: \u003ca href=\"https://developers.facebook.com/\"\u003eFace¬≠book\u003c/a\u003e, \u003ca href=\"https://www.mediawiki.org/wiki/API:Main_page\"\u003eWikipedia\u003c/a\u003e, \u003ca href=\"https://developer.amazon.com/public/apis\"\u003eAma¬≠zon\u003c/a\u003e, \u003ca href=\"https://dev.twitter.com/overview/documentation\"\u003eTwit¬≠ter\u003c/a\u003e, \u003ca href=\"https://developers.google.com/apis-explorer/#p/\"\u003eGoogle\u003c/a\u003e and \u003ca href=\"https://www.reddit.com/dev/api\"\u003eRed¬≠dit\u003c/a\u003e they all offer APIs.\u003c/p\u003e\u003cp\u003eOf course mak¬≠ing an REST API using Vert.x is quite sim¬≠ple, just use \u003ca href=\"http://vertx.io/docs/#web\"\u003eVert.x Web\u003c/a\u003e and you can start writ¬≠ing your API in sec¬≠onds, how¬≠ever an API with¬≠out doc¬≠u¬≠men¬≠ta¬≠tion is not an API since no de¬≠vel¬≠oper will know how to use it. How¬≠ever this is one of the most sen¬≠si¬≠tive is¬≠sues to tackle in soft¬≠ware de¬≠vel¬≠op¬≠ment, no¬≠body likes to write doc¬≠u¬≠men¬≠ta¬≠tion. How¬≠ever, in the REST age where REST-‚Äãbased web-‚Äãservices are ubiq¬≠ui¬≠tous, doc¬≠u¬≠men¬≠ta¬≠tion for pub¬≠lic web-‚Äãservices is a ne¬≠ces¬≠sity. There are a lot of tools out there, two of the most pop¬≠u¬≠lar are with¬≠out a doubt:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"http://swagger.io\"\u003eSwag¬≠ger\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"http://raml.org\"\u003eRAML\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eBoth frame¬≠works have a large ecosys¬≠tem of tools and tool¬≠ing around but they tackle the doc¬≠u¬≠men¬≠ta¬≠tion from two dif¬≠fer¬≠ent per¬≠spec¬≠tives. While Swag¬≠ger is purely a doc¬≠u¬≠men¬≠ta¬≠tion tool it tack¬≠les the prob¬≠lem from bot¬≠tom up and RAML does doc¬≠u¬≠ment top down. They both rely on a doc¬≠u¬≠ment (\u003ccode\u003eJSON\u003c/code\u003e for Swag¬≠ger, \u003ccode\u003eYAML\u003c/code\u003e for RAML).\u003c/p\u003e\u003cp\u003eI‚Äôll now go over build¬≠ing a sim¬≠ple Hello World API, doc¬≠u¬≠ment it and test it. For this ex¬≠am¬≠ple I‚Äôll choose RAML since it feels more nat¬≠ural to the way we code with Vert.x Web.\u003c/p\u003e\u003ch2 id=\"define-the-hello-world-api\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#define-the-hello-world-api\"\u003e\u003c/a\u003eDefine the Hello World API\u003c/h2\u003e\u003cp\u003eWe need a con¬≠tract and as with any other de¬≠vel¬≠op¬≠ment we need some spec¬≠i¬≠fi¬≠ca¬≠tion, You can learn about RAML in its \u003ca href=\"http://raml.org\"\u003eweb¬≠site\u003c/a\u003e and quickly see how easy it is to get started. So we start with the fol¬≠low¬≠ing spec¬≠i¬≠fi¬≠ca¬≠tion:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-comment\"\u003e#%RAML 0.8\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003etitle:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eHello\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eworld\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eREST\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eAPI\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003ebaseUri:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ehttp://localhost:8080/\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ev1\u003c/span\u003e\n\u003cspan class=\"hljs-string\"\u003e/hello:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003eget:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eresponses:\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003e200:\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003ebody:\u003c/span\u003e\n          \u003cspan class=\"hljs-attr\"\u003eapplication/json:\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003eschema:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e|\n              { \u0026quot;$schema\u0026quot;: \u0026quot;http://json-schema.org/schema\u0026quot;,\n                \u0026quot;type\u0026quot;: \u0026quot;object\u0026quot;,\n                \u0026quot;description\u0026quot;: \u0026quot;Hello World Greeting\u0026quot;,\n                \u0026quot;properties\u0026quot;: {\n                  \u0026quot;greeting\u0026quot;:  { \u0026quot;type\u0026quot;: \u0026quot;string\u0026quot; }\n                },\n                \u0026quot;required\u0026quot;: [ \u0026quot;greeting\u0026quot; ]\n              }\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSo if you didn‚Äôt un¬≠der¬≠stood why I named RAML as a top down doc¬≠u¬≠men¬≠ta¬≠tion tool, I think it be¬≠comes clear now. So there are some basic de¬≠f¬≠i¬≠n¬≠i¬≠tion on the top of the file like, \u003ccode\u003etitle\u003c/code\u003e, \u003ccode\u003ebaseUri\u003c/code\u003e and \u003ccode\u003eversion\u003c/code\u003e which should be self ex¬≠plana¬≠tory.\u003c/p\u003e\u003cp\u003eAnd then we start with the API doc¬≠u¬≠men¬≠ta¬≠tion, so we spec¬≠ify that at the \u003ccode\u003eURL\u003c/code\u003e \u003ccode\u003e/hello\u003c/code\u003e using the HTTP verb \u003ccode\u003eGET\u003c/code\u003e you are ex¬≠pected to get a re¬≠sponse with sta¬≠tus code \u003ccode\u003e200\u003c/code\u003e and the body of the re¬≠sponse should have con¬≠tent type \u003ccode\u003eapplication/json\u003c/code\u003e. This is a very min¬≠i¬≠mal doc¬≠u¬≠ment, one could go over and spec¬≠ify the \u003ca href=\"http://json-schema.org/\"\u003e\u003ccode\u003ejson schema\u003c/code\u003e\u003c/a\u003e for the re¬≠sponse, input val¬≠ues, etc‚Ä¶, how¬≠ever lets just keep it sim¬≠ple for this ex¬≠am¬≠ple.\u003c/p\u003e\u003cdiv class=\"alert info\"\u003e\u003cp\u003eIf you do not like to write yaml in your ed¬≠i¬≠tor you can al¬≠ways use the \u003ca href=\"http://raml.org/projects.html\"\u003eAPI De¬≠signer\u003c/a\u003e which gives you in¬≠stant feed¬≠back on your API doc¬≠u¬≠ment and pro¬≠vides a test¬≠ing plat¬≠form.\u003c/p\u003e\u003c/div\u003e\u003ch2 id=\"implement-the-api\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#implement-the-api\"\u003e\u003c/a\u003eImplement the API\u003c/h2\u003e\u003cp\u003eSo you got your con¬≠tract, time to im¬≠ple¬≠ment it, this is a very sim¬≠ple API so I‚Äôll jump to the code im¬≠me¬≠di¬≠ately:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eAbstractVerticle\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@Override\u003c/span\u003e\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003estart\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    Router router = Router.router(vertx);\n\n    router.get(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/hello\u0026quot;\u003c/span\u003e).handler(rc -\u0026gt; {\n      rc.response()\n          .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;application/json\u0026quot;\u003c/span\u003e)\n          .end(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;greeting\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Hello World!\u0026quot;\u003c/span\u003e).encode());\n    });\n\n    vertx.createHttpServer().requestHandler(router::accept).listen(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e);\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAs you can see the code re¬≠sem¬≠bles the con¬≠tract doc¬≠u¬≠ment, when there is a \u003ccode\u003eGET\u003c/code\u003e re¬≠quest to \u003ccode\u003e/hello\u003c/code\u003e we send to the client a empty \u003ccode\u003eJSON\u003c/code\u003e doc¬≠u¬≠ment \u003ccode\u003e{}\u003c/code\u003e.\u003c/p\u003e\u003ch2 id=\"are-we-done\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#are-we-done\"\u003e\u003c/a\u003eAre we done?\u003c/h2\u003e\u003cp\u003eThe an¬≠swer is \u003cstrong\u003eNO!!!\u003c/strong\u003e how can we be sure that our im¬≠ple¬≠men¬≠ta¬≠tion does com¬≠ply to the con¬≠tract? We need to test. As I wrote be¬≠fore there is no spe¬≠cific sup¬≠port for Vert.x from RAML or other tools how¬≠ever in this case it is not a prob¬≠lem we can still test our code with¬≠out hav¬≠ing the need to im¬≠ple¬≠ment a test frame¬≠work from the ground up.\u003c/p\u003e\u003ch2 id=\"testing-our-contract\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#testing-our-contract\"\u003e\u003c/a\u003eTesting our contract\u003c/h2\u003e\u003cp\u003eThe ini¬≠tial step is to setup a test, this should be triv¬≠ial we are using Java (al¬≠though we could test any of Vert.x\nsup¬≠ported lan¬≠guages using the same tech¬≠nique). We cre¬≠ate a \u003ca href=\"http://junit.org/\"\u003eJUnit\u003c/a\u003e unit test.\u003c/p\u003e\u003cdiv class=\"alert info\"\u003e\u003cp\u003eFor this ex¬≠am¬≠ple, I will be using JUnit in¬≠stead of Vert.x Test mostly to let you know that Vert.x isn‚Äôt an opin¬≠ion¬≠ated frame¬≠work, so you are free to choose the tool that best fits you.\u003c/p\u003e\u003c/div\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eAPITest\u003c/span\u003e \u003c/span\u003e{\n\n  \u003cspan class=\"hljs-meta\"\u003e@BeforeClass\u003c/span\u003e\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ebootApp\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    Runner.run(App.class);\n  }\n\n  \u003cspan class=\"hljs-meta\"\u003e@Test\u003c/span\u003e\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003etestHelloEndpoint\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSo at this mo¬≠ment you have a sim¬≠ple test, I‚Äôll share the code of the run¬≠ner class (ba¬≠si¬≠cally it just in¬≠stan¬≠ti¬≠ates a\n\u003ccode\u003eVertx\u003c/code\u003e in¬≠stance and load the \u003ccode\u003everticle\u003c/code\u003e we just im¬≠ple¬≠mented above) and has a empty test \u003ccode\u003etestHelloEndpoint\u003c/code\u003e.\u003c/p\u003e\u003ch3 id=\"load-the-api-definition-into-the-test\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#load-the-api-definition-into-the-test\"\u003e\u003c/a\u003eLoad the API definition into the test\u003c/h3\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eAPITest\u003c/span\u003e \u003c/span\u003e{\n\n  \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e RamlDefinition api = RamlLoaders.fromClasspath()\n        .load(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/api/hello.raml\u0026quot;\u003c/span\u003e)\n        .assumingBaseUri(\u003cspan class=\"hljs-string\"\u003e\u0026quot;http://localhost:8080/\u0026quot;\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e CheckingWebTarget checking;\n\n  ...\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSo the first step is to load the \u003ccode\u003eAPI\u003c/code\u003e de¬≠f¬≠i¬≠n¬≠i¬≠tion into our test and have a ref¬≠er¬≠ence to a \u003ccode\u003eCheckingWebTarget\u003c/code\u003e ob¬≠ject. The check¬≠ing ob¬≠ject is where you can per¬≠form as¬≠ser¬≠tions, but to do this we need some client make REST calls in order to test.\u003c/p\u003e\u003ch3 id=\"create-a-rest-client\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#create-a-rest-client\"\u003e\u003c/a\u003eCreate a REST client\u003c/h3\u003e\u003cp\u003eThere are many op¬≠tions for this, you could use \u003ccode\u003eJAX-RS\u003c/code\u003e, \u003ccode\u003eRestAssured\u003c/code\u003e, \u003ccode\u003eRestEasy\u003c/code\u003e, etc‚Ä¶ so I‚Äôll pick \u003ccode\u003eRestEasy\u003c/code\u003e for now:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eAPITest\u003c/span\u003e \u003c/span\u003e{\n\n  \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e RamlDefinition api = RamlLoaders.fromClasspath()\n      .load(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/api/hello.raml\u0026quot;\u003c/span\u003e)\n      .assumingBaseUri(\u003cspan class=\"hljs-string\"\u003e\u0026quot;http://localhost:8080/\u0026quot;\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e ResteasyClient client = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ResteasyClientBuilder().build();\n  \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e CheckingWebTarget checking;\n\n  \u003cspan class=\"hljs-meta\"\u003e@BeforeClass\u003c/span\u003e\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ebootApp\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    Runner.run(App.class);\n  }\n\n  \u003cspan class=\"hljs-meta\"\u003e@Before\u003c/span\u003e\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ecreateTarget\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    checking = api.createWebTarget(client.target(\u003cspan class=\"hljs-string\"\u003e\u0026quot;http://localhost:8080\u0026quot;\u003c/span\u003e));\n  }\n\n  ...\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"implement-the-test\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#implement-the-test\"\u003e\u003c/a\u003eImplement the test\u003c/h3\u003e\u003cp\u003eAll of the boil¬≠er¬≠plate code is in place and if you look at the pre¬≠vi¬≠ous sec¬≠tion you will see that it wasn‚Äôt that bad, just a few lines and you loaded the RAML con¬≠tract, cre¬≠ated a REST client and started up your ap¬≠pli¬≠ca¬≠tion and all this under ~10 lines of code.\u003c/p\u003e\u003cp\u003eSo lets fin¬≠ish and im¬≠ple¬≠ment the ver¬≠i¬≠fi¬≠ca¬≠tion of the con¬≠tract:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eAPITest\u003c/span\u003e \u003c/span\u003e{\n  ...\n\n  \u003cspan class=\"hljs-meta\"\u003e@Test\u003c/span\u003e\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003etestHelloEndpoint\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    checking.path(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/hello\u0026quot;\u003c/span\u003e).request().get();\n    Assert.assertThat(checking.getLastReport(), RamlMatchers.hasNoViolations());\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eOnce you run your tests, you will see:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-css\"\u003e13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.200\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eo\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.a\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.h\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.i\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.conn\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.DefaultClientConnection\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eSending\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003erequest\u003c/span\u003e: \u003cspan class=\"hljs-selector-tag\"\u003eGET\u003c/span\u003e /\u003cspan class=\"hljs-selector-tag\"\u003ehello\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eHTTP\u003c/span\u003e/1\u003cspan class=\"hljs-selector-class\"\u003e.1\u003c/span\u003e\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.201\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.wire\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e  \u0026gt;\u0026gt; \u0026quot;\u003cspan class=\"hljs-selector-tag\"\u003eGET\u003c/span\u003e /\u003cspan class=\"hljs-selector-tag\"\u003ehello\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eHTTP\u003c/span\u003e/1\u003cspan class=\"hljs-selector-class\"\u003e.1\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[\\r]\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[\\n]\u003c/span\u003e\u0026quot;\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.202\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.wire\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e  \u0026gt;\u0026gt; \u0026quot;\u003cspan class=\"hljs-selector-tag\"\u003eAccept-Encoding\u003c/span\u003e: \u003cspan class=\"hljs-selector-tag\"\u003egzip\u003c/span\u003e, \u003cspan class=\"hljs-selector-tag\"\u003edeflate\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[\\r]\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[\\n]\u003c/span\u003e\u0026quot;\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.202\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.wire\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e  \u0026gt;\u0026gt; \u0026quot;\u003cspan class=\"hljs-selector-tag\"\u003eHost\u003c/span\u003e: \u003cspan class=\"hljs-selector-tag\"\u003elocalhost\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:8080\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[\\r]\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[\\n]\u003c/span\u003e\u0026quot;\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.202\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.wire\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e  \u0026gt;\u0026gt; \u0026quot;\u003cspan class=\"hljs-selector-tag\"\u003eConnection\u003c/span\u003e: \u003cspan class=\"hljs-selector-tag\"\u003eKeep-Alive\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[\\r]\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[\\n]\u003c/span\u003e\u0026quot;\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.202\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.wire\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e  \u0026gt;\u0026gt; \u0026quot;\u003cspan class=\"hljs-selector-attr\"\u003e[\\r]\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[\\n]\u003c/span\u003e\u0026quot;\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.202\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.headers\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e \u0026gt;\u0026gt; \u003cspan class=\"hljs-selector-tag\"\u003eGET\u003c/span\u003e /\u003cspan class=\"hljs-selector-tag\"\u003ehello\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eHTTP\u003c/span\u003e/1\u003cspan class=\"hljs-selector-class\"\u003e.1\u003c/span\u003e\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.202\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.headers\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e \u0026gt;\u0026gt; \u003cspan class=\"hljs-selector-tag\"\u003eAccept-Encoding\u003c/span\u003e: \u003cspan class=\"hljs-selector-tag\"\u003egzip\u003c/span\u003e, \u003cspan class=\"hljs-selector-tag\"\u003edeflate\u003c/span\u003e\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.203\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.headers\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e \u0026gt;\u0026gt; \u003cspan class=\"hljs-selector-tag\"\u003eHost\u003c/span\u003e: \u003cspan class=\"hljs-selector-tag\"\u003elocalhost\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:8080\u003c/span\u003e\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.203\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.headers\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e \u0026gt;\u0026gt; \u003cspan class=\"hljs-selector-tag\"\u003eConnection\u003c/span\u003e: \u003cspan class=\"hljs-selector-tag\"\u003eKeep-Alive\u003c/span\u003e\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.412\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.wire\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e  \u0026lt;\u0026lt; \u0026quot;\u003cspan class=\"hljs-selector-tag\"\u003eHTTP\u003c/span\u003e/1\u003cspan class=\"hljs-selector-class\"\u003e.1\u003c/span\u003e 200 \u003cspan class=\"hljs-selector-tag\"\u003eOK\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[\\r]\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[\\n]\u003c/span\u003e\u0026quot;\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.413\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.wire\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e  \u0026lt;\u0026lt; \u0026quot;\u003cspan class=\"hljs-selector-tag\"\u003econtent-type\u003c/span\u003e: \u003cspan class=\"hljs-selector-tag\"\u003eapplication\u003c/span\u003e/\u003cspan class=\"hljs-selector-tag\"\u003ejson\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[\\r]\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[\\n]\u003c/span\u003e\u0026quot;\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.413\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.wire\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e  \u0026lt;\u0026lt; \u0026quot;\u003cspan class=\"hljs-selector-tag\"\u003eContent-Length\u003c/span\u003e: 2\u003cspan class=\"hljs-selector-attr\"\u003e[\\r]\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[\\n]\u003c/span\u003e\u0026quot;\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.413\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.wire\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e  \u0026lt;\u0026lt; \u0026quot;\u003cspan class=\"hljs-selector-attr\"\u003e[\\r]\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[\\n]\u003c/span\u003e\u0026quot;\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.414\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eo\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.a\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.h\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.i\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.conn\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.DefaultClientConnection\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eReceiving\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eresponse\u003c/span\u003e: \u003cspan class=\"hljs-selector-tag\"\u003eHTTP\u003c/span\u003e/1\u003cspan class=\"hljs-selector-class\"\u003e.1\u003c/span\u003e 200 \u003cspan class=\"hljs-selector-tag\"\u003eOK\u003c/span\u003e\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.414\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.headers\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e \u0026lt;\u0026lt; \u003cspan class=\"hljs-selector-tag\"\u003eHTTP\u003c/span\u003e/1\u003cspan class=\"hljs-selector-class\"\u003e.1\u003c/span\u003e 200 \u003cspan class=\"hljs-selector-tag\"\u003eOK\u003c/span\u003e\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.415\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.headers\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e \u0026lt;\u0026lt; \u003cspan class=\"hljs-selector-tag\"\u003econtent-type\u003c/span\u003e: \u003cspan class=\"hljs-selector-tag\"\u003eapplication\u003c/span\u003e/\u003cspan class=\"hljs-selector-tag\"\u003ejson\u003c/span\u003e\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.415\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.headers\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e \u0026lt;\u0026lt; \u003cspan class=\"hljs-selector-tag\"\u003eContent-Length\u003c/span\u003e: 2\n13\u003cspan class=\"hljs-selector-pseudo\"\u003e:09\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:28.429\u003c/span\u003e \u003cspan class=\"hljs-selector-attr\"\u003e[main]\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eDEBUG\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eorg\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.http\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.wire\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003e-\u003c/span\u003e  \u0026lt;\u0026lt; \u0026quot;{}\u0026quot;\n\u003cspan class=\"hljs-selector-tag\"\u003eTests\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003erun\u003c/span\u003e: 1, \u003cspan class=\"hljs-selector-tag\"\u003eFailures\u003c/span\u003e: 0, \u003cspan class=\"hljs-selector-tag\"\u003eErrors\u003c/span\u003e: 0, \u003cspan class=\"hljs-selector-tag\"\u003eSkipped\u003c/span\u003e: 0, \u003cspan class=\"hljs-selector-tag\"\u003eTime\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003eelapsed\u003c/span\u003e: 1\u003cspan class=\"hljs-selector-class\"\u003e.076\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003esec\u003c/span\u003e\n\n\u003cspan class=\"hljs-selector-tag\"\u003eResults\u003c/span\u003e :\n\n\u003cspan class=\"hljs-selector-tag\"\u003eTests\u003c/span\u003e \u003cspan class=\"hljs-selector-tag\"\u003erun\u003c/span\u003e: 1, \u003cspan class=\"hljs-selector-tag\"\u003eFailures\u003c/span\u003e: 0, \u003cspan class=\"hljs-selector-tag\"\u003eErrors\u003c/span\u003e: 0, \u003cspan class=\"hljs-selector-tag\"\u003eSkipped\u003c/span\u003e: 0\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAnd we are done, we now have a API that fol¬≠low the con¬≠tract, you can now keep de¬≠vel¬≠op¬≠ing your API and im¬≠ple¬≠men¬≠ta¬≠tion and have a test dri¬≠ven ap¬≠proach to be sure that the con¬≠tract is not bro¬≠ken.\u003c/p\u003e\u003ch2 id=\"next-steps\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#next-steps\"\u003e\u003c/a\u003eNext steps\u003c/h2\u003e\u003cp\u003eUntil now you have learn how to in¬≠te¬≠grate RAML into Vert.x and CI, how¬≠ever the users of your API will not be able to know much about the API yet since its doc¬≠u¬≠men¬≠ta¬≠tion is not pub¬≠licly avail¬≠able. So lets pub¬≠lish on¬≠line the doc¬≠u¬≠men¬≠ta¬≠tion of your API, of course if your API is pri¬≠vate you do not need to fol¬≠low these steps.\u003c/p\u003e\u003cp\u003eIn order to do this all we need it to in¬≠clude in our ap¬≠pli¬≠ca¬≠tion the \u003ca href=\"https://github.com/mulesoft/api-console\"\u003eRAML con¬≠sole\u003c/a\u003e, the fastest way to do this is just down¬≠load a \u003ca href=\"https://github.com/mulesoft/api-console/releases\"\u003ere¬≠lease\u003c/a\u003e to \u003ccode\u003esrc/main/resouces/webroot\u003c/code\u003e and in the orig¬≠i¬≠nal ap¬≠pli¬≠ca¬≠tion Vert.x Router we add a Sta¬≠tic Con¬≠tent Han¬≠dler to serve the con¬≠sole files. Your ap¬≠pli¬≠ca¬≠tion source code should look like this:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eAbstractVerticle\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-meta\"\u003e@Override\u003c/span\u003e\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003estart\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    Router router = Router.router(vertx);\n\n    router.get(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/hello\u0026quot;\u003c/span\u003e).handler(rc -\u0026gt; {\n      rc.response()\n          .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;application/json\u0026quot;\u003c/span\u003e)\n          .end(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;greeting\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Hello World!\u0026quot;\u003c/span\u003e).encode());\n    });\n\n    \u003cspan class=\"hljs-comment\"\u003e// optionally enable the web console so users can play with your API\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// online from their web browsers\u003c/span\u003e\n    router.route().handler(StaticHandler.create());\n\n    vertx.createHttpServer().requestHandler(router::accept).listen(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e);\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eOnce you start you ap¬≠pli¬≠ca¬≠tion open a browser point¬≠ing at the \u003ca href=\"http://localhost:8080?raml=/api/hello.raml\"\u003econ¬≠sole\u003c/a\u003e. Once you do that you should be pre¬≠sented with some¬≠thing sim¬≠i¬≠lar to this:\u003c/p\u003e\u003cp\u003e\u003cimg src=\"/images/blog/vertx3-contract-driven-rest-services/raml-console.png\" alt=\"apiconsole\"/\u003e\u003c/p\u003e\u003ch2 id=\"article-source-code\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#article-source-code\"\u003e\u003c/a\u003eArticle source code\u003c/h2\u003e\u003cp\u003eYou can get the full source code for this ar¬≠ti¬≠cle \u003ca href=\"https://github.com/pmlopes/vert-x3-experiments/tree/experiments/raml\"\u003ehere\u003c/a\u003e.\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"api","tf":21},{"term":"test","tf":18},{"term":"document","tf":16},{"term":"code","tf":11},{"term":"raml","tf":10},{"term":"us","tf":9},{"term":"contract","tf":9},{"term":"implement","tf":8},{"term":"develop","tf":7},{"term":"rest","tf":7},{"term":"not","tf":7},{"term":"tool","tf":7},{"term":"need","tf":7},{"term":"applic","tf":6},{"term":"just","tf":6},{"term":"start","tf":6},{"term":"howev","tf":6},{"term":"simpl","tf":5},{"term":"will","tf":5},{"term":"ll","tf":5},{"term":"web","tf":4},{"term":"let","tf":4},{"term":"client","tf":4},{"term":"step","tf":4},{"term":"load","tf":4}]}],"numPages":9},"__N_SSG":true},"page":"/blog/[[...slug]]","query":{"slug":["category","guides","page","7"]},"buildId":"C_I4gGOFTI-4fY_eV8SrD","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-5a9a91c546a2d4fb4cc4.js"></script><script src="/_next/static/chunks/main-79fb140702e98d221643.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/framework.4df82c4704a0136f6a4b.js" async=""></script><script src="/_next/static/chunks/commons.7726cd762eacbba73350.js" async=""></script><script src="/_next/static/chunks/styles.8577696c4e17514af975.js" async=""></script><script src="/_next/static/chunks/pages/_app-8beb549608891d89d2f4.js" async=""></script><script src="/_next/static/chunks/4f16b6dee4e09daf8bf4ac98169064eb9dcaeaf1.72e9236f86e8a2b5e7a0.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-3cd5466df6cee536d361.js" async=""></script><script src="/_next/static/C_I4gGOFTI-4fY_eV8SrD/_buildManifest.js" async=""></script><script src="/_next/static/C_I4gGOFTI-4fY_eV8SrD/_ssgManifest.js" async=""></script></body></html>