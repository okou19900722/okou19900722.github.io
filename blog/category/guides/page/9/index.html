<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><title>Page 9 | Guides | Blog | Eclipse Vert.x</title><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/styles.176b8cb6.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.176b8cb6.chunk.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-79fb140702e98d221643.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.4df82c4704a0136f6a4b.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.7726cd762eacbba73350.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.8577696c4e17514af975.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-8beb549608891d89d2f4.js" as="script"/><link rel="preload" href="/_next/static/chunks/4f16b6dee4e09daf8bf4ac98169064eb9dcaeaf1.72e9236f86e8a2b5e7a0.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-3cd5466df6cee536d361.js" as="script"/></head><body><div id="__next"><main class="page"><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><a class="navbar-menu-item" href="/introduction-to-vertx-and-reactive/">Intro</a><a class="navbar-menu-item" href="/docs/">Docs</a><a class="navbar-menu-item" href="/faq/">FAQ</a><a class="navbar-menu-item" href="/blog/">Blog</a><a class="navbar-menu-item" href="/community/">Community</a></div><div class="navbar-social"><div class="dropdown"><a class="dropdown-title">v4.0.0<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"><a href="/docs/"><li class="dropdown-item active"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dropdown-check-icon"><polyline points="20 6 9 17 4 12"></polyline></svg>Latest (v<!-- -->4.0.0<!-- -->)</li></a><a href="/docs/3.9.2"><li class="dropdown-item">v<!-- -->3.9.2</li></a><a href="/docs/3.9.1"><li class="dropdown-item">v<!-- -->3.9.1</li></a><a href="/docs/3.9.0"><li class="dropdown-item">v<!-- -->3.9.0</li></a></ul></div><a href="https://github.com/vert-x3/vertx-awesome" class="navbar-social-link" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M23.996 10.648l-6.153-5.644-.865.944 5.127 4.7H1.895l5.127-4.705L6.157 5 .004 10.648H0v3.72c0 1.682 1.62 3.052 3.61 3.052h3.794c1.99 0 3.61-1.37 3.61-3.051v-2.445h1.968v2.445c0 1.681 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.72z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" class="navbar-social-link" title="Stack Overflow" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>Stack Overflow</title><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" class="navbar-social-link" title="YouTube" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>YouTube</title><path d="M23.495 6.205a3.007 3.007 0 0 0-2.088-2.088c-1.87-.501-9.396-.501-9.396-.501s-7.507-.01-9.396.501A3.007 3.007 0 0 0 .527 6.205a31.247 31.247 0 0 0-.522 5.805 31.247 31.247 0 0 0 .522 5.783 3.007 3.007 0 0 0 2.088 2.088c1.868.502 9.396.502 9.396.502s7.506 0 9.396-.502a3.007 3.007 0 0 0 2.088-2.088 31.247 31.247 0 0 0 .5-5.783 31.247 31.247 0 0 0-.5-5.805zM9.609 15.601V8.408l6.264 3.602z"></path></svg></a><a href="https://gitter.im/eclipse-vertx/vertx-users" class="navbar-social-link" title="Gitter" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Gitter"><title>Gitter</title><path d="M8.501 4.001H10.5V24H8.501V4.001zm6.999 0V24h-2V4.001h2zM3.5 0h2.001v15H3.5V0zm15 4.001h2V15h-2V4.001z"></path></svg></a></div></div></div></div></header><div class="page-content"><div class="container"><div class="blog"><div class="blog-navbar"><h2>Blog</h2><ul><li><a href="/blog/">All posts</a></li><li><a href="/blog/category/releases/">releases</a></li><li><a href="/blog/category/guides/">guides</a></li><li><a href="/blog/category/news/">news</a></li></ul></div><div class="blog-entries"><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">13 July 2015</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/vert-x3-says-hello-to-npm-users/">Vert.x 3 says “hello” to NPM users</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/pmlopes.png?size=50"/><a href="https://github.com/pmlopes" target="_blank" rel="noopener noreferrer">Paulo Lopes</a></li></ul></span><p class="blog-entry-summary">In programming literature it has become the standard to create a hello world program as the first example. In this article, I&#x27;ll demonstrate how NPM users can quickly get started with Vert.x.</p><span class="read-more-link"><a href="/blog/vert-x3-says-hello-to-npm-users/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">6 July 2015</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/checklist-for-migrating-from-vert-x-2-1-x-to-vert-x-3-part-one/">Checklist for Migrating from Vert.x 2.1.x to Vert.x 3 - Part One</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/bytor99999.png?size=50"/><a href="https://github.com/bytor99999" target="_blank" rel="noopener noreferrer">Mark Spritzler</a></li></ul></span><p class="blog-entry-summary">So while upgrading our application, I thought I should note down all the changes that we had to do in the process. Since Vert.x 3 is a major upgrade from the previous version, with so many changes.</p><span class="read-more-link"><a href="/blog/checklist-for-migrating-from-vert-x-2-1-x-to-vert-x-3-part-one/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">3 July 2015</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/vert-x3-and-postgresql-json-type/">Vert.x 3 and PostgreSQL JSON type</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/pmlopes.png?size=50"/><a href="https://github.com/pmlopes" target="_blank" rel="noopener noreferrer">Paulo Lopes</a></li></ul></span><p class="blog-entry-summary">One of the interesting features of NoSQL databases is their schema-less mode of operation. This feature is very useful during project prototyping and early development since at early the stages of development of projects all data structures are not clear or have been defined yet.</p><span class="read-more-link"><a href="/blog/vert-x3-and-postgresql-json-type/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">2 July 2015</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/vert-x-3-init-d-script/">Vert.x 3 init.d Script</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/cescoffier.png?size=50"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="blog-entry-summary">Let&#x27;s say you have a Vert.x 3 application you want to install on a Linux server. But you want the old school way (I mean not the Docker way).</p><span class="read-more-link"><a href="/blog/vert-x-3-init-d-script/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">1 July 2015</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/vert-x3-web-easy-as-pi/">Vert.x 3 Web easy as Pi</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/pmlopes.png?size=50"/><a href="https://github.com/pmlopes" target="_blank" rel="noopener noreferrer">Paulo Lopes</a></li></ul></span><p class="blog-entry-summary">Vert.x Web distinguishes itself from traditional application servers like JavaEE by just being a simple extension toolkit to Vert.x, which makes it quite lightweight and small but nevertheless very powerful.</p><span class="read-more-link"><a href="/blog/vert-x3-web-easy-as-pi/">Read more</a></span></div></div><div class="pagination"><div class="pagination-page"><a href="/blog/category/guides/page/8/">«</a></div><div class="pagination-page"><a href="/blog/category/guides/">1</a></div><div class="pagination-page disabled">…</div><div class="pagination-page"><a href="/blog/category/guides/page/5/">5</a></div><div class="pagination-page"><a href="/blog/category/guides/page/6/">6</a></div><div class="pagination-page"><a href="/blog/category/guides/page/7/">7</a></div><div class="pagination-page"><a href="/blog/category/guides/page/8/">8</a></div><div class="pagination-page active"><a href="/blog/category/guides/page/9/">9</a></div><div class="pagination-page disabled">»</div></div></div></div></div><footer><div class="container"><div class="footer-nav-section"><div class="footer-nav-list footer-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="footer-nav-list"><h5>Eclipse Vert.x</h5><ul class=""><li><a class="navbar-menu-item" href="/docs/">Docs</a></li><li><a href="/faq/">FAQ</a></li><li><a href="/blog/">Blog</a></li><li><a href="/community/">Community</a></li></ul></div><div class="footer-nav-list"><h5>Eclipse</h5><ul class=""><li><a href="https://www.eclipse.org/">Eclipse Foundation</a></li><li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li><li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li><li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li><li><a href="https://www.eclipse.org/legal/">Legal Resources</a></li></ul></div></div><div class="footer-copyright"><div class="footer-copyright-remarks">© <!-- -->2020<!-- --> Eclipse Vert.x<br/>Eclipse Vert.x is open source and dual-licensed under the <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer">Eclipse Public License 2.0</a> and the <a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer">Apache License 2.0</a>. <br class="footer-copyright-break"/>Website design by <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer">Michel Krämer</a>.</div><div class="footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0TDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"categories":["releases","guides","news"],"category":"guides","page":9,"posts":[{"filename":"blog/2015-07-13-vert-x3-says-hello-to-npm-users.mdx","date":"2015-07-13","slug":"vert-x3-says-hello-to-npm-users","meta":{"title":"Vert.x 3 says “hello” to NPM users","category":"guides","authors":[{"name":"Paulo Lopes","github_id":"pmlopes"}],"summary":"In programming literature it has become the standard to create a hello world program as the first example. In this article, I'll demonstrate how NPM users can quickly get started with Vert.x."},"readingTime":{"text":"4 min read","minutes":3.375,"time":202500,"words":675},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In pro\\xADgram\\xADming lit\\xADer\\xADa\\xADture it has be\\xADcome the stan\\xADdard to cre\\xADate a hello world pro\\xADgram as the first ex\\xADam\\xADple. In this\\nar\\xADti\\xADcle, I\\u2019ll be demon\\xADstrat\\xADing how \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"NPM\"), \" users can quickly get started with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vert.x\"), \". You will see that it is not\\nthat dif\\xADfer\\xADent and in fact it can be done using the tools you\\u2019re used to. Note that al\\xADthough we are using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"NPM\"), \" we are\\nnot re\\xADly\\xADing on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node.js\"), \", all \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"javascript\"), \" code runs on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JVM\"), \".\"), mdx(\"h2\", {\n    \"id\": \"hello-world-examples\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#hello-world-examples\"\n  })), \"Hello World Examples\"), mdx(\"p\", null, \"Here are four sim\\xADple hello world ex\\xADam\\xADples. The com\\xADments in the code ex\\xADplain how the code works and the text around it\\nex\\xADplain what it does and how to test it.\"), mdx(\"h2\", {\n    \"id\": \"hello-console\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#hello-console\"\n  })), \"Hello Console\"), mdx(\"p\", null, \"This ex\\xADam\\xADple is about as plain as it can get. It prints the words \\u201D\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Hello World\"), \"\\u201D to the ter\\xADmi\\xADnal. If you\\u2019re a\\njavascript de\\xADvel\\xADoper you should be al\\xADready used to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm\"), \" and know that you al\\xADways start a project with the file\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-javascript\"\n  }), \"{\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"name\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"vertx3-hello-console\\\"\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"private\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-literal\"\n  }), \"true\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"dependencies\\\"\"), \": {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"vertx3-min\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"3.0.0-1\\\"\"), \"\\n  },\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"scripts\\\"\"), \": {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"start\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"./node_modules/.bin/vertx run server.js\\\"\"), \"\\n  }\\n}\\n\")), mdx(\"p\", null, \"Note that we have a de\\xADpen\\xADdency wich is ob\\xADvi\\xADous \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vert.x\"), \" now note that there are 3 flavours of this de\\xADpen\\xADdency:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.npmjs.com/package/vertx3-min\"\n  }), \"min\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.npmjs.com/package/vertx3-base\"\n  }), \"base\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.npmjs.com/package/vertx3-full\"\n  }), \"full\"))), mdx(\"p\", null, \"Ac\\xADcord\\xADing to your needs you can pick a dif\\xADfer\\xADent flavour, since for a sim\\xADple hello world we only need the min\\xADi\\xADmal that\\nis the one we add to the de\\xADpen\\xADdency prop\\xADerty.\"), mdx(\"p\", null, \"Now we need to do a sim\\xADple hello app, we will call this file \\u201D\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"server.js\"), \"\\u201C:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-javascript\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Call the console.log function.\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"console\"), \".log(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Hello World\\\"\"), \");\\n\")), mdx(\"p\", null, \"You can run this by ex\\xADe\\xADcut\\xADing:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"npm install\\nnpm start\\n\")), mdx(\"p\", null, \"The first com\\xADmand re\\xADtrieve the vert.x stack while the sec\\xADonds starts your pro\\xADgram.\"), mdx(\"h2\", {\n    \"id\": \"hello-http\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#hello-http\"\n  })), \"Hello HTTP\"), mdx(\"p\", null, \"I\\u2019d guess that while it\\u2019s not the only use case for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vert.x\"), \", most peo\\xADple are using it as a web ap\\xADpli\\xADca\\xADtion plat\\xADform. So\\nthe next ex\\xADam\\xADple will be a sim\\xADple HTTP server that re\\xADsponds to every re\\xADquest with the plain text mes\\xADsage \\u201D\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Hello World\"), \"\\u201D\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"server.js\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-javascript\"\n  }), \"vertx.createHttpServer()\\n  .requestHandler(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"function\"), \" (\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"req\"), \") \"), \"{\\n    req.response()\\n      .putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"text/plain\\\"\"), \")\\n      .end(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Hello World!\\\"\"), \");\\n}).listen(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \");\\n\")), mdx(\"p\", null, \"Now you can reuse the same \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" we\\u2019ve just de\\xADfined in the pre\\xADvi\\xADous sec\\xADtion and start the server with\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm start\"), \". Once the server starts you can open a browser to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://localhost:8080\"), \" and enjoy the mes\\xADsage.\"), mdx(\"h2\", {\n    \"id\": \"hello-tcp\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#hello-tcp\"\n  })), \"Hello TCP\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Vert.x\"), \" also makes an ex\\xADcel\\xADlent TCP server, and here is an ex\\xADam\\xADple that re\\xADsponds to all TCP con\\xADnec\\xADtions with the\\nmes\\xADsage \\u201CHello World\\u201D and then closes the con\\xADnec\\xADtion \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"server.js\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-javascript\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"var\"), \" server = vertx.createNetServer();\\nserver.connectHandler(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"function\"), \" (\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"socket\"), \") \"), \"{\\n  socket.write(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Hello World!\\\\n\\\"\"), \");\\n  socket.close();\\n});\\n\\nserver.listen(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"7000\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"localhost\\\"\"), \");\\n\")), mdx(\"p\", null, \"Again reuse the pre\\xADvi\\xADous \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" and test it by doing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"telnet localhost 7000\"), \".\"), mdx(\"h2\", {\n    \"id\": \"hello-web\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#hello-web\"\n  })), \"Hello Web\"), mdx(\"p\", null, \"Often you won\\u2019t be using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vert.x\"), \" built-\\u200Bin li\\xADbraries be\\xADcause they are de\\xADsigned to be very low level. This makes \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vert.x\"), \"\\nquick, nim\\xADble, and easy to main\\xADtain, but if you are plan\\xADning to build a com\\xADplex ap\\xADpli\\xADca\\xADtion you want some pro\\xADduc\\xADtiv\\xADity\\nand rely on a sim\\xADple web frame\\xADwork. For this spe\\xADcific case there is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vert.x web\"), \",\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vertx.io/docs/#web\"\n  }), \"a sim\\xADple, yet pro\\xADduc\\xADtive frame\\xADwork\"), \", to build fast web ap\\xADpli\\xADca\\xADtion with rout\\xADing, tem\\xADplate\\nren\\xADder\\xADing, lots of mid\\xADdle\\xADware etc\\u2026usu\\xADally not enough to get started on a real world ap\\xADpli\\xADca\\xADtion. This ex\\xADam\\xADple shows an\\nHTTP server that re\\xADsponds with \\u201CHello World\\u201D to all re\\xADquests to \\u201D/\\u201D and re\\xADsponds with a 404 error to every\\xADthing else\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"server.js\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-javascript\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"var\"), \" Router = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"require\"), \"(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"vertx-web-js/router\\\"\"), \");\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"var\"), \" server = vertx.createHttpServer();\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"var\"), \" router = Router.router(vertx);\\n\\nrouter.get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/\\\"\"), \").handler(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"function\"), \" (\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"ctx\"), \") \"), \"{\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// This handler will be called for \\\"/\\\" requests\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"var\"), \" response = ctx.response();\\n  response.putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"text/plain\\\"\"), \");\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Write to the response and end it\"), \"\\n  response.end(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Hello World!\\\"\"), \");\\n});\\n\\nserver.requestHandler(router.accept).listen(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \");\\n\")), mdx(\"p\", null, \"In order to test this, you will need to in\\xADstall the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx3-full\"), \" stack. There are two ways to do this. You can ei\\xADther\\nin\\xADstall it glob\\xADally \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm install -g vertx3-full\"), \" or add it as a de\\xADpen\\xADdency to our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" as we have done be\\xADfore,\\nfor ex\\xADam\\xADple \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-javascript\"\n  }), \"{\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"name\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"vertx3-hello-web\\\"\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"private\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-literal\"\n  }), \"true\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"dependencies\\\"\"), \": {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"vertx3-full\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"3.0.0-1\\\"\"), \"\\n  },\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"scripts\\\"\"), \": {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"start\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"./node_modules/.bin/vertx run server.js\\\"\"), \"\\n  }\\n}\\n\")), mdx(\"p\", null, \"That\\u2019s it for now. Hope\\xADfully this will help you get started work\\xADing with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vert.x\"), \"!\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eIn pro­gram­ming lit­er­a­ture it has be­come the stan­dard to cre­ate a hello world pro­gram as the first ex­am­ple. In this\nar­ti­cle, I’ll be demon­strat­ing how \u003ccode\u003eNPM\u003c/code\u003e users can quickly get started with \u003ccode\u003evert.x\u003c/code\u003e. You will see that it is not\nthat dif­fer­ent and in fact it can be done using the tools you’re used to. Note that al­though we are using \u003ccode\u003eNPM\u003c/code\u003e we are\nnot re­ly­ing on \u003ccode\u003enode.js\u003c/code\u003e, all \u003ccode\u003ejavascript\u003c/code\u003e code runs on the \u003ccode\u003eJVM\u003c/code\u003e.\u003c/p\u003e\u003ch2 id=\"hello-world-examples\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#hello-world-examples\"\u003e\u003c/a\u003eHello World Examples\u003c/h2\u003e\u003cp\u003eHere are four sim­ple hello world ex­am­ples. The com­ments in the code ex­plain how the code works and the text around it\nex­plain what it does and how to test it.\u003c/p\u003e\u003ch2 id=\"hello-console\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#hello-console\"\u003e\u003c/a\u003eHello Console\u003c/h2\u003e\u003cp\u003eThis ex­am­ple is about as plain as it can get. It prints the words ”\u003ccode\u003eHello World\u003c/code\u003e” to the ter­mi­nal. If you’re a\njavascript de­vel­oper you should be al­ready used to \u003ccode\u003enpm\u003c/code\u003e and know that you al­ways start a project with the file\n\u003ccode\u003epackage.json\u003c/code\u003e:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e{\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;vertx3-hello-console\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;private\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;dependencies\u0026quot;\u003c/span\u003e: {\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;vertx3-min\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;3.0.0-1\u0026quot;\u003c/span\u003e\n  },\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;scripts\u0026quot;\u003c/span\u003e: {\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;start\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;./node_modules/.bin/vertx run server.js\u0026quot;\u003c/span\u003e\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNote that we have a de­pen­dency wich is ob­vi­ous \u003ccode\u003evert.x\u003c/code\u003e now note that there are 3 flavours of this de­pen­dency:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://www.npmjs.com/package/vertx3-min\"\u003emin\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://www.npmjs.com/package/vertx3-base\"\u003ebase\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://www.npmjs.com/package/vertx3-full\"\u003efull\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eAc­cord­ing to your needs you can pick a dif­fer­ent flavour, since for a sim­ple hello world we only need the min­i­mal that\nis the one we add to the de­pen­dency prop­erty.\u003c/p\u003e\u003cp\u003eNow we need to do a sim­ple hello app, we will call this file ”\u003ccode\u003eserver.js\u003c/code\u003e“:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// Call the console.log function.\u003c/span\u003e\n\u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Hello World\u0026quot;\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eYou can run this by ex­e­cut­ing:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003enpm install\nnpm start\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe first com­mand re­trieve the vert.x stack while the sec­onds starts your pro­gram.\u003c/p\u003e\u003ch2 id=\"hello-http\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#hello-http\"\u003e\u003c/a\u003eHello HTTP\u003c/h2\u003e\u003cp\u003eI’d guess that while it’s not the only use case for \u003ccode\u003evert.x\u003c/code\u003e, most peo­ple are using it as a web ap­pli­ca­tion plat­form. So\nthe next ex­am­ple will be a sim­ple HTTP server that re­sponds to every re­quest with the plain text mes­sage ”\u003ccode\u003eHello World\u003c/code\u003e”\n\u003ccode\u003eserver.js\u003c/code\u003e:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003evertx.createHttpServer()\n  .requestHandler(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ereq\u003c/span\u003e) \u003c/span\u003e{\n    req.response()\n      .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;text/plain\u0026quot;\u003c/span\u003e)\n      .end(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Hello World!\u0026quot;\u003c/span\u003e);\n}).listen(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow you can reuse the same \u003ccode\u003epackage.json\u003c/code\u003e we’ve just de­fined in the pre­vi­ous sec­tion and start the server with\n\u003ccode\u003enpm start\u003c/code\u003e. Once the server starts you can open a browser to \u003ccode\u003ehttp://localhost:8080\u003c/code\u003e and enjoy the mes­sage.\u003c/p\u003e\u003ch2 id=\"hello-tcp\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#hello-tcp\"\u003e\u003c/a\u003eHello TCP\u003c/h2\u003e\u003cp\u003e\u003ccode\u003eVert.x\u003c/code\u003e also makes an ex­cel­lent TCP server, and here is an ex­am­ple that re­sponds to all TCP con­nec­tions with the\nmes­sage “Hello World” and then closes the con­nec­tion \u003ccode\u003eserver.js\u003c/code\u003e:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e server = vertx.createNetServer();\nserver.connectHandler(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003esocket\u003c/span\u003e) \u003c/span\u003e{\n  socket.write(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Hello World!\\n\u0026quot;\u003c/span\u003e);\n  socket.close();\n});\n\nserver.listen(\u003cspan class=\"hljs-number\"\u003e7000\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;localhost\u0026quot;\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAgain reuse the pre­vi­ous \u003ccode\u003epackage.json\u003c/code\u003e and test it by doing \u003ccode\u003etelnet localhost 7000\u003c/code\u003e.\u003c/p\u003e\u003ch2 id=\"hello-web\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#hello-web\"\u003e\u003c/a\u003eHello Web\u003c/h2\u003e\u003cp\u003eOften you won’t be using \u003ccode\u003evert.x\u003c/code\u003e built-​in li­braries be­cause they are de­signed to be very low level. This makes \u003ccode\u003evert.x\u003c/code\u003e\nquick, nim­ble, and easy to main­tain, but if you are plan­ning to build a com­plex ap­pli­ca­tion you want some pro­duc­tiv­ity\nand rely on a sim­ple web frame­work. For this spe­cific case there is \u003ccode\u003evert.x web\u003c/code\u003e,\n\u003ca href=\"http://vertx.io/docs/#web\"\u003ea sim­ple, yet pro­duc­tive frame­work\u003c/a\u003e, to build fast web ap­pli­ca­tion with rout­ing, tem­plate\nren­der­ing, lots of mid­dle­ware etc…usu­ally not enough to get started on a real world ap­pli­ca­tion. This ex­am­ple shows an\nHTTP server that re­sponds with “Hello World” to all re­quests to ”/” and re­sponds with a 404 error to every­thing else\n\u003ccode\u003eserver.js\u003c/code\u003e:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e Router = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;vertx-web-js/router\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e server = vertx.createHttpServer();\n\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e router = Router.router(vertx);\n\nrouter.get(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/\u0026quot;\u003c/span\u003e).handler(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ectx\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-comment\"\u003e// This handler will be called for \u0026quot;/\u0026quot; requests\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e response = ctx.response();\n  response.putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;text/plain\u0026quot;\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-comment\"\u003e// Write to the response and end it\u003c/span\u003e\n  response.end(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Hello World!\u0026quot;\u003c/span\u003e);\n});\n\nserver.requestHandler(router.accept).listen(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIn order to test this, you will need to in­stall the \u003ccode\u003evertx3-full\u003c/code\u003e stack. There are two ways to do this. You can ei­ther\nin­stall it glob­ally \u003ccode\u003enpm install -g vertx3-full\u003c/code\u003e or add it as a de­pen­dency to our \u003ccode\u003epackage.json\u003c/code\u003e as we have done be­fore,\nfor ex­am­ple \u003ccode\u003epackage.json\u003c/code\u003e:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e{\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;vertx3-hello-web\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;private\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;dependencies\u0026quot;\u003c/span\u003e: {\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;vertx3-full\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;3.0.0-1\u0026quot;\u003c/span\u003e\n  },\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;scripts\u0026quot;\u003c/span\u003e: {\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;start\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;./node_modules/.bin/vertx run server.js\u0026quot;\u003c/span\u003e\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThat’s it for now. Hope­fully this will help you get started work­ing with \u003ccode\u003evert.x\u003c/code\u003e!\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"hello","tf":11},{"term":"exampl","tf":8},{"term":"world","tf":7},{"term":"start","tf":7},{"term":"us","tf":7},{"term":"simpl","tf":6},{"term":"will","tf":5},{"term":"server","tf":5},{"term":"not","tf":4},{"term":"depend","tf":4},{"term":"need","tf":4},{"term":"web","tf":4},{"term":"applic","tf":4},{"term":"respond","tf":4},{"term":"program","tf":3},{"term":"note","tf":3},{"term":"code","tf":3},{"term":"test","tf":3},{"term":"http","tf":3},{"term":"messag","tf":3},{"term":"tcp","tf":3},{"term":"first","tf":2},{"term":"differ","tf":2},{"term":"done","tf":2},{"term":"re","tf":2}]},{"filename":"blog/2015-07-06-checklist-for-migrating-from-vert-x-2-1-x-to-vert-x-3-part-one.mdx","date":"2015-07-06","slug":"checklist-for-migrating-from-vert-x-2-1-x-to-vert-x-3-part-one","meta":{"title":"Checklist for Migrating from Vert.x 2.1.x to Vert.x 3 - Part One","category":"guides","authors":[{"name":"Mark Spritzler","github_id":"bytor99999"}],"summary":"So while upgrading our application, I thought I should note down all the changes that we had to do in the process. Since Vert.x 3 is a major upgrade from the previous version, with so many changes."},"readingTime":{"text":"9 min read","minutes":8.74,"time":524400,"words":1748},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"This blog post presents feed\\xADbacks from a project mi\\xADgra\\xADtion using Vert.x 2 to Vert.x 3.\"), mdx(\"h2\", {\n    \"id\": \"we-are-in-the-process-of-converting-our-vertx-215-application-to-vertx-30\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#we-are-in-the-process-of-converting-our-vertx-215-application-to-vertx-30\"\n  })), \"We are in the process of converting our Vert.x 2.1.5 application to Vert.x 3.0.\"), mdx(\"p\", null, \"So while up\\xADgrad\\xADing our ap\\xADpli\\xADca\\xADtion, I thought I should note down all the changes that we had to do in the process. Since Vert.x 3 is a major up\\xADgrade from the pre\\xADvi\\xADous ver\\xADsion, with so many changes.\"), mdx(\"p\", null, \"It re\\xADquires re-\\u200Bthinking your cur\\xADrent 2.x Vert.x ap\\xADpli\\xADca\\xADtion. There are new classes, new apis, and a new pack\\xADage struc\\xADture that has greatly sim\\xADpli\\xADfied things that we used to have to work around. There\\xADfore in our up\\xADgrade it re\\xADquired us to refac\\xADtor and re\\xADmove any un\\xADnec\\xADes\\xADsary \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u201Chacks\\u201D\"), \" that weren\\u2019t avail\\xADable in 2 that are now a part of Vert.x 3 that you re\\xADally want and need to take ad\\xADvan\\xADtage of. (I don\\u2019t mean there are hacks in 3.x, just that we had in our ap\\xADpli\\xADca\\xADtion with Vert.x 2.x)\"), mdx(\"p\", null, \"There are \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Met\\xADrics\"), \", and \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Clus\\xADtered shared data\"), \", with lock\\xADing and many more fea\\xADtures that are amaz\\xADing new ad\\xADdi\\xADtions. These are things we had to hack into our ap\\xADpli\\xADca\\xADtion with Vert.x 2.x. We added our own \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MetricsRegistry\"), \" from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://dropwizard.github.io/metrics/3.1.0/getting-started/\"\n  }), \"Drop\\xADWiz\\xADard\"), \" which meant mak\\xADing our own \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Main\"), \" class that called Vert.x\\u2019s \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Starter\"), \" class after start\\xADing up the reg\\xADistry, but only in our \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"De\\xADvops\"), \" server de\\xADploys, not our de\\xADvel\\xADoper ma\\xADchines. And we had to build our own dis\\xADtrib\\xADuted locked of clus\\xADtered data that also re\\xADquired writ\\xADing a com\\xADpre\\xADhen\\xADsive dis\\xADtrib\\xADuted timers. (The timers got fixed with a bet\\xADter actor model). But now we can use what Vert.x gives us in\\xADter\\xADnally for those use cases.\"), mdx(\"p\", null, \"This blog post is part one, as I am sure there will be some new changes that we need to do that we haven\\u2019t got\\xADten to yet. Which as we go, will post in part two. Also that this post is a work in progress in that when\\xADever you are up\\xADgrad\\xADing and refac\\xADtor\\xADing your code, it doesn\\u2019t leave much time for tak\\xADing de\\xADtailed notes, or writ\\xADing beau\\xADti\\xADful prose. I am a ter\\xADri\\xADble writer even when I can fully con\\xADcen\\xADtrate on it. So the first draft will just be a list of my notes. These notes are not in any par\\xADtic\\xADu\\xADlar order, but some things like tests you might want to save for last. (Just DON\\u2019T delete your tests, tests are very im\\xADpor\\xADtant)\"), mdx(\"p\", null, \"One of the first things that Vert.x has changed is the whole \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"class\\xADloader\"), \" setup. Read the Vert.x Docs for more in\\xADfor\\xADma\\xADtion but ba\\xADsi\\xADcally, we have a flat \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"class\\xADloader\"), \" sys\\xADtem now. YAY! And one of the first things I no\\xADticed that is gone is the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Platform\"), \" mod\\xADule.\"), mdx(\"h2\", {\n    \"id\": \"changes-we-have-made\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#changes-we-have-made\"\n  })), \"Changes we have made.\"), mdx(\"h3\", {\n    \"id\": \"dependency-changes\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#dependency-changes\"\n  })), \"Dependency changes\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"So the first thing we did was to re\\xADmove the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vert.x-platform\"), \" de\\xADpen\\xADdency from our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom\"), \" file (Build de\\xADpen\\xADdency file of what\\xADever build sys\\xADtem you use) This also means that you will be re\\xADmov\\xADing any im\\xADport state\\xADments from your code that has \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".platform\"), \". Which leads us to the next point.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Change all the im\\xADports for Vertx. from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"org.vertx\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"io.vertx\"), \". This could be a lot of work, as it is in every class you use Vert.x in. We had at least 250 lo\\xADca\\xADtions to change here. Some classes have moved pack\\xADages and \\u201Cjars\\u201D that have them, so there will be some new jars to in\\xADclude as de\\xADpen\\xADden\\xADcies and dif\\xADfer\\xADent im\\xADport state\\xADments for them.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"If using a lan\\xADguage other than Java, change the de\\xADpen\\xADdency to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-lang-\u003c\u003clanguage\u003e\u003e\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Re\\xADmove any mod\\xADules ref\\xADer\\xADences that are using Vert.x 2.x stuff. You can get an odd error like\\n\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"The type org.vertx.java.core.json.JsonOb\\xADject can\\xADnot be re\\xADsolved. It is in\\xADdi\\xADrectly ref\\xADer\\xADenced from re\\xADquired .class files\"), \".\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"testtools\"), \" de\\xADpen\\xADdency is gone. There is now Vertx-\\u200Bunit. So all your pre\\xADvi\\xADous tests need to be com\\xADpletely re-\\u200Bwritten in the new style. This can be re\\xADally dif\\xADfi\\xADcult and time con\\xADsum\\xADing as the tests you al\\xADready have writ\\xADten re\\xADally do need to be re-\\u200Bwritten from scratch. But these tests are also the back\\xADbone in know\\xADing if your code is work\\xADing. So this could take months if you have a re\\xADally full set of test suites al\\xADready. Also note the list below is to con\\xADvert your JUnit In\\xADte\\xADgra\\xADtion tests. as vertx-\\u200Bunit first and fore\\xADmost pro\\xADvides its own test\\xADing frame\\xADwork/suite but it also works in JUnit, and if you are using JUnit you need to do the fol\\xADlow\\xADing\"))), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Re\\xADmove all the im\\xADports to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"TestTools\"), \", in\\xADclud\\xADing \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"VertxAssert\"), \". I would do a find/re\\xADplace to re\\xADplace all the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"VertxAssert\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"testContext\"), \" for when you have to add \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"TestContext\"), \" to all your \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"@Test\"), \" meth\\xADods. I rec\\xADom\\xADmend nam\\xADing the pa\\xADra\\xADme\\xADter \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"testContext\"), \", just to put more con\\xADtext, into your con\\xADtext. Be\\xADcause if you just have \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"context\"), \" as your pa\\xADra\\xADme\\xADter name, how do you know what con\\xADtext the con\\xADtext is? Sorry, that was too much fun. Ba\\xADsi\\xADcally, what I am say\\xADing is if you have say \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Spring ApplicationContext\"), \" in with your in\\xADte\\xADgra\\xADtion tests with Vert.x what does \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"context\"), \" rep\\xADre\\xADsent? Spring or Vert.x test con\\xADtext.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Add \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"@RunWith(VertxUnitRunner.class)\"), \" above your test class\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Re\\xADmove any \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"VertxAssert.testComplete()\"), \" those are gone. It needs \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"TestContext.async().complete()\"), \". It is also im\\xADpor\\xADtant to un\\xADder\\xADstand what \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"async()\"), \" means. When to call it, when to com\\xADplete it. It also al\\xADlows you to do mul\\xADti\\xADple \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"async()\"), \" calls and nested ones. I think I needed that when I had a test that was a longer use case of many mes\\xADsages being sent, but only after re\\xADsponses to other ones oc\\xADcurred. For in\\xADstance, to do chat in our app, you have to con\\xADnect, sub\\xADscribe, friend some\\xADone, then you can send a chat mes\\xADsage. So that is 4 total Vert.x Mes\\xADsages sent from the Test client. And you can sub\\xADscribe until con\\xADnect com\\xADpleted, and you can send or re\\xADceive mes\\xADsages un\\xADless you are sub\\xADscribed and have a friend. So we need to have a few \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"async()\"), \" calls in that sce\\xADnario.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"What is in your \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"start\"), \" method over\\xADride. Make that an \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"@Before\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"What is in your \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"stop\"), \" method over\\xADride. Make that an \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"@After\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If you have your as\\xADser\\xADtions have cus\\xADtom mes\\xADsage \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"strings\"), \" to log out when they fail, that pa\\xADra\\xADme\\xADter is now at the end of the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"assert\"), \" method call. Yes, this one can be painful.\")), mdx(\"h3\", {\n    \"id\": \"build-changes\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#build-changes\"\n  })), \"Build Changes\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Re\\xADmove all \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"vertx maven plugin\"), \" code to gen\\xADer\\xADate mod\\xADules, in\\xADstead cre\\xADate \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"fat\"), \" jars, which re\\xADquires adding the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Shade maven plugin\"), \" to put all jar files into a big fat jar. The vertx-\\u200Bexamples project has \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-examples/tree/master/maven-simplest\"\n  }), \"simplest-\\u200Bmaven\"), \" which has the stuff to cre\\xADate the fat jar. \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-examples/tree/master/gradle-simplest\"\n  }), \"simplest-\\u200Bgradle\"), \" is the gra\\xADdle equiv\\xADa\\xADlent.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"If you were run\\xADning your ap\\xADpli\\xADca\\xADtion with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"runMod\"), \" or some\\xADthing like that then you need to cre\\xADate a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"fat\"), \" jar, chang\\xADing the build file as in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-examples/blob/master/maven-simplest/pom.xml\"\n  }), \"this one\"), \" and cre\\xADate a Main class like here \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-examples/blob/master/maven-simplest/src/main/java/io/vertx/example/HelloWorldEmbedded.java\"\n  }), \"this one\"), \".\"))), mdx(\"h3\", {\n    \"id\": \"classcode-changes\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#classcode-changes\"\n  })), \"Class/Code Changes\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Verticle\"), \" is now an in\\xADter\\xADface and not a class to ex\\xADtend, so using Groovy as an ex\\xADam\\xADple you now ex\\xADtend \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GroovyVerticle\"), \". In Java ex\\xADtend \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AbstractVerticle\"), \" in\\xADstead.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"There is no \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"registerHandler\"), \" on the event\\xADBus any\\xADmore. So every\\xADwhere you do that has to change to cre\\xADate/call \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"consumer()\"), \" and to un\\xADreg\\xADis\\xADter that han\\xADdler, you have to have a ref\\xADer\\xADence to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MessageConsumer\"), \" that \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"consumer()\"), \" call re\\xADturns and call its \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"unregister\"), \" method.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JsonObject.toMap()\"), \" changed to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JsonObject.getMap()\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JsonObject\"), \" also re\\xADmoved all the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"putXXX\"), \" meth\\xADods with just one \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"put\"), \" method with over\\xADloaded ver\\xADsions for dif\\xADfer\\xADent types.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JsonObjectMessage\"), \" no longer ex\\xADists. What re\\xADplaces de\\xADpends on what you are doing. Mean\\xADing, if it is an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"async\"), \" call\\xADback to a de\\xADploy, you will get a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Message\"), \" in\\xADstance back that has \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"succeeded()\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"failed()\"), \" meth\\xADods as well as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"body()\"), \" to check any re\\xADsults. If it is a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Consumer\"), \", it is typ\\xADi\\xADcally a straight for\\xADward\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JsonObject\"), \". If you are in Groovy it is also a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JsonObject\"), \", but the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"body()\"), \" is a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Map\"), \" which you can use di\\xADrectly now, in\\xADstead of hav\\xADing to con\\xADvert from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JsonObject\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Map\"), \".\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"There isn\\u2019t a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"container\"), \" vari\\xADable in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Verticles\"), \" any\\xADmore for de\\xADploy\\xADing ver\\xADti\\xADcles and also a con\\xADfig file. You need to use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx.getOrCreateContext().config()\"), \" to get to it. I used that in the SockJS Ex\\xADam\\xADple code below.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SharedData\"), \" no longer has shared sets. It has a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Map\"), \" of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SharedData\"), \", so an entry in that \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Map\"), \" of shared data could be the name of the set as the key, and a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Set\"), \" as the value. It ac\\xADtu\\xADally gives you more flex\\xADi\\xADbil\\xADity of what you put into Shared data, so this is ac\\xADtu\\xADally a big win for us.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Get\\xADting the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"writeHandlerID\"), \" from a Socket type, is now a method call in\\xADstead of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".writeHandlerID\"), \", so \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".writeHandlerID()\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SockJSSocket\"), \" is in \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"vertx-\\u200Bweb\"), \" pack\\xADage now, so in\\xADclude it to get the class.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"There isn\\u2019t a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SockJSServer\"), \" class any\\xADmore ei\\xADther. So you will cre\\xADate a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"WebServer\"), \", a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Router\"), \"\\nand set SSL (if you are using SSL on the Web\\xADServer) then cre\\xADate a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SockJSHandler\"), \" to as\\xADsign to the router via the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"route()\"), \" method and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"handler()\"), \" meth\\xADods in the Router api.\\nHere is an ex\\xADam\\xADple of our code. Al\\xADthough I haven\\u2019t tested it yet. ;)\"))), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-groovy\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"class\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"MyVerticle\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"extends\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"GroovyVerticle\"), \" {\"), \"\\n  Router router\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@Override\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" start() \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"throws\"), \" Exception {\\n     router = Router.router(vertx)\\n     (Map\u003cString, Object\u003e) sslConfig =\\n        (Map\u003cString, Object\u003e)vertx.getOrCreateContext()\\n          .config().get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"'ssl'\"), \")\\n\\n     HttpServer sslHttpServer = vertx.createHttpServer(\\n         \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-symbol\"\n  }), \"SSL:\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-literal\"\n  }), \"true\"), \",\\n         \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-symbol\"\n  }), \"keyStorePath:\"), \" sslConfig.get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"keystore\\\"\"), \"),\\n         \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-symbol\"\n  }), \"keyStorePassword:\"), \" sslConfig.get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"password\\\"\"), \"))\\n\\n     startWebApiServer(sslHttpServer)\\n  }\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" startWebApiServer(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"final\"), \" HttpServer httpServer) {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"def\"), \" sockHandler = SockJSHandler.create(vertx, [:])\\n    sockHandler.socketHandler {\\n      SockJSSocket ws -\u003e sockJSConnectHandler(ws)\\n    }\\n    router.route(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/hdpoker\\\"\"), \").handler(sockHandler)\\n    httpServer.requestHandler(router.\u0026accept)\\n    httpServer.listen()\\n  }\\n\\n}\\n\")), mdx(\"h4\", {\n    \"id\": \"more-testing-change\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#more-testing-change\"\n  })), \"More testing change\"), mdx(\"p\", null, \"Test\\xADing mes\\xADsages in In\\xADte\\xADgra\\xADtion Tests. To tell the test method that this has async calls put\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Async async = testContext.async()\"), \" as the first line in the test method. Yes, this is a lit\\xADtle re\\xADdun\\xADdant from above, but I al\\xADways for\\xADgot to put \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"async()\"), \" calls in my in\\xADte\\xADgra\\xADtion tests and they would pass so quickly, with\\xADout send\\xADing any\\xADthing out, be\\xADcause it wasn\\u2019t wait\\xADing any\\xADmore\"), mdx(\"h3\", {\n    \"id\": \"runtime-changes\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#runtime-changes\"\n  })), \"Runtime changes\"), mdx(\"p\", null, \"If you don\\u2019t use Vert.x built-\\u200Bin Log\\xADging and need to use slf4j, then re\\xADmem\\xADber that you should set a sys\\xADtem prop\\xADerty called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx.logger-delegate-factory-class-name\"), \" with the name of a Java class which im\\xADple\\xADments the in\\xADter\\xADface \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"LoggerFactory\"), \". Vert.x pro\\xADvides pre-\\u200Bbuilt im\\xADple\\xADmen\\xADta\\xADtions for Log4J and SLF4J with the class names \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"io.vertx.core.logging.Log4jLogDelegateFactory\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"io.vertx.core.logging.SLF4JLogDelegateFactory\"), \".\"), mdx(\"h2\", {\n    \"id\": \"still-working\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#still-working\"\n  })), \"Still working\"), mdx(\"p\", null, \"Well, that is all I have for you folks so far. We are still not done, as we haven\\u2019t got\\xADten our ap\\xADpli\\xADca\\xADtion run\\xADning with real clients just yet. But we do have all our in\\xADte\\xADgra\\xADtion tests from be\\xADfore com\\xADpletely pass\\xADing\\nso, if some\\xADthing does come up, it should be a small one (KNOCK ON WOOD)\"), mdx(\"p\", null, \"Please feel free to post on the Vert.x Google Group with any com\\xADments or sug\\xADges\\xADtions on what to add to this blog post or for Part Two.\"), mdx(\"p\", null, \"Thanks\"), mdx(\"p\", null, \"Mark S\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eThis blog post presents feed­backs from a project mi­gra­tion using Vert.x 2 to Vert.x 3.\u003c/p\u003e\u003ch2 id=\"we-are-in-the-process-of-converting-our-vertx-215-application-to-vertx-30\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#we-are-in-the-process-of-converting-our-vertx-215-application-to-vertx-30\"\u003e\u003c/a\u003eWe are in the process of converting our Vert.x 2.1.5 application to Vert.x 3.0.\u003c/h2\u003e\u003cp\u003eSo while up­grad­ing our ap­pli­ca­tion, I thought I should note down all the changes that we had to do in the process. Since Vert.x 3 is a major up­grade from the pre­vi­ous ver­sion, with so many changes.\u003c/p\u003e\u003cp\u003eIt re­quires re-​thinking your cur­rent 2.x Vert.x ap­pli­ca­tion. There are new classes, new apis, and a new pack­age struc­ture that has greatly sim­pli­fied things that we used to have to work around. There­fore in our up­grade it re­quired us to refac­tor and re­move any un­nec­es­sary \u003cem\u003e“hacks”\u003c/em\u003e that weren’t avail­able in 2 that are now a part of Vert.x 3 that you re­ally want and need to take ad­van­tage of. (I don’t mean there are hacks in 3.x, just that we had in our ap­pli­ca­tion with Vert.x 2.x)\u003c/p\u003e\u003cp\u003eThere are \u003cem\u003eMet­rics\u003c/em\u003e, and \u003cem\u003eClus­tered shared data\u003c/em\u003e, with lock­ing and many more fea­tures that are amaz­ing new ad­di­tions. These are things we had to hack into our ap­pli­ca­tion with Vert.x 2.x. We added our own \u003ccode\u003eMetricsRegistry\u003c/code\u003e from \u003ca href=\"https://dropwizard.github.io/metrics/3.1.0/getting-started/\"\u003eDrop­Wiz­ard\u003c/a\u003e which meant mak­ing our own \u003ccode\u003eMain\u003c/code\u003e class that called Vert.x’s \u003ccode\u003eStarter\u003c/code\u003e class after start­ing up the reg­istry, but only in our \u003cem\u003eDe­vops\u003c/em\u003e server de­ploys, not our de­vel­oper ma­chines. And we had to build our own dis­trib­uted locked of clus­tered data that also re­quired writ­ing a com­pre­hen­sive dis­trib­uted timers. (The timers got fixed with a bet­ter actor model). But now we can use what Vert.x gives us in­ter­nally for those use cases.\u003c/p\u003e\u003cp\u003eThis blog post is part one, as I am sure there will be some new changes that we need to do that we haven’t got­ten to yet. Which as we go, will post in part two. Also that this post is a work in progress in that when­ever you are up­grad­ing and refac­tor­ing your code, it doesn’t leave much time for tak­ing de­tailed notes, or writ­ing beau­ti­ful prose. I am a ter­ri­ble writer even when I can fully con­cen­trate on it. So the first draft will just be a list of my notes. These notes are not in any par­tic­u­lar order, but some things like tests you might want to save for last. (Just DON’T delete your tests, tests are very im­por­tant)\u003c/p\u003e\u003cp\u003eOne of the first things that Vert.x has changed is the whole \u003cem\u003eclass­loader\u003c/em\u003e setup. Read the Vert.x Docs for more in­for­ma­tion but ba­si­cally, we have a flat \u003cem\u003eclass­loader\u003c/em\u003e sys­tem now. YAY! And one of the first things I no­ticed that is gone is the \u003ccode\u003ePlatform\u003c/code\u003e mod­ule.\u003c/p\u003e\u003ch2 id=\"changes-we-have-made\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#changes-we-have-made\"\u003e\u003c/a\u003eChanges we have made.\u003c/h2\u003e\u003ch3 id=\"dependency-changes\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#dependency-changes\"\u003e\u003c/a\u003eDependency changes\u003c/h3\u003e\u003col\u003e\u003cli\u003e\u003cp\u003eSo the first thing we did was to re­move the \u003ccode\u003evert.x-platform\u003c/code\u003e de­pen­dency from our \u003ccode\u003epom\u003c/code\u003e file (Build de­pen­dency file of what­ever build sys­tem you use) This also means that you will be re­mov­ing any im­port state­ments from your code that has \u003ccode\u003e.platform\u003c/code\u003e. Which leads us to the next point.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eChange all the im­ports for Vertx. from \u003ccode\u003eorg.vertx\u003c/code\u003e to \u003ccode\u003eio.vertx\u003c/code\u003e. This could be a lot of work, as it is in every class you use Vert.x in. We had at least 250 lo­ca­tions to change here. Some classes have moved pack­ages and “jars” that have them, so there will be some new jars to in­clude as de­pen­den­cies and dif­fer­ent im­port state­ments for them.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eIf using a lan­guage other than Java, change the de­pen­dency to \u003ccode\u003evertx-lang-\u0026lt;\u0026lt;language\u0026gt;\u0026gt;\u003c/code\u003e\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eRe­move any mod­ules ref­er­ences that are using Vert.x 2.x stuff. You can get an odd error like\n\u003cem\u003eThe type org.vertx.java.core.json.JsonOb­ject can­not be re­solved. It is in­di­rectly ref­er­enced from re­quired .class files\u003c/em\u003e.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ccode\u003etesttools\u003c/code\u003e de­pen­dency is gone. There is now Vertx-​unit. So all your pre­vi­ous tests need to be com­pletely re-​written in the new style. This can be re­ally dif­fi­cult and time con­sum­ing as the tests you al­ready have writ­ten re­ally do need to be re-​written from scratch. But these tests are also the back­bone in know­ing if your code is work­ing. So this could take months if you have a re­ally full set of test suites al­ready. Also note the list below is to con­vert your JUnit In­te­gra­tion tests. as vertx-​unit first and fore­most pro­vides its own test­ing frame­work/suite but it also works in JUnit, and if you are using JUnit you need to do the fol­low­ing\u003c/p\u003e\u003c/li\u003e\u003c/ol\u003e\u003cul\u003e\u003cli\u003eRe­move all the im­ports to \u003ccode\u003eTestTools\u003c/code\u003e, in­clud­ing \u003ccode\u003eVertxAssert\u003c/code\u003e. I would do a find/re­place to re­place all the \u003ccode\u003eVertxAssert\u003c/code\u003e to \u003ccode\u003etestContext\u003c/code\u003e for when you have to add \u003ccode\u003eTestContext\u003c/code\u003e to all your \u003ccode\u003e@Test\u003c/code\u003e meth­ods. I rec­om­mend nam­ing the pa­ra­me­ter \u003ccode\u003etestContext\u003c/code\u003e, just to put more con­text, into your con­text. Be­cause if you just have \u003ccode\u003econtext\u003c/code\u003e as your pa­ra­me­ter name, how do you know what con­text the con­text is? Sorry, that was too much fun. Ba­si­cally, what I am say­ing is if you have say \u003ccode\u003eSpring ApplicationContext\u003c/code\u003e in with your in­te­gra­tion tests with Vert.x what does \u003ccode\u003econtext\u003c/code\u003e rep­re­sent? Spring or Vert.x test con­text.\u003c/li\u003e\u003cli\u003eAdd \u003ccode\u003e@RunWith(VertxUnitRunner.class)\u003c/code\u003e above your test class\u003c/li\u003e\u003cli\u003eRe­move any \u003ccode\u003eVertxAssert.testComplete()\u003c/code\u003e those are gone. It needs \u003ccode\u003eTestContext.async().complete()\u003c/code\u003e. It is also im­por­tant to un­der­stand what \u003ccode\u003easync()\u003c/code\u003e means. When to call it, when to com­plete it. It also al­lows you to do mul­ti­ple \u003ccode\u003easync()\u003c/code\u003e calls and nested ones. I think I needed that when I had a test that was a longer use case of many mes­sages being sent, but only after re­sponses to other ones oc­curred. For in­stance, to do chat in our app, you have to con­nect, sub­scribe, friend some­one, then you can send a chat mes­sage. So that is 4 total Vert.x Mes­sages sent from the Test client. And you can sub­scribe until con­nect com­pleted, and you can send or re­ceive mes­sages un­less you are sub­scribed and have a friend. So we need to have a few \u003ccode\u003easync()\u003c/code\u003e calls in that sce­nario.\u003c/li\u003e\u003cli\u003eWhat is in your \u003ccode\u003estart\u003c/code\u003e method over­ride. Make that an \u003ccode\u003e@Before\u003c/code\u003e.\u003c/li\u003e\u003cli\u003eWhat is in your \u003ccode\u003estop\u003c/code\u003e method over­ride. Make that an \u003ccode\u003e@After\u003c/code\u003e.\u003c/li\u003e\u003cli\u003eIf you have your as­ser­tions have cus­tom mes­sage \u003cem\u003estrings\u003c/em\u003e to log out when they fail, that pa­ra­me­ter is now at the end of the \u003ccode\u003eassert\u003c/code\u003e method call. Yes, this one can be painful.\u003c/li\u003e\u003c/ul\u003e\u003ch3 id=\"build-changes\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#build-changes\"\u003e\u003c/a\u003eBuild Changes\u003c/h3\u003e\u003col\u003e\u003cli\u003e\u003cp\u003eRe­move all \u003cem\u003evertx maven plugin\u003c/em\u003e code to gen­er­ate mod­ules, in­stead cre­ate \u003cem\u003efat\u003c/em\u003e jars, which re­quires adding the \u003cem\u003eShade maven plugin\u003c/em\u003e to put all jar files into a big fat jar. The vertx-​examples project has \u003ca href=\"https://github.com/vert-x3/vertx-examples/tree/master/maven-simplest\"\u003esimplest-​maven\u003c/a\u003e which has the stuff to cre­ate the fat jar. \u003ca href=\"https://github.com/vert-x3/vertx-examples/tree/master/gradle-simplest\"\u003esimplest-​gradle\u003c/a\u003e is the gra­dle equiv­a­lent.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eIf you were run­ning your ap­pli­ca­tion with \u003ccode\u003erunMod\u003c/code\u003e or some­thing like that then you need to cre­ate a \u003cem\u003efat\u003c/em\u003e jar, chang­ing the build file as in \u003ca href=\"https://github.com/vert-x3/vertx-examples/blob/master/maven-simplest/pom.xml\"\u003ethis one\u003c/a\u003e and cre­ate a Main class like here \u003ca href=\"https://github.com/vert-x3/vertx-examples/blob/master/maven-simplest/src/main/java/io/vertx/example/HelloWorldEmbedded.java\"\u003ethis one\u003c/a\u003e.\u003c/p\u003e\u003c/li\u003e\u003c/ol\u003e\u003ch3 id=\"classcode-changes\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#classcode-changes\"\u003e\u003c/a\u003eClass/Code Changes\u003c/h3\u003e\u003col\u003e\u003cli\u003e\u003cp\u003e\u003ccode\u003eVerticle\u003c/code\u003e is now an in­ter­face and not a class to ex­tend, so using Groovy as an ex­am­ple you now ex­tend \u003ccode\u003eGroovyVerticle\u003c/code\u003e. In Java ex­tend \u003ccode\u003eAbstractVerticle\u003c/code\u003e in­stead.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eThere is no \u003ccode\u003eregisterHandler\u003c/code\u003e on the event­Bus any­more. So every­where you do that has to change to cre­ate/call \u003ccode\u003econsumer()\u003c/code\u003e and to un­reg­is­ter that han­dler, you have to have a ref­er­ence to the \u003ccode\u003eMessageConsumer\u003c/code\u003e that \u003ccode\u003econsumer()\u003c/code\u003e call re­turns and call its \u003ccode\u003eunregister\u003c/code\u003e method.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ccode\u003eJsonObject.toMap()\u003c/code\u003e changed to \u003ccode\u003eJsonObject.getMap()\u003c/code\u003e\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ccode\u003eJsonObject\u003c/code\u003e also re­moved all the \u003ccode\u003eputXXX\u003c/code\u003e meth­ods with just one \u003ccode\u003eput\u003c/code\u003e method with over­loaded ver­sions for dif­fer­ent types.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ccode\u003eJsonObjectMessage\u003c/code\u003e no longer ex­ists. What re­places de­pends on what you are doing. Mean­ing, if it is an \u003ccode\u003easync\u003c/code\u003e call­back to a de­ploy, you will get a \u003ccode\u003eMessage\u003c/code\u003e in­stance back that has \u003ccode\u003esucceeded()\u003c/code\u003e or \u003ccode\u003efailed()\u003c/code\u003e meth­ods as well as \u003ccode\u003ebody()\u003c/code\u003e to check any re­sults. If it is a \u003ccode\u003eConsumer\u003c/code\u003e, it is typ­i­cally a straight for­ward\n\u003ccode\u003eJsonObject\u003c/code\u003e. If you are in Groovy it is also a \u003ccode\u003eJsonObject\u003c/code\u003e, but the \u003ccode\u003ebody()\u003c/code\u003e is a \u003ccode\u003eMap\u003c/code\u003e which you can use di­rectly now, in­stead of hav­ing to con­vert from \u003ccode\u003eJsonObject\u003c/code\u003e to \u003ccode\u003eMap\u003c/code\u003e.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eThere isn’t a \u003ccode\u003econtainer\u003c/code\u003e vari­able in \u003ccode\u003eVerticles\u003c/code\u003e any­more for de­ploy­ing ver­ti­cles and also a con­fig file. You need to use \u003ccode\u003evertx.getOrCreateContext().config()\u003c/code\u003e to get to it. I used that in the SockJS Ex­am­ple code below.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ccode\u003eSharedData\u003c/code\u003e no longer has shared sets. It has a \u003ccode\u003eMap\u003c/code\u003e of \u003ccode\u003eSharedData\u003c/code\u003e, so an entry in that \u003ccode\u003eMap\u003c/code\u003e of shared data could be the name of the set as the key, and a \u003ccode\u003eSet\u003c/code\u003e as the value. It ac­tu­ally gives you more flex­i­bil­ity of what you put into Shared data, so this is ac­tu­ally a big win for us.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eGet­ting the \u003ccode\u003ewriteHandlerID\u003c/code\u003e from a Socket type, is now a method call in­stead of \u003ccode\u003e.writeHandlerID\u003c/code\u003e, so \u003ccode\u003e.writeHandlerID()\u003c/code\u003e\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ccode\u003eSockJSSocket\u003c/code\u003e is in \u003cem\u003evertx-​web\u003c/em\u003e pack­age now, so in­clude it to get the class.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eThere isn’t a \u003ccode\u003eSockJSServer\u003c/code\u003e class any­more ei­ther. So you will cre­ate a \u003ccode\u003eWebServer\u003c/code\u003e, a \u003ccode\u003eRouter\u003c/code\u003e\nand set SSL (if you are using SSL on the Web­Server) then cre­ate a \u003ccode\u003eSockJSHandler\u003c/code\u003e to as­sign to the router via the \u003ccode\u003eroute()\u003c/code\u003e method and \u003ccode\u003ehandler()\u003c/code\u003e meth­ods in the Router api.\nHere is an ex­am­ple of our code. Al­though I haven’t tested it yet. ;)\u003c/p\u003e\u003c/li\u003e\u003c/ol\u003e\u003cpre\u003e\u003ccode class=\"hljs language-groovy\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyVerticle\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eGroovyVerticle\u003c/span\u003e {\u003c/span\u003e\n  Router router\n\n  \u003cspan class=\"hljs-meta\"\u003e@Override\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e start() \u003cspan class=\"hljs-keyword\"\u003ethrows\u003c/span\u003e Exception {\n     router = Router.router(vertx)\n     (Map\u0026lt;String, Object\u0026gt;) sslConfig =\n        (Map\u0026lt;String, Object\u0026gt;)vertx.getOrCreateContext()\n          .config().get(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;ssl\u0026#x27;\u003c/span\u003e)\n\n     HttpServer sslHttpServer = vertx.createHttpServer(\n         \u003cspan class=\"hljs-symbol\"\u003eSSL:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n         \u003cspan class=\"hljs-symbol\"\u003ekeyStorePath:\u003c/span\u003e sslConfig.get(\u003cspan class=\"hljs-string\"\u003e\u0026quot;keystore\u0026quot;\u003c/span\u003e),\n         \u003cspan class=\"hljs-symbol\"\u003ekeyStorePassword:\u003c/span\u003e sslConfig.get(\u003cspan class=\"hljs-string\"\u003e\u0026quot;password\u0026quot;\u003c/span\u003e))\n\n     startWebApiServer(sslHttpServer)\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e startWebApiServer(\u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e HttpServer httpServer) {\n    \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e sockHandler = SockJSHandler.create(vertx, [:])\n    sockHandler.socketHandler {\n      SockJSSocket ws -\u0026gt; sockJSConnectHandler(ws)\n    }\n    router.route(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/hdpoker\u0026quot;\u003c/span\u003e).handler(sockHandler)\n    httpServer.requestHandler(router.\u0026amp;accept)\n    httpServer.listen()\n  }\n\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"more-testing-change\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#more-testing-change\"\u003e\u003c/a\u003eMore testing change\u003c/h4\u003e\u003cp\u003eTest­ing mes­sages in In­te­gra­tion Tests. To tell the test method that this has async calls put\n\u003ccode\u003eAsync async = testContext.async()\u003c/code\u003e as the first line in the test method. Yes, this is a lit­tle re­dun­dant from above, but I al­ways for­got to put \u003ccode\u003easync()\u003c/code\u003e calls in my in­te­gra­tion tests and they would pass so quickly, with­out send­ing any­thing out, be­cause it wasn’t wait­ing any­more\u003c/p\u003e\u003ch3 id=\"runtime-changes\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#runtime-changes\"\u003e\u003c/a\u003eRuntime changes\u003c/h3\u003e\u003cp\u003eIf you don’t use Vert.x built-​in Log­ging and need to use slf4j, then re­mem­ber that you should set a sys­tem prop­erty called \u003ccode\u003evertx.logger-delegate-factory-class-name\u003c/code\u003e with the name of a Java class which im­ple­ments the in­ter­face \u003ccode\u003eLoggerFactory\u003c/code\u003e. Vert.x pro­vides pre-​built im­ple­men­ta­tions for Log4J and SLF4J with the class names \u003ccode\u003eio.vertx.core.logging.Log4jLogDelegateFactory\u003c/code\u003e and \u003ccode\u003eio.vertx.core.logging.SLF4JLogDelegateFactory\u003c/code\u003e.\u003c/p\u003e\u003ch2 id=\"still-working\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#still-working\"\u003e\u003c/a\u003eStill working\u003c/h2\u003e\u003cp\u003eWell, that is all I have for you folks so far. We are still not done, as we haven’t got­ten our ap­pli­ca­tion run­ning with real clients just yet. But we do have all our in­te­gra­tion tests from be­fore com­pletely pass­ing\nso, if some­thing does come up, it should be a small one (KNOCK ON WOOD)\u003c/p\u003e\u003cp\u003ePlease feel free to post on the Vert.x Google Group with any com­ments or sug­ges­tions on what to add to this blog post or for Part Two.\u003c/p\u003e\u003cp\u003eThanks\u003c/p\u003e\u003cp\u003eMark S\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"test","tf":22},{"term":"us","tf":21},{"term":"chang","tf":16},{"term":"class","tf":14},{"term":"method","tf":13},{"term":"call","tf":12},{"term":"need","tf":11},{"term":"on","tf":10},{"term":"remov","tf":8},{"term":"applic","tf":7},{"term":"new","tf":7},{"term":"just","tf":7},{"term":"will","tf":7},{"term":"code","tf":7},{"term":"depend","tf":7},{"term":"jar","tf":7},{"term":"creat","tf":7},{"term":"post","tf":6},{"term":"thing","tf":6},{"term":"work","tf":6},{"term":"first","tf":6},{"term":"import","tf":6},{"term":"file","tf":6},{"term":"messag","tf":6},{"term":"note","tf":5}]},{"filename":"blog/2015-07-03-vert-x3-and-postgresql-json-type.mdx","date":"2015-07-03","slug":"vert-x3-and-postgresql-json-type","meta":{"title":"Vert.x 3 and PostgreSQL JSON type","category":"guides","authors":[{"name":"Paulo Lopes","github_id":"pmlopes"}],"summary":"One of the interesting features of NoSQL databases is their schema-less mode of operation. This feature is very useful during project prototyping and early development since at early the stages of development of projects all data structures are not clear or have been defined yet."},"readingTime":{"text":"1 min read","minutes":1,"time":60000,"words":200},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"One of the in\\xADter\\xADest\\xADing fea\\xADtures of NoSQL data\\xADbases is their schema-\\u200Bless mode of op\\xADer\\xADa\\xADtion. This fea\\xADture is very use\\xADful\\ndur\\xADing project pro\\xADto\\xADtyp\\xADing and early de\\xADvel\\xADop\\xADment since at early the stages of de\\xADvel\\xADop\\xADment of projects all data\\nstruc\\xADtures are not clear or have been de\\xADfined yet. The rea\\xADson of this post is not to dis\\xADcuss about that sub\\xADject, but to\\nshow that some\\xADtimes you can also use NoSQL with a more tra\\xADdi\\xADtional data\\xADbase en\\xADgine like \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.postgresql.org/\"\n  }), \"Post\\xADgreSQL\"), \".\"), mdx(\"p\", null, \"Since ver\\xADsion \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.postgresql.org/docs/9.3/static/datatype-json.html\"\n  }), \"9.3\"), \" there is sup\\xADport for JSON how\\xADever with\\nver\\xADsion \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.postgresql.org/docs/9.4/static/datatype-json.html\"\n  }), \"9.4\"), \" there is even bet\\xADter sup\\xADport with the new type\\nJSONB. I will now show how to use the basic JSON type in a sim\\xADple REST ap\\xADpli\\xADca\\xADtion writ\\xADten with Vert.x3:\"), mdx(Gist, {\n    url: \"https://gist.github.com/pmlopes/47f7f02b0b102b5e68d8\",\n    mdxType: \"Gist\"\n  }), mdx(\"p\", null, \"Now all you need to do is play with this REST ser\\xADvice, for this you can use curl to cre\\xADate a sale:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"$ curl \\\\\\n    -i \\\\\\n    -H \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Content-Type: application/json\\\"\"), \" \\\\\\n    -X POST \\\\\\n    -d \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"'{\\\"id\\\": 1, \\\"customer_name\\\": \\\"John\\\", \\\"items\\\": {\\\"description\\\": \\\"milk\\\", \\\"quantity\\\": 4}}'\"), \" \\\\\\n    http://localhost:8080/sales\\n\\nHTTP/1.1 201 Created\\nContent-Length: 0\\n\")), mdx(\"p\", null, \"And if you want to read that new doc\\xADu\\xADment:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"$ curl -i -H \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Accept: application/json\\\"\"), \" -X GET http://localhost:8080/sales/1\\nHTTP/1.1 200 OK\\ncontent-type: application/json\\nContent-Length: 75\\n\\n{\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"id\\\"\"), \":1,\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"customer_name\\\"\"), \":\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"John\\\"\"), \",\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"items\\\"\"), \":{\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"description\\\"\"), \":\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"milk\\\"\"), \",\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"quantity\\\"\"), \":4}}\\n\")));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eOne of the in­ter­est­ing fea­tures of NoSQL data­bases is their schema-​less mode of op­er­a­tion. This fea­ture is very use­ful\ndur­ing project pro­to­typ­ing and early de­vel­op­ment since at early the stages of de­vel­op­ment of projects all data\nstruc­tures are not clear or have been de­fined yet. The rea­son of this post is not to dis­cuss about that sub­ject, but to\nshow that some­times you can also use NoSQL with a more tra­di­tional data­base en­gine like \u003ca href=\"http://www.postgresql.org/\"\u003ePost­greSQL\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eSince ver­sion \u003ca href=\"http://www.postgresql.org/docs/9.3/static/datatype-json.html\"\u003e9.3\u003c/a\u003e there is sup­port for JSON how­ever with\nver­sion \u003ca href=\"http://www.postgresql.org/docs/9.4/static/datatype-json.html\"\u003e9.4\u003c/a\u003e there is even bet­ter sup­port with the new type\nJSONB. I will now show how to use the basic JSON type in a sim­ple REST ap­pli­ca­tion writ­ten with Vert.x3:\u003c/p\u003e\u003cdiv\u003e...waiting for Gist...\u003c/div\u003e\u003cp\u003eNow all you need to do is play with this REST ser­vice, for this you can use curl to cre­ate a sale:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ curl \\\n    -i \\\n    -H \u003cspan class=\"hljs-string\"\u003e\u0026quot;Content-Type: application/json\u0026quot;\u003c/span\u003e \\\n    -X POST \\\n    -d \u003cspan class=\"hljs-string\"\u003e\u0026#x27;{\u0026quot;id\u0026quot;: 1, \u0026quot;customer_name\u0026quot;: \u0026quot;John\u0026quot;, \u0026quot;items\u0026quot;: {\u0026quot;description\u0026quot;: \u0026quot;milk\u0026quot;, \u0026quot;quantity\u0026quot;: 4}}\u0026#x27;\u003c/span\u003e \\\n    http://localhost:8080/sales\n\nHTTP/1.1 201 Created\nContent-Length: 0\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAnd if you want to read that new doc­u­ment:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ curl -i -H \u003cspan class=\"hljs-string\"\u003e\u0026quot;Accept: application/json\u0026quot;\u003c/span\u003e -X GET http://localhost:8080/sales/1\nHTTP/1.1 200 OK\ncontent-type: application/json\nContent-Length: 75\n\n{\u003cspan class=\"hljs-string\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e:1,\u003cspan class=\"hljs-string\"\u003e\u0026quot;customer_name\u0026quot;\u003c/span\u003e:\u003cspan class=\"hljs-string\"\u003e\u0026quot;John\u0026quot;\u003c/span\u003e,\u003cspan class=\"hljs-string\"\u003e\u0026quot;items\u0026quot;\u003c/span\u003e:{\u003cspan class=\"hljs-string\"\u003e\u0026quot;description\u0026quot;\u003c/span\u003e:\u003cspan class=\"hljs-string\"\u003e\u0026quot;milk\u0026quot;\u003c/span\u003e,\u003cspan class=\"hljs-string\"\u003e\u0026quot;quantity\u0026quot;\u003c/span\u003e:4}}\n\u003c/code\u003e\u003c/pre\u003e","scope":{}},"tfIdfTerms":[{"term":"us","tf":4},{"term":"featur","tf":2},{"term":"nosql","tf":2},{"term":"databas","tf":2},{"term":"project","tf":2},{"term":"earli","tf":2},{"term":"develop","tf":2},{"term":"not","tf":2},{"term":"show","tf":2},{"term":"version","tf":2},{"term":"support","tf":2},{"term":"json","tf":2},{"term":"new","tf":2},{"term":"type","tf":2},{"term":"rest","tf":2},{"term":"on","tf":1},{"term":"interest","tf":1},{"term":"schema","tf":1},{"term":"less","tf":1},{"term":"mode","tf":1},{"term":"oper","tf":1},{"term":"prototyp","tf":1},{"term":"stage","tf":1},{"term":"data","tf":1},{"term":"structur","tf":1}]},{"filename":"blog/2015-07-02-vert-x-3-init-d-script.mdx","date":"2015-07-02","slug":"vert-x-3-init-d-script","meta":{"title":"Vert.x 3 init.d Script","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Let's say you have a Vert.x 3 application you want to install on a Linux server. But you want the old school way (I mean not the Docker way)."},"readingTime":{"text":"2 min read","minutes":1.845,"time":110700,"words":369},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Let\\u2019s say you have a Vert.x 3 ap\\xADpli\\xADca\\xADtion you want to in\\xADstall on a Linux server. But you want the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"old school\"), \" way (I mean not the Docker way \", \"\\u263A\", \"). So, in other words, you need an \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"init.d\"), \" script. This post pro\\xADposes an \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"init.d\"), \" script that you can use to start/stop/restart a Vert.x 3 ap\\xADpli\\xADca\\xADtion.\"), mdx(\"h2\", {\n    \"id\": \"prerequisites\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#prerequisites\"\n  })), \"Prerequisites\"), mdx(\"p\", null, \"The pro\\xADposed script as\\xADsumes your ap\\xADpli\\xADca\\xADtion is pack\\xADaged as a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"fat jar\"), \". So, your ap\\xADpli\\xADca\\xADtion is going to be launched using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"java -jar your-fat-jar ...\"), \".\"), mdx(\"h2\", {\n    \"id\": \"the-script\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#the-script\"\n  })), \"The script\"), mdx(\"p\", null, \"The \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"init.d\"), \" scripts have to reply to a set of \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"com\\xADmands\"), \":\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"start\"), \" : starts the ap\\xADpli\\xADca\\xADtion (if not yet started)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"stop\"), \" : stops the ap\\xADpli\\xADca\\xADtion (if started)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"status\"), \" : let you know if the ap\\xADpli\\xADca\\xADtion is started or not\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"restart\"), \" : restart the ap\\xADpli\\xADca\\xADtion\")), mdx(\"p\", null, \"These \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"com\\xADmands\"), \" are in\\xADvoked using:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"service my-service-script start\\nservice my-service-script stop\\nservice my-service-script status\\nservice my-service-script restart\\n\")), mdx(\"p\", null, \"In gen\\xADeral, ser\\xADvice scripts are hooked in the boot and shut\\xADdown se\\xADquences to start and stop au\\xADto\\xADmat\\xADi\\xADcally dur\\xADing the sys\\xADtem starts and stops.\"), mdx(\"p\", null, \"So, enough talks, let\\u2019s look at the script:\"), mdx(Gist, {\n    url: \"https://gist.github.com/cescoffier/ccc8b391787e93f4e6e0\",\n    mdxType: \"Gist\"\n  }), mdx(\"h2\", {\n    \"id\": \"using-the-script\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#using-the-script\"\n  })), \"Using the script\"), mdx(\"p\", null, \"First down\\xADload the script from the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://gist.githubusercontent.com/cescoffier/ccc8b391787e93f4e6e0/raw/my-vertx-application\"\n  }), \"here\"), \".\"), mdx(\"p\", null, \"You need to set a cou\\xADple of vari\\xADables lo\\xADcated at the be\\xADgin\\xADning of the file:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-ini\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"# The directory in which your application is installed\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"APPLICATION_DIR\"), \"=\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/opt/my-vertx-app\\\"\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"# The fat jar containing your application\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"APPLICATION_JAR\"), \"=\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"maven-verticle-3.0.0-fat.jar\\\"\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"# The application argument such as -cluster -cluster-host ...\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"APPLICATION_ARGS\"), \"=\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"\\\"\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"# vert.x options and system properties (-Dfoo=bar).\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"VERTX_OPTS\"), \"=\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"\\\"\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"# The path to the Java command to use to launch the application (must be java 8+)\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"JAVA\"), \"=/opt/java/java/bin/java\\n\")), mdx(\"p\", null, \"The rest of the script can stay as it is, but feel free to adapt it to your needs. Once you have set these vari\\xADables based on your en\\xADvi\\xADron\\xADment, move the file to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/etc/init.d\"), \" and set it as ex\\xADe\\xADcutable:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"sudo mv my-vertx-application /etc/init.d\\nsudo chmod +x my-vertx-application\\n\")), mdx(\"p\", null, \"Then, you should be able to start your ap\\xADpli\\xADca\\xADtion using:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"sudo service my-vertx-application start\\n\")), mdx(\"p\", null, \"De\\xADpend\\xADing to your op\\xADer\\xADat\\xADing sys\\xADtem, adding the hooks to the boot and shut\\xADdown se\\xADquence dif\\xADfers. For in\\xADstance on Ubuntu you need to use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"update-rc.d\"), \" com\\xADmand while on Cen\\xADtOS \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"chkconfig\"), \" is used\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"That\\u2019s all, enjoy !\")));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eLet’s say you have a Vert.x 3 ap­pli­ca­tion you want to in­stall on a Linux server. But you want the \u003cem\u003eold school\u003c/em\u003e way (I mean not the Docker way \u003c!-- --\u003e☺\u003c!-- --\u003e). So, in other words, you need an \u003cem\u003einit.d\u003c/em\u003e script. This post pro­poses an \u003cem\u003einit.d\u003c/em\u003e script that you can use to start/stop/restart a Vert.x 3 ap­pli­ca­tion.\u003c/p\u003e\u003ch2 id=\"prerequisites\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#prerequisites\"\u003e\u003c/a\u003ePrerequisites\u003c/h2\u003e\u003cp\u003eThe pro­posed script as­sumes your ap­pli­ca­tion is pack­aged as a \u003cem\u003efat jar\u003c/em\u003e. So, your ap­pli­ca­tion is going to be launched using \u003ccode\u003ejava -jar your-fat-jar ...\u003c/code\u003e.\u003c/p\u003e\u003ch2 id=\"the-script\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#the-script\"\u003e\u003c/a\u003eThe script\u003c/h2\u003e\u003cp\u003eThe \u003cem\u003einit.d\u003c/em\u003e scripts have to reply to a set of \u003cem\u003ecom­mands\u003c/em\u003e:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ccode\u003estart\u003c/code\u003e : starts the ap­pli­ca­tion (if not yet started)\u003c/li\u003e\u003cli\u003e\u003ccode\u003estop\u003c/code\u003e : stops the ap­pli­ca­tion (if started)\u003c/li\u003e\u003cli\u003e\u003ccode\u003estatus\u003c/code\u003e : let you know if the ap­pli­ca­tion is started or not\u003c/li\u003e\u003cli\u003e\u003ccode\u003erestart\u003c/code\u003e : restart the ap­pli­ca­tion\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThese \u003cem\u003ecom­mands\u003c/em\u003e are in­voked using:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eservice my-service-script start\nservice my-service-script stop\nservice my-service-script status\nservice my-service-script restart\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIn gen­eral, ser­vice scripts are hooked in the boot and shut­down se­quences to start and stop au­to­mat­i­cally dur­ing the sys­tem starts and stops.\u003c/p\u003e\u003cp\u003eSo, enough talks, let’s look at the script:\u003c/p\u003e\u003cdiv\u003e...waiting for Gist...\u003c/div\u003e\u003ch2 id=\"using-the-script\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#using-the-script\"\u003e\u003c/a\u003eUsing the script\u003c/h2\u003e\u003cp\u003eFirst down­load the script from the \u003ca href=\"https://gist.githubusercontent.com/cescoffier/ccc8b391787e93f4e6e0/raw/my-vertx-application\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eYou need to set a cou­ple of vari­ables lo­cated at the be­gin­ning of the file:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-ini\"\u003e\u003cspan class=\"hljs-comment\"\u003e# The directory in which your application is installed\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eAPPLICATION_DIR\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;/opt/my-vertx-app\u0026quot;\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e# The fat jar containing your application\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eAPPLICATION_JAR\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;maven-verticle-3.0.0-fat.jar\u0026quot;\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e# The application argument such as -cluster -cluster-host ...\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eAPPLICATION_ARGS\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e# vert.x options and system properties (-Dfoo=bar).\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eVERTX_OPTS\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e# The path to the Java command to use to launch the application (must be java 8+)\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eJAVA\u003c/span\u003e=/opt/java/java/bin/java\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe rest of the script can stay as it is, but feel free to adapt it to your needs. Once you have set these vari­ables based on your en­vi­ron­ment, move the file to \u003ccode\u003e/etc/init.d\u003c/code\u003e and set it as ex­e­cutable:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003esudo mv my-vertx-application /etc/init.d\nsudo chmod +x my-vertx-application\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThen, you should be able to start your ap­pli­ca­tion using:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003esudo service my-vertx-application start\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eDe­pend­ing to your op­er­at­ing sys­tem, adding the hooks to the boot and shut­down se­quence dif­fers. For in­stance on Ubuntu you need to use the \u003ccode\u003eupdate-rc.d\u003c/code\u003e com­mand while on Cen­tOS \u003ccode\u003echkconfig\u003c/code\u003e is used\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eThat’s all, enjoy !\u003c/strong\u003e\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"script","tf":10},{"term":"applic","tf":9},{"term":"start","tf":8},{"term":"us","tf":7},{"term":"need","tf":4},{"term":"stop","tf":4},{"term":"set","tf":4},{"term":"let","tf":3},{"term":"not","tf":3},{"term":"init","tf":3},{"term":"command","tf":3},{"term":"want","tf":2},{"term":"propos","tf":2},{"term":"restart","tf":2},{"term":"hook","tf":2},{"term":"boot","tf":2},{"term":"shutdown","tf":2},{"term":"sequenc","tf":2},{"term":"system","tf":2},{"term":"variabl","tf":2},{"term":"file","tf":2},{"term":"sai","tf":1},{"term":"instal","tf":1},{"term":"linux","tf":1},{"term":"server","tf":1}]},{"filename":"blog/2015-07-01-vert-x3-web-easy-as-pi.mdx","date":"2015-07-01","slug":"vert-x3-web-easy-as-pi","meta":{"title":"Vert.x 3 Web easy as Pi","category":"guides","authors":[{"name":"Paulo Lopes","github_id":"pmlopes"}],"summary":"Vert.x Web distinguishes itself from traditional application servers like JavaEE by just being a simple extension toolkit to Vert.x, which makes it quite lightweight and small but nevertheless very powerful."},"readingTime":{"text":"4 min read","minutes":3.12,"time":187200.00000000003,"words":624},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vertx.io/docs/#web\"\n  }), \"Vert.x Web\"), \" dis\\xADtin\\xADguishes it\\xADself from tra\\xADdi\\xADtional ap\\xADpli\\xADca\\xADtion servers like JavaEE by just\\nbeing a sim\\xADple ex\\xADten\\xADsion toolkit to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vertx.io/docs/#core\"\n  }), \"Vert.x\"), \", which makes it quite light\\xADweight and small but\\nnev\\xADer\\xADthe\\xADless very pow\\xADer\\xADful.\"), mdx(\"p\", null, \"One can cre\\xADate sim\\xADple ap\\xADpli\\xADca\\xADtions tar\\xADget\\xADing \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"small\"), \" de\\xADvices such as Rasp\\xADberry Pi with\\xADout hav\\xADing to write much code but\\nstill very fast as it is ex\\xADpected from any Vert.x ap\\xADpli\\xADca\\xADtion.\"), mdx(\"p\", null, \"Let\\u2019s for ex\\xADam\\xADple think of mak\\xADing a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/pmlopes/vert-x3-experiments/archive/experiments/rpi-cpuload.zip\"\n  }), \"re\\xADal\\xADtime cpu load vi\\xADsu\\xADal\\xADiza\\xADtion web app\"), \".\\nFor this ex\\xADam\\xADple we need a few things:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"a \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://docs.oracle.com/javase/7/docs/api/java/lang/management/OperatingSystemMXBean.html\"\n  }), \"MXBean\"), \" to col\\xADlect CPU load\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"a \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://vertx.io/docs/vertx-core/java/#_writing_http_servers_and_clients\"\n  }), \"HTTP server\"), \" (to serve the sta\\xADtic re\\xADsources and host our app)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"a \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://vertx.io/docs/vertx-web/java/#_sockjs\"\n  }), \"SockJS server\"), \" to pro\\xADvide re\\xADal\\xADtime up\\xADdates\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"a SockJS to \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://vertx.io/docs/vertx-web/java/#_sockjs_event_bus_bridge\"\n  }), \"Event\\xADBus bridge\"), \" to pass mes\\xADsages around\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"some \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://d3js.org/\"\n  }), \"vi\\xADsu\\xADal\\xADiza\\xADtion\"), \" JS li\\xADbrary\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"a bit of cod\\xADing\")), mdx(\"p\", null, \"To boot\\xADstrap this project we start by cre\\xADat\\xADing the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/pmlopes/vert-x3-experiments/blob/experiments/rpi-cpuload/pom.xml\"\n  }), \"pom.xml\"), \"\\nfile. A good start is al\\xADways to con\\xADsult the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-examples\"\n  }), \"ex\\xADam\\xADples\"), \",\\nand you should end up with some\\xADthing like:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-xml\"\n  }), \"...\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"io.vertx.blog\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"rpi\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"1.0\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependencies\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependency\"), \"\u003e\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"io.vertx\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"vertx-core\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"3.0.0\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependency\"), \"\u003e\"), \"\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependency\"), \"\u003e\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"io.vertx\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"vertx-web\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"3.0.0\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependency\"), \"\u003e\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependencies\"), \"\u003e\"), \"\\n...\\n\")), mdx(\"p\", null, \"At this mo\\xADment you can start cod\\xADing the ap\\xADpli\\xADca\\xADtion using the stan\\xADdard maven source \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/main/java\"), \" and re\\xADsource\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/main/resouces\"), \" lo\\xADca\\xADtions. And add a the class \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/pmlopes/vert-x3-experiments/blob/experiments/rpi-cpuload/src/main/java/io/vertx/blog/RPiVerticle.java\"\n  }), \"io.vertx.blog.RpiVer\\xADti\\xADcle\"), \"\\nto the project:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"class\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"RPiVerticle\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"extends\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"AbstractVerticle\"), \" \"), \"{\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"static\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"final\"), \" OperatingSystemMXBean osMBean;\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"static\"), \" {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"try\"), \" {\\n      osMBean = ManagementFactory.newPlatformMXBeanProxy(ManagementFactory.getPlatformMBeanServer(),\\n          ManagementFactory.OPERATING_SYSTEM_MXBEAN_NAME, OperatingSystemMXBean.class);\\n    } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"catch\"), \" (IOException e) {\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"throw\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" RuntimeException(e);\\n    }\\n  }\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@Override\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"start\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n\\n    Router router = Router.router(vertx);\\n\\n    router.route(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/eventbus/*\\\"\"), \").handler(SockJSHandler.create(vertx)\\n        .bridge(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" BridgeOptions().addOutboundPermitted(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" PermittedOptions().setAddress(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"load\\\"\"), \"))));\\n\\n    router.route().handler(StaticHandler.create());\\n\\n    vertx.createHttpServer().requestHandler(router::accept).listen(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \");\\n\\n    vertx.setPeriodic(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"1000\"), \", t -\u003e vertx.eventBus().publish(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"load\\\"\"), \",\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject()\\n            .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"creatTime\\\"\"), \", System.currentTimeMillis())\\n            .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"cpuTime\\\"\"), \", osMBean.getSystemLoadAverage())));\\n  }\\n}\\n\")), mdx(\"p\", null, \"So let\\u2019s go through the code, first in the sta\\xADtic con\\xADstruc\\xADtor we ini\\xADtial\\xADize the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MXBean\"), \" that will allow us to col\\xADlect\\nthe cur\\xADrent \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"System Load Average\"), \", then on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"start\"), \" method we cre\\xADate a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Vert.x Web Router\"), \" and de\\xADfine that for all\\nre\\xADquests start\\xADing with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/eventbus\"), \" should be han\\xADdled by the SockJS server, which we then bridge to the Vert.x\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"EventBus\"), \" and allow out\\xADbound mes\\xADsages ad\\xADdressed to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"load\"), \" ad\\xADdress.\"), mdx(\"p\", null, \"Since our ap\\xADpli\\xADca\\xADtion is a web ap\\xADpli\\xADca\\xADtion we will also server some sta\\xADtic con\\xADtent with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"StaticHandler\"), \" and we\\nfi\\xADnally start a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HTTP server\"), \" lis\\xADten\\xADing on port \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"8080\"), \".\"), mdx(\"p\", null, \"So now all we are miss\\xADing is a way to push real time data to the client so we end up cre\\xADat\\xADing a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Periodic\"), \" task that\\nre\\xADpeats every 1000 mil\\xADlisec\\xADonds and sends some \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JSON\"), \" pay\\xADload to the ad\\xADdress \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\"load\\\"\"), \".\"), mdx(\"p\", null, \"If you run this ap\\xADpli\\xADca\\xADtion right now you won\\u2019t see much since there is no fron\\xADtend yet, so let\\u2019s build a very basic\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/pmlopes/vert-x3-experiments/blob/experiments/rpi-cpuload/src/main/resources/webroot/index.html\"\n  }), \"index.html\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-javascript\"\n  }), \"...\\nvar eb = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" vertx.EventBus(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"window\"), \".location + \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"eventbus\\\"\"), \");\\n\\neb.onopen = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"function\"), \" (\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  })), \") \"), \"{\\n  eb.registerHandler(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"load\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"function\"), \" (\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"msg\"), \") \"), \"{\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (data.length === \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"25\"), \") {\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// when length of data equal 25 then pop data[0]\"), \"\\n      data.shift();\\n    }\\n    data.push({\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"creatTime\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"Date\"), \"(msg.creatTime),\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"cpuTime\\\"\"), \": msg.cpuTime\\n    });\\n    render();\\n  });\\n};\\n...\\n\")), mdx(\"p\", null, \"Let\\u2019s walk again the code, we start by open\\xADing a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"EventBus\"), \" bridge over \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SockJS\"), \" and reg\\xADis\\xADter a han\\xADdler \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"data\"), \" to con\\xADsume\\nmes\\xADsages sent to that ad\\xADdress. Once such a mes\\xADsage ar\\xADrives we do some house keep\\xADing to avoid fill\\xADing our browser mem\\xADory\\nand then add the in\\xADcom\\xADing mes\\xADsage to the data queue and triger a ren\\xADder\\xADing of the data. There is how\\xADever one in\\xADter\\xADest\\xADing\\nissue here, since the mes\\xADsage pay\\xADload is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JSON\"), \" there is no na\\xADtive sup\\xADport for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Date\"), \" ob\\xADjects so we need to do some\\npars\\xADing from what ar\\xADrives from the server. In this case the server sends a sim\\xADple time since epoch num\\xADber, but one can\\nchoose any for\\xADmat he likes.\"), mdx(\"p\", null, \"At this mo\\xADment you can build and pack\\xADage your app like \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mvn clean package\"), \", then de\\xADploy it to your rasp\\xADber\\xADrypi like:\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"scp target/rpi-1.0-fat.jar pi@raspberrypi:~/\"), \" and fi\\xADnally run it: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"java -jar rpi-1.0-fat.jar\"), \".\"), mdx(\"p\", null, \"Open a browser to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://raspberrypi:8080\"\n  }), \"see\"), \" the re\\xADal\\xADtime graph!\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/images/blog/vertx3-web-easy-as-pi/rpi.png\",\n    \"alt\": \"Screenshot\"\n  }))));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003e\u003ca href=\"http://vertx.io/docs/#web\"\u003eVert.x Web\u003c/a\u003e dis­tin­guishes it­self from tra­di­tional ap­pli­ca­tion servers like JavaEE by just\nbeing a sim­ple ex­ten­sion toolkit to \u003ca href=\"http://vertx.io/docs/#core\"\u003eVert.x\u003c/a\u003e, which makes it quite light­weight and small but\nnev­er­the­less very pow­er­ful.\u003c/p\u003e\u003cp\u003eOne can cre­ate sim­ple ap­pli­ca­tions tar­get­ing \u003cem\u003esmall\u003c/em\u003e de­vices such as Rasp­berry Pi with­out hav­ing to write much code but\nstill very fast as it is ex­pected from any Vert.x ap­pli­ca­tion.\u003c/p\u003e\u003cp\u003eLet’s for ex­am­ple think of mak­ing a \u003ca href=\"https://github.com/pmlopes/vert-x3-experiments/archive/experiments/rpi-cpuload.zip\"\u003ere­al­time cpu load vi­su­al­iza­tion web app\u003c/a\u003e.\nFor this ex­am­ple we need a few things:\u003c/p\u003e\u003cul\u003e\u003cli\u003ea \u003ca href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/management/OperatingSystemMXBean.html\"\u003eMXBean\u003c/a\u003e to col­lect CPU load\u003c/li\u003e\u003cli\u003ea \u003ca href=\"http://vertx.io/docs/vertx-core/java/#_writing_http_servers_and_clients\"\u003eHTTP server\u003c/a\u003e (to serve the sta­tic re­sources and host our app)\u003c/li\u003e\u003cli\u003ea \u003ca href=\"http://vertx.io/docs/vertx-web/java/#_sockjs\"\u003eSockJS server\u003c/a\u003e to pro­vide re­al­time up­dates\u003c/li\u003e\u003cli\u003ea SockJS to \u003ca href=\"http://vertx.io/docs/vertx-web/java/#_sockjs_event_bus_bridge\"\u003eEvent­Bus bridge\u003c/a\u003e to pass mes­sages around\u003c/li\u003e\u003cli\u003esome \u003ca href=\"http://d3js.org/\"\u003evi­su­al­iza­tion\u003c/a\u003e JS li­brary\u003c/li\u003e\u003cli\u003ea bit of cod­ing\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eTo boot­strap this project we start by cre­at­ing the \u003ca href=\"https://github.com/pmlopes/vert-x3-experiments/blob/experiments/rpi-cpuload/pom.xml\"\u003epom.xml\u003c/a\u003e\nfile. A good start is al­ways to con­sult the \u003ca href=\"https://github.com/vert-x3/vertx-examples\"\u003eex­am­ples\u003c/a\u003e,\nand you should end up with some­thing like:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-xml\"\u003e...\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx.blog\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003erpi\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e1.0\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependencies\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-core\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.0.0\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-web\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.0.0\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependencies\u003c/span\u003e\u0026gt;\u003c/span\u003e\n...\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAt this mo­ment you can start cod­ing the ap­pli­ca­tion using the stan­dard maven source \u003ccode\u003esrc/main/java\u003c/code\u003e and re­source\n\u003ccode\u003esrc/main/resouces\u003c/code\u003e lo­ca­tions. And add a the class \u003ca href=\"https://github.com/pmlopes/vert-x3-experiments/blob/experiments/rpi-cpuload/src/main/java/io/vertx/blog/RPiVerticle.java\"\u003eio.vertx.blog.RpiVer­ti­cle\u003c/a\u003e\nto the project:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eRPiVerticle\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eAbstractVerticle\u003c/span\u003e \u003c/span\u003e{\n\n  \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e OperatingSystemMXBean osMBean;\n\n  \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n      osMBean = ManagementFactory.newPlatformMXBeanProxy(ManagementFactory.getPlatformMBeanServer(),\n          ManagementFactory.OPERATING_SYSTEM_MXBEAN_NAME, OperatingSystemMXBean.class);\n    } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (IOException e) {\n      \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e RuntimeException(e);\n    }\n  }\n\n  \u003cspan class=\"hljs-meta\"\u003e@Override\u003c/span\u003e\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003estart\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n\n    Router router = Router.router(vertx);\n\n    router.route(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/eventbus/*\u0026quot;\u003c/span\u003e).handler(SockJSHandler.create(vertx)\n        .bridge(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e BridgeOptions().addOutboundPermitted(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e PermittedOptions().setAddress(\u003cspan class=\"hljs-string\"\u003e\u0026quot;load\u0026quot;\u003c/span\u003e))));\n\n    router.route().handler(StaticHandler.create());\n\n    vertx.createHttpServer().requestHandler(router::accept).listen(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e);\n\n    vertx.setPeriodic(\u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e, t -\u0026gt; vertx.eventBus().publish(\u003cspan class=\"hljs-string\"\u003e\u0026quot;load\u0026quot;\u003c/span\u003e,\n        \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n            .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;creatTime\u0026quot;\u003c/span\u003e, System.currentTimeMillis())\n            .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;cpuTime\u0026quot;\u003c/span\u003e, osMBean.getSystemLoadAverage())));\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSo let’s go through the code, first in the sta­tic con­struc­tor we ini­tial­ize the \u003ccode\u003eMXBean\u003c/code\u003e that will allow us to col­lect\nthe cur­rent \u003ccode\u003eSystem Load Average\u003c/code\u003e, then on the \u003ccode\u003estart\u003c/code\u003e method we cre­ate a \u003ccode\u003eVert.x Web Router\u003c/code\u003e and de­fine that for all\nre­quests start­ing with \u003ccode\u003e/eventbus\u003c/code\u003e should be han­dled by the SockJS server, which we then bridge to the Vert.x\n\u003ccode\u003eEventBus\u003c/code\u003e and allow out­bound mes­sages ad­dressed to the \u003ccode\u003eload\u003c/code\u003e ad­dress.\u003c/p\u003e\u003cp\u003eSince our ap­pli­ca­tion is a web ap­pli­ca­tion we will also server some sta­tic con­tent with the \u003ccode\u003eStaticHandler\u003c/code\u003e and we\nfi­nally start a \u003ccode\u003eHTTP server\u003c/code\u003e lis­ten­ing on port \u003ccode\u003e8080\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eSo now all we are miss­ing is a way to push real time data to the client so we end up cre­at­ing a \u003ccode\u003ePeriodic\u003c/code\u003e task that\nre­peats every 1000 mil­lisec­onds and sends some \u003ccode\u003eJSON\u003c/code\u003e pay­load to the ad­dress \u003ccode\u003e\u0026quot;load\u0026quot;\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eIf you run this ap­pli­ca­tion right now you won’t see much since there is no fron­tend yet, so let’s build a very basic\n\u003ca href=\"https://github.com/pmlopes/vert-x3-experiments/blob/experiments/rpi-cpuload/src/main/resources/webroot/index.html\"\u003eindex.html\u003c/a\u003e:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e...\nvar eb = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e vertx.EventBus(\u003cspan class=\"hljs-built_in\"\u003ewindow\u003c/span\u003e.location + \u003cspan class=\"hljs-string\"\u003e\u0026quot;eventbus\u0026quot;\u003c/span\u003e);\n\neb.onopen = \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n  eb.registerHandler(\u003cspan class=\"hljs-string\"\u003e\u0026quot;load\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003emsg\u003c/span\u003e) \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (data.length === \u003cspan class=\"hljs-number\"\u003e25\u003c/span\u003e) {\n      \u003cspan class=\"hljs-comment\"\u003e// when length of data equal 25 then pop data[0]\u003c/span\u003e\n      data.shift();\n    }\n    data.push({\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;creatTime\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003eDate\u003c/span\u003e(msg.creatTime),\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;cpuTime\u0026quot;\u003c/span\u003e: msg.cpuTime\n    });\n    render();\n  });\n};\n...\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eLet’s walk again the code, we start by open­ing a \u003ccode\u003eEventBus\u003c/code\u003e bridge over \u003ccode\u003eSockJS\u003c/code\u003e and reg­is­ter a han­dler \u003ccode\u003edata\u003c/code\u003e to con­sume\nmes­sages sent to that ad­dress. Once such a mes­sage ar­rives we do some house keep­ing to avoid fill­ing our browser mem­ory\nand then add the in­com­ing mes­sage to the data queue and triger a ren­der­ing of the data. There is how­ever one in­ter­est­ing\nissue here, since the mes­sage pay­load is \u003ccode\u003eJSON\u003c/code\u003e there is no na­tive sup­port for \u003ccode\u003eDate\u003c/code\u003e ob­jects so we need to do some\npars­ing from what ar­rives from the server. In this case the server sends a sim­ple time since epoch num­ber, but one can\nchoose any for­mat he likes.\u003c/p\u003e\u003cp\u003eAt this mo­ment you can build and pack­age your app like \u003ccode\u003emvn clean package\u003c/code\u003e, then de­ploy it to your rasp­ber­rypi like:\n\u003ccode\u003escp target/rpi-1.0-fat.jar pi@raspberrypi:~/\u003c/code\u003e and fi­nally run it: \u003ccode\u003ejava -jar rpi-1.0-fat.jar\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eOpen a browser to \u003ca href=\"http://raspberrypi:8080\"\u003esee\u003c/a\u003e the re­al­time graph!\u003c/p\u003e\u003cp\u003e\u003cimg src=\"/images/blog/vertx3-web-easy-as-pi/rpi.png\" alt=\"Screenshot\"/\u003e\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"applic","tf":7},{"term":"server","tf":7},{"term":"messag","tf":6},{"term":"start","tf":6},{"term":"code","tf":5},{"term":"creat","tf":4},{"term":"let","tf":4},{"term":"address","tf":4},{"term":"web","tf":3},{"term":"simpl","tf":3},{"term":"on","tf":3},{"term":"exampl","tf":3},{"term":"realtim","tf":3},{"term":"app","tf":3},{"term":"static","tf":3},{"term":"sockj","tf":3},{"term":"bridg","tf":3},{"term":"data","tf":3},{"term":"make","tf":2},{"term":"small","tf":2},{"term":"cpu","tf":2},{"term":"load","tf":2},{"term":"visual","tf":2},{"term":"need","tf":2},{"term":"collect","tf":2}]}],"numPages":9},"__N_SSG":true},"page":"/blog/[[...slug]]","query":{"slug":["category","guides","page","9"]},"buildId":"C_I4gGOFTI-4fY_eV8SrD","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-5a9a91c546a2d4fb4cc4.js"></script><script src="/_next/static/chunks/main-79fb140702e98d221643.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/framework.4df82c4704a0136f6a4b.js" async=""></script><script src="/_next/static/chunks/commons.7726cd762eacbba73350.js" async=""></script><script src="/_next/static/chunks/styles.8577696c4e17514af975.js" async=""></script><script src="/_next/static/chunks/pages/_app-8beb549608891d89d2f4.js" async=""></script><script src="/_next/static/chunks/4f16b6dee4e09daf8bf4ac98169064eb9dcaeaf1.72e9236f86e8a2b5e7a0.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-3cd5466df6cee536d361.js" async=""></script><script src="/_next/static/C_I4gGOFTI-4fY_eV8SrD/_buildManifest.js" async=""></script><script src="/_next/static/C_I4gGOFTI-4fY_eV8SrD/_ssgManifest.js" async=""></script></body></html>