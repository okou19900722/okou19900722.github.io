<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><title>Eclipse Vert.x for Scala next steps | Blog | Eclipse Vert.x</title><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/styles.065337ce.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.065337ce.chunk.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-b6e20584df76f29b6f35.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.fcef98db13e2318579fb.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.5b8771ac6e8a338f82f1.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.6a5cc0a07ce13c54adf1.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-3dbbc9c041333077c167.js" as="script"/><link rel="preload" href="/_next/static/chunks/5e2acbba0c73eb7c5c0e969bcd552d3808de9969.4d0eb9c3d4239c66cc89.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-e52c21bde616652a406f.js" as="script"/></head><body><div id="__next"><main class="page"><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><a class="navbar-menu-item" href="/introduction-to-vertx-and-reactive/">Intro</a><a class="navbar-menu-item" href="/docs/">Docs</a><a class="navbar-menu-item" href="/faq/">FAQ</a><a class="navbar-menu-item" href="/blog/">Blog</a><a class="navbar-menu-item" href="/community/">Community</a></div><div class="navbar-social"><a href="https://github.com/vert-x3/vertx-awesome" class="navbar-social-link" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M24 11.438l-6.154-5.645-.865.944 5.128 4.7H1.895l5.128-4.705-.865-.943-6.154 5.649H0v3.72c0 1.683 1.62 3.053 3.61 3.053h3.795c1.99 0 3.61-1.37 3.61-3.051v-2.446h1.97v2.446c0 1.68 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.721z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" class="navbar-social-link" title="Stack Overflow" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>Stack Overflow</title><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" class="navbar-social-link" title="YouTube" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>YouTube</title><path d="M23.499 6.203a3.008 3.008 0 00-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 00-2.088 2.09A31.258 31.26 0 000 12.01a31.258 31.26 0 00.523 5.785 3.008 3.008 0 002.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 002.089-2.09 31.258 31.26 0 00.5-5.784 31.258 31.26 0 00-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"></path></svg></a><a href="https://discord.gg/KzEMwP2" class="navbar-social-link" title="Discord" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Discord"><title>Discord</title><path d="M20.222 0c1.406 0 2.54 1.137 2.607 2.475V24l-2.677-2.273-1.47-1.338-1.604-1.398.67 2.205H3.71c-1.402 0-2.54-1.065-2.54-2.476V2.48C1.17 1.142 2.31.003 3.715.003h16.5L20.222 0zm-6.118 5.683h-.03l-.202.2c2.073.6 3.076 1.537 3.076 1.537-1.336-.668-2.54-1.002-3.744-1.137-.87-.135-1.74-.064-2.475 0h-.2c-.47 0-1.47.2-2.81.735-.467.203-.735.336-.735.336s1.002-1.002 3.21-1.537l-.135-.135s-1.672-.064-3.477 1.27c0 0-1.805 3.144-1.805 7.02 0 0 1 1.74 3.743 1.806 0 0 .4-.533.805-1.002-1.54-.468-2.14-1.404-2.14-1.404s.134.066.335.2h.06c.03 0 .044.015.06.03v.006c.016.016.03.03.06.03.33.136.66.27.93.4.466.202 1.065.403 1.8.536.93.135 1.996.2 3.21 0 .6-.135 1.2-.267 1.8-.535.39-.2.87-.4 1.397-.737 0 0-.6.936-2.205 1.404.33.466.795 1 .795 1 2.744-.06 3.81-1.8 3.87-1.726 0-3.87-1.815-7.02-1.815-7.02-1.635-1.214-3.165-1.26-3.435-1.26l.056-.02zm.168 4.413c.703 0 1.27.6 1.27 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334.002-.74.573-1.338 1.27-1.338zm-4.543 0c.7 0 1.266.6 1.266 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334 0-.74.57-1.338 1.27-1.338z"></path></svg></a><a href="https://groups.google.com/forum/?fromgroups#!forum/vertx" class="navbar-social-link" title="Vert.x User Group" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="A Google group for Vert.x users"><title>Vert.x User Group</title><path d="M.92 3.332c-.776 0-1.216.67-.692 1.383l2.537 4.403v7.86c0 2.013 1.467 3.69 3.459 3.69H20.31a3.75 3.75 0 003.69-3.69V7.043a3.723 3.723 0 00-3.668-3.71zm5.786 3.71H20.1c.587 0 1.153.357 1.153.923 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.923 1.153-.923zm0 3.69H20.1c.587 0 1.153.356 1.153.922 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.922 1.153-.922zm-.021 3.71h9.705c.587 0 1.153.356 1.153.922 0 .566-.566.923-1.153.923H6.685c-.587 0-1.153-.357-1.153-.923 0-.566.566-.922 1.153-.922Z"></path></svg></a></div></div></div></div></header><div class="page-content"><div class="container"><div class="blog-post"><div class="blog-navbar"><h2>Blog</h2><ul><li><a href="/blog/">All posts</a></li><li><a href="/blog/category/releases/">releases</a></li><li><a href="/blog/category/guides/">guides</a></li><li><a href="/blog/category/news/">news</a></li></ul></div><div class="blog-post-main"><div class="blog-post-content"><h1>Eclipse Vert.x for Scala next steps</h1><span><p><strong>TL;DR:</strong></p><ul><li>No Scala 2.13 in Eclipse Vert.x 3.x due to in­creased sup­port bur­den</li><li>New value classes based ap­proach for Vert.x 4</li></ul><h2 id="retrospective"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#retrospective"></a>Retrospective</h2><p>It’s been more than two years since the in­cep­tion of <code>vertx-lang-scala</code> to the Vert.x ecosys­tem. And al­most as long since I wrote my first <a href="/blog/scala-is-here/">blog post</a> about it.</p><p>A lot has hap­pened since March 2017:</p><ul><li><code>vertx-lang-scala</code> kept up with new ver­sions of Scala</li><li>all Vert.x-​modules are sup­ported (35 so far)</li><li>a Giter8 based <a href="https://github.com/vert-x3/vertx-scala.g8">tem­plate</a> was added for eas­ily boot­strap­ping a Vert.x-​Scala-project</li><li>Bugs were squashed</li></ul><p>And most re­cently we re­ceived a great con­tri­bu­tion by <a href="https://github.com/NikolajLeischner">Niko­laj Leis­chner</a> who was kind enough to port the <a href="https://github.com/TechEmpower/FrameworkBenchmarks/tree/master/frameworks/Scala/vertx-web-scala">techempow­ered</a> bench­mark to vert-​lang-scala. Which will be part of the next steps.</p><p>The num­bers pro­duced by this bench­mark were very promis­ing and and ad­di­tional mo­ti­va­tion to move to the next phase of Scala sup­port for Vert.x.</p><h2 id="old-idea"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#old-idea"></a>Old idea</h2><p>Be­fore get­ting to the new ideas I want to take a look at the “old” one.</p><p>The cur­rent ver­sion of vert-​lang-scala is based around the idea of wrap­ping the Vert.x-API with a ded­i­cated Scala-​layer. That layer is cre­ated using a Freemarker-​based code gen­er­a­tor. I took this idea from the first try by Tim Fox for build­ing that sup­port.</p><p>Wrap­ping the ex­ist­ing Java-​API was rather painful but gave me great flex­i­bil­ity to cre­ate an id­iomatic Scala-​API.</p><p>But an ap­proach like that comes with a price:</p><ul><li>There are a lot of in­ter­me­di­ate ob­jects being cre­ated.</li><li>Many un­nec­ces­sary con­ver­sions be­tween Java/Scala types</li></ul><p>Both in­creased mem­ory con­sump­tion and garbage col­lec­tion ac­tiv­ity quite a bit and has been bug­ging me from the be­gin­ning.</p><h2 id="new-idea"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#new-idea"></a>New idea</h2><p>With Vert.x 4 ap­proach­ing I was fi­nally able to in­vest time into the re­work I had wanted to do for quite a while.</p><p>The core idea is to re­place the cur­rent wrap­ping based ap­proach with some­thing more light­weight but na­tive to the Scala-​world.</p><p>And that’s where <a href="https://docs.scala-lang.org/overviews/core/value-classes.html">value classes</a> come in.</p><p>Value classes allow the ex­ten­sion of ex­ist­ing classes with ad­di­tional meth­ods. They make it easy to con­trol <strong>when</strong> meth­ods be­come vis­i­ble and do that with a min­i­mum of over­head. To be pre­cise: A wrap­ping class is nor­mally ever only in­stan­ti­ated <strong>once</strong>.</p><p>A good ex­am­ple is the ad­di­tion of meth­ods for wrap­ping the Vert.x ap­proach of Promises with Scala-​Futures. Each method re­turn­ing a Vert.x-​Promise needs to re­ceive an al­ter­na­tive ver­sion which re­turns a Scala-​Future.</p><p>In Vert.x 3 I achieved that by adding meth­ods to the wrap­per and giv­ing them a dis­tinct name. A method called <strong>lis­ten</strong> re­turn­ing a Promise would re­ceive a com­pan­ion called <strong>lis­ten­Fu­ture</strong> in the Scala layer.</p><p>Let’s look at how this looks in the new ap­proach:</p><pre><code class="hljs language-scala"><span class="hljs-keyword">package</span> io.vertx.scala
<span class="hljs-keyword">package</span> <span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">core</span></span>{
   <span class="hljs-keyword">implicit</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HttpServerScala</span>(<span class="hljs-params">val asJava: io.vertx.core.http.<span class="hljs-type">HttpServer</span></span>) <span class="hljs-keyword">extends</span> <span class="hljs-title">AnyVal</span> </span>{
      <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">listenFuture</span></span>(port: java.lang.<span class="hljs-type">Integer</span>): scala.concurrent.<span class="hljs-type">Future</span>[io.vertx.core.http.<span class="hljs-type">HttpServer</span>] = {..}
      ..
}
</code></pre><p>The code above does the fol­low­ing things:</p><ul><li>It cre­ates a pack­age ob­ject for <strong>io.vertx.scala.core</strong></li><li>it adds an im­plict class <strong>HttpServer­Scala</strong> to wrpa <strong>HttpServer</strong></li><li>it adds a <strong>lis­ten­Fu­ture</strong> method</li></ul><p>Using this method in code looks like this:</p><pre><code class="hljs language-scala"><span class="hljs-keyword">package</span> io.vertx.scala.demo

<span class="hljs-keyword">import</span> io.vertx.lang.scala.<span class="hljs-type">VertxExecutionContext</span>
<span class="hljs-keyword">import</span> io.vertx.scala.core._

<span class="hljs-keyword">import</span> scala.util.{<span class="hljs-type">Failure</span>, <span class="hljs-type">Success</span>}

<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Main</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = {
    <span class="hljs-keyword">val</span> vertx = <span class="hljs-type">Vertx</span>.vertx()
    <span class="hljs-keyword">implicit</span> <span class="hljs-keyword">val</span> ec = <span class="hljs-type">VertxExecutionContext</span>(vertx.getOrCreateContext())
    vertx
      .createHttpServer()
      .requestHandler(r =&gt; {
        r.response().end(<span class="hljs-string">&quot;bye&quot;</span>)
      })
      .listenFuture(<span class="hljs-number">6667</span>)
      .onComplete {
        <span class="hljs-keyword">case</span> <span class="hljs-type">Success</span>(_) =&gt; println(<span class="hljs-string">&quot;Started&quot;</span>)
        <span class="hljs-keyword">case</span> <span class="hljs-type">Failure</span>(exception) =&gt; println(<span class="hljs-string">&quot;Failure&quot;</span>)
      }
  }
}
</code></pre><p>Im­port­ing the pack­age ob­ject using <strong>im­port io.vertx.scala.core._</strong> brings the ex­ten­sion method into scope and makes them avail­able on all in­stances of <strong>HttpServer</strong>. In the ex­am­ple above <strong>cre­ate­HttpServer()</strong> re­turn such an in­stance and we can now use the id­iomatic Scala way of han­dling a Fu­ture.</p><h3 id="even-more"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#even-more"></a>Even more</h3><p>Ex­tend­ing classes with Future-​methods is only one of the new things to come. On top of that the sup­port for DataOb­jects will be con­sid­er­ably im­proved, both through ex­tend­ing them and by pro­vid­ing type aliases.</p><p>I also switched from doing all con­ver­sions for col­lec­tions au­to­mat­i­cally to hand­ing the con­trol back to the user. Some­thing which gets even more im­por­tant for Scala 2.13 and the new col­lec­tion API.</p><h3 id="the-downside"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#the-downside"></a>The downside</h3><p>The clear down­side of this ap­proach is that the Java-​methods will stay vis­i­ble since the java-​classes won’t be wrapped but ex­tended. This might lead to some con­fu­sion but I am pretty sure the ben­e­fits out­weight this down­side.</p><p>The big­ger change will be the re­moval of au­to­matic von­ver­sion be­tween Scala types (Long/Int/String and  Col­lec­tions) and their Java coun­ter­parts. I spent con­sid­er­able time try­ing to tune that part in the cur­rent ver­sion bbut al­ways ended up hit­ting some edge­case. For now I’ve de­cided to have the user pick the right time to con­vert.</p><p>I might still add this fea­ture in a later ver­sion if user feed­back points into that di­rec­tion.</p><h2 id="when-will-i-get-it"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#when-will-i-get-it"></a>When will I get it?</h2><p>First for the good news: There is al­ready a <a href="https://github.com/vert-x3/vertx-lang-scala/tree/4.0">branch</a> with a full im­ple­men­ta­tion.</p><p>The bad news: It will break until Vert.x 4.0 is fi­nally re­leased.</p><p>Vert.x 4 is in ac­tive de­vel­op­ment with most APIs al­ready fi­nal­ized but break­ing changes still hap­pen. So use at your own risk!</p><h2 id="what-about-scala-213"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#what-about-scala-213"></a>What about Scala 2.13?</h2><p>Scala 2.13 has been re­leased re­cently which prompted ques­tions from the com­mu­nity about when it will be sup­ported by Vert.x.</p><p>I haven’t done a good job pro­vid­ing the re­sults of our in­ter­nal dis­cus­sions on that topic to the com­mu­nity. So here we go:</p><ul><li>Vert.x 3 will stay on 2.12 for the fol­low­ing rea­sons:<ul><li>Both are still ac­tively sup­ported</li><li>Scala ecosys­tems takes some time to do the switch to 2.13</li><li>We sim­ply don’t have the ca­pac­ity to sup­port both ver­sions <strong>AND</strong> the up­com­ing new ver­sion</li></ul></li><li>Vert.x 4 will re­ceive 2.13 sup­port<ul><li>Scala ecosys­tem will have moved closer to 2.13 adop­tion when Vert.x 4 comes out</li></ul></li></ul><h2 id="for-the-adventure-seaker"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#for-the-adventure-seaker"></a>For the adventure seaker</h2><p>I ac­tu­ally did a port of vertx-​lang-scala 3.8 to Scala 2.13 and you can grab the work in this <a href="https://github.com/vert-x3/vertx-lang-scala/tree/3.8_2.13">branch</a>.</p><p>Don’t ex­pect <strong>ANY</strong> sup­port for this branch. This was only an ex­per­i­ment to see how much I had to change for ini­tial 2.13 sup­port.</p><h2 id="summary"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#summary"></a>Summary</h2><p>Vert.x 4 will be an evo­lu­tion­ary step for vertx-​lang-scala. Value classes promise to re­duce both com­plex­ity and al­lo­ca­tion rate, two things which have been bug­ging me quite a bit with the cur­rent ap­proach.</p><p>I am eager to hear from you all what you think about this new di­rec­tion.</p></span></div><div class="blog-post-sidebar"><div class="blog-post-author"><img class="blog-post-author-avatar" src="https://github.com/codepitbull.png?size=160"/><div class="blog-post-author-name">by <a href="https://github.com/codepitbull" target="_blank" rel="noopener noreferrer">Jochen Mader</a></div></div><div class="blog-post-sidebar-date">Posted on <!-- -->30 August 2019</div>in <a class="blog-post-sidebar-category" href="/blog/category/news/">news</a><div class="blog-post-sidebar-reading-time"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <!-- -->6 min read</div><div class="blog-post-sidebar-share-icons"><a href="https://twitter.com/intent/tweet?text=Eclipse%20Vert.x%20for%20Scala%20next%20steps&amp;url=https%3A%2F%2Fokou19900722.github.com%2Fvertx-web-site.github.io%2Fblog%2Feclipse-vert-x-for-scala-next-steps&amp;via=vertx_project" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>Twitter</title><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"></path></svg></a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fokou19900722.github.com%2Fvertx-web-site.github.io%2Fblog%2Feclipse-vert-x-for-scala-next-steps" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fokou19900722.github.com%2Fvertx-web-site.github.io%2Fblog%2Feclipse-vert-x-for-scala-next-steps" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>Facebook</title><path d="M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z"></path></svg></a></div></div></div><div class="blog-post-next-prev"><div class="blog-post-next-prev-entry"><h5>Next post</h5><div class="blog-entry"><div class="blog-entry-meta"><div class="blog-entry-meta-left"><span class="blog-entry-date">19 September 2019</span>​<a class="blog-entry-category" href="/blog/category/releases/">releases</a></div><div class="blog-entry-meta-right"></div></div><h3><a href="/blog/eclipse-vert-x-4-milestone-3-released/">Eclipse Vert.x 4 milestone 3 released!</a></h3><span class="blog-entry-authors"><ul><li class=""><img src="https://github.com/vietj.png?size=50"/><a href="https://github.com/vietj" target="_blank" rel="noopener noreferrer">Julien Viet</a></li></ul></span><p class="blog-entry-summary">The next milestone release of Vert.x 4 aims to provide a reliable distribution of the current development for people who want to try it and provide feedback.</p><span class="read-more-link"><a href="/blog/eclipse-vert-x-4-milestone-3-released/">Read more</a></span></div></div><div class="blog-post-next-prev-entry"><h5>Previous post</h5><div class="blog-entry"><div class="blog-entry-meta"><div class="blog-entry-meta-left"><span class="blog-entry-date">26 August 2019</span>​<a class="blog-entry-category" href="/blog/category/releases/">releases</a></div><div class="blog-entry-meta-right"></div></div><h3><a href="/blog/eclipse-vert-x-4-milestone-2-released/">Eclipse Vert.x 4 milestone 2 released!</a></h3><span class="blog-entry-authors"><ul><li class=""><img src="https://github.com/vietj.png?size=50"/><a href="https://github.com/vietj" target="_blank" rel="noopener noreferrer">Julien Viet</a></li></ul></span><p class="blog-entry-summary">The new milestone release of Vert.x 4 includes progress on futurisation, tracing, and many other improvements.</p><span class="read-more-link"><a href="/blog/eclipse-vert-x-4-milestone-2-released/">Read more</a></span></div></div></div><div class="blog-post-related"><h5>Related posts</h5><div class="blog-post-related-posts"><div class="blog-entry"><div class="blog-entry-meta"><div class="blog-entry-meta-left"><span class="blog-entry-date">20 March 2017</span>​<a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="blog-entry-meta-right"></div></div><h3><a href="/blog/scala-is-here/">Scala is here</a></h3><span class="blog-entry-authors"><ul><li class=""><img src="https://github.com/codepitbull.png?size=50"/><a href="https://github.com/codepitbull" target="_blank" rel="noopener noreferrer">Jochen Mader</a></li></ul></span><p class="blog-entry-summary">The rise of Scala as one of the most important languages on the JVM caught many (me included) by surprise. This hybrid of functional and imperative paradigms struck a chord with many developers.</p><span class="read-more-link"><a href="/blog/scala-is-here/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><div class="blog-entry-meta-left"><span class="blog-entry-date">25 January 2017</span>​<a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="blog-entry-meta-right"></div></div><h3><a href="/blog/building-services-and-apis-with-amqp-1-0/">Building services and APIs with AMQP 1.0</a></h3><span class="blog-entry-authors"><ul><li class=""><img src="https://github.com/scholzj.png?size=50"/><a href="https://github.com/scholzj" target="_blank" rel="noopener noreferrer">Jakub Scholz</a></li></ul></span><p class="blog-entry-summary">Microservices and APIs are everywhere. Everyone talks about them, presentation slides are full of them ... some people are actually even building them.</p><span class="read-more-link"><a href="/blog/building-services-and-apis-with-amqp-1-0/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><div class="blog-entry-meta-left"><span class="blog-entry-date">27 July 2015</span>​<a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="blog-entry-meta-right"></div></div><h3><a href="/blog/some-rest-with-vert-x/">Some Rest with Vert.x</a></h3><span class="blog-entry-authors"><ul><li class=""><img src="https://github.com/cescoffier.png?size=50"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="blog-entry-summary">This post is part of the Introduction to Vert.x series. Let’s go a bit further this time and develop a CRUD-ish application</p><span class="read-more-link"><a href="/blog/some-rest-with-vert-x/">Read more</a></span></div></div></div></div></div></div><footer><div class="container"><div class="footer-nav-section"><div class="footer-nav-list footer-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="footer-nav-list"><h5>Eclipse Vert.x</h5><ul class=""><li><a class="navbar-menu-item" href="/docs/">Docs</a></li><li><a href="/download/">Download</a></li><li><a href="/faq/">FAQ</a></li><li><a href="/blog/">Blog</a></li><li><a href="/community/">Community</a></li><li><a href="/channels/">Channels</a></li></ul></div><div class="footer-nav-list"><h5>Eclipse</h5><ul class=""><li><a href="https://www.eclipse.org/">Eclipse Foundation</a></li><li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li><li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li><li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li><li><a href="https://www.eclipse.org/legal/">Legal Resources</a></li></ul></div></div><div class="footer-copyright"><div class="footer-copyright-remarks">© <!-- -->2020<!-- --> Eclipse Vert.x<br/>Eclipse Vert.x is open source and dual-licensed under the <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer">Eclipse Public License 2.0</a> and the <a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer">Apache License 2.0</a>. <br class="footer-copyright-break"/>Website design by <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer">Michel Krämer</a>.</div><div class="footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0TDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"categories":["releases","guides","news"],"post":{"meta":{"title":"Eclipse Vert.x for Scala next steps","category":"news","authors":[{"name":"Jochen Mader","github_id":"codepitbull"}],"summary":"This blog post gives an overview of the current plans for the vertx-lang-scala module, in particular with respect to the upcoming Vert.x 4."},"date":"2019-08-30","slug":"eclipse-vert-x-for-scala-next-steps","readingTime":{"text":"6 min read","minutes":5.225,"time":313500,"words":1045},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"TL;DR:\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"No Scala 2.13 in Eclipse Vert.x 3.x due to in\\xADcreased sup\\xADport bur\\xADden\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"New value classes based ap\\xADproach for Vert.x 4\")), mdx(\"h2\", {\n    \"id\": \"retrospective\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#retrospective\"\n  })), \"Retrospective\"), mdx(\"p\", null, \"It\\u2019s been more than two years since the in\\xADcep\\xADtion of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-lang-scala\"), \" to the Vert.x ecosys\\xADtem. And al\\xADmost as long since I wrote my first \", mdx(Link, {\n    href: \"/blog/scala-is-here/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"\"\n  }), \"blog post\")), \" about it.\"), mdx(\"p\", null, \"A lot has hap\\xADpened since March 2017:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"vertx-lang-scala\"), \" kept up with new ver\\xADsions of Scala\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"all Vert.x-\\u200Bmodules are sup\\xADported (35 so far)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"a Giter8 based \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-scala.g8\"\n  }), \"tem\\xADplate\"), \" was added for eas\\xADily boot\\xADstrap\\xADping a Vert.x-\\u200BScala-project\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Bugs were squashed\")), mdx(\"p\", null, \"And most re\\xADcently we re\\xADceived a great con\\xADtri\\xADbu\\xADtion by \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/NikolajLeischner\"\n  }), \"Niko\\xADlaj Leis\\xADchner\"), \" who was kind enough to port the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/TechEmpower/FrameworkBenchmarks/tree/master/frameworks/Scala/vertx-web-scala\"\n  }), \"techempow\\xADered\"), \" bench\\xADmark to vert-\\u200Blang-scala. Which will be part of the next steps.\"), mdx(\"p\", null, \"The num\\xADbers pro\\xADduced by this bench\\xADmark were very promis\\xADing and and ad\\xADdi\\xADtional mo\\xADti\\xADva\\xADtion to move to the next phase of Scala sup\\xADport for Vert.x.\"), mdx(\"h2\", {\n    \"id\": \"old-idea\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#old-idea\"\n  })), \"Old idea\"), mdx(\"p\", null, \"Be\\xADfore get\\xADting to the new ideas I want to take a look at the \\u201Cold\\u201D one.\"), mdx(\"p\", null, \"The cur\\xADrent ver\\xADsion of vert-\\u200Blang-scala is based around the idea of wrap\\xADping the Vert.x-API with a ded\\xADi\\xADcated Scala-\\u200Blayer. That layer is cre\\xADated using a Freemarker-\\u200Bbased code gen\\xADer\\xADa\\xADtor. I took this idea from the first try by Tim Fox for build\\xADing that sup\\xADport.\"), mdx(\"p\", null, \"Wrap\\xADping the ex\\xADist\\xADing Java-\\u200BAPI was rather painful but gave me great flex\\xADi\\xADbil\\xADity to cre\\xADate an id\\xADiomatic Scala-\\u200BAPI.\"), mdx(\"p\", null, \"But an ap\\xADproach like that comes with a price:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"There are a lot of in\\xADter\\xADme\\xADdi\\xADate ob\\xADjects being cre\\xADated.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Many un\\xADnec\\xADces\\xADsary con\\xADver\\xADsions be\\xADtween Java/Scala types\")), mdx(\"p\", null, \"Both in\\xADcreased mem\\xADory con\\xADsump\\xADtion and garbage col\\xADlec\\xADtion ac\\xADtiv\\xADity quite a bit and has been bug\\xADging me from the be\\xADgin\\xADning.\"), mdx(\"h2\", {\n    \"id\": \"new-idea\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#new-idea\"\n  })), \"New idea\"), mdx(\"p\", null, \"With Vert.x 4 ap\\xADproach\\xADing I was fi\\xADnally able to in\\xADvest time into the re\\xADwork I had wanted to do for quite a while.\"), mdx(\"p\", null, \"The core idea is to re\\xADplace the cur\\xADrent wrap\\xADping based ap\\xADproach with some\\xADthing more light\\xADweight but na\\xADtive to the Scala-\\u200Bworld.\"), mdx(\"p\", null, \"And that\\u2019s where \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.scala-lang.org/overviews/core/value-classes.html\"\n  }), \"value classes\"), \" come in.\"), mdx(\"p\", null, \"Value classes allow the ex\\xADten\\xADsion of ex\\xADist\\xADing classes with ad\\xADdi\\xADtional meth\\xADods. They make it easy to con\\xADtrol \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"when\"), \" meth\\xADods be\\xADcome vis\\xADi\\xADble and do that with a min\\xADi\\xADmum of over\\xADhead. To be pre\\xADcise: A wrap\\xADping class is nor\\xADmally ever only in\\xADstan\\xADti\\xADated \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"once\"), \".\"), mdx(\"p\", null, \"A good ex\\xADam\\xADple is the ad\\xADdi\\xADtion of meth\\xADods for wrap\\xADping the Vert.x ap\\xADproach of Promises with Scala-\\u200BFutures. Each method re\\xADturn\\xADing a Vert.x-\\u200BPromise needs to re\\xADceive an al\\xADter\\xADna\\xADtive ver\\xADsion which re\\xADturns a Scala-\\u200BFuture.\"), mdx(\"p\", null, \"In Vert.x 3 I achieved that by adding meth\\xADods to the wrap\\xADper and giv\\xADing them a dis\\xADtinct name. A method called \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"lis\\xADten\"), \" re\\xADturn\\xADing a Promise would re\\xADceive a com\\xADpan\\xADion called \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"lis\\xADten\\xADFu\\xADture\"), \" in the Scala layer.\"), mdx(\"p\", null, \"Let\\u2019s look at how this looks in the new ap\\xADproach:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-scala\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"package\"), \" io.vertx.scala\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"package\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"object\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"core\")), \"{\\n   \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"implicit\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"class\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"HttpServerScala\"), \"(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"val asJava: io.vertx.core.http.\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-type\"\n  }), \"HttpServer\")), \") \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"extends\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"AnyVal\"), \" \"), \"{\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"def\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"listenFuture\")), \"(port: java.lang.\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-type\"\n  }), \"Integer\"), \"): scala.concurrent.\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-type\"\n  }), \"Future\"), \"[io.vertx.core.http.\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-type\"\n  }), \"HttpServer\"), \"] = {..}\\n      ..\\n}\\n\")), mdx(\"p\", null, \"The code above does the fol\\xADlow\\xADing things:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"It cre\\xADates a pack\\xADage ob\\xADject for \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"io.vertx.scala.core\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"it adds an im\\xADplict class \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"HttpServer\\xADScala\"), \" to wrpa \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"HttpServer\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"it adds a \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"lis\\xADten\\xADFu\\xADture\"), \" method\")), mdx(\"p\", null, \"Using this method in code looks like this:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-scala\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"package\"), \" io.vertx.scala.demo\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"import\"), \" io.vertx.lang.scala.\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-type\"\n  }), \"VertxExecutionContext\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"import\"), \" io.vertx.scala.core._\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"import\"), \" scala.util.{\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-type\"\n  }), \"Failure\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-type\"\n  }), \"Success\"), \"}\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"object\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"Main\"), \" \"), \"{\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"def\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"main\")), \"(args: \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-type\"\n  }), \"Array\"), \"[\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-type\"\n  }), \"String\"), \"]): \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-type\"\n  }), \"Unit\"), \" = {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"val\"), \" vertx = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-type\"\n  }), \"Vertx\"), \".vertx()\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"implicit\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"val\"), \" ec = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-type\"\n  }), \"VertxExecutionContext\"), \"(vertx.getOrCreateContext())\\n    vertx\\n      .createHttpServer()\\n      .requestHandler(r =\u003e {\\n        r.response().end(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"bye\\\"\"), \")\\n      })\\n      .listenFuture(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"6667\"), \")\\n      .onComplete {\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"case\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-type\"\n  }), \"Success\"), \"(_) =\u003e println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Started\\\"\"), \")\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"case\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-type\"\n  }), \"Failure\"), \"(exception) =\u003e println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Failure\\\"\"), \")\\n      }\\n  }\\n}\\n\")), mdx(\"p\", null, \"Im\\xADport\\xADing the pack\\xADage ob\\xADject using \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"im\\xADport io.vertx.scala.core._\"), \" brings the ex\\xADten\\xADsion method into scope and makes them avail\\xADable on all in\\xADstances of \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"HttpServer\"), \". In the ex\\xADam\\xADple above \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"cre\\xADate\\xADHttpServer()\"), \" re\\xADturn such an in\\xADstance and we can now use the id\\xADiomatic Scala way of han\\xADdling a Fu\\xADture.\"), mdx(\"h3\", {\n    \"id\": \"even-more\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#even-more\"\n  })), \"Even more\"), mdx(\"p\", null, \"Ex\\xADtend\\xADing classes with Future-\\u200Bmethods is only one of the new things to come. On top of that the sup\\xADport for DataOb\\xADjects will be con\\xADsid\\xADer\\xADably im\\xADproved, both through ex\\xADtend\\xADing them and by pro\\xADvid\\xADing type aliases.\"), mdx(\"p\", null, \"I also switched from doing all con\\xADver\\xADsions for col\\xADlec\\xADtions au\\xADto\\xADmat\\xADi\\xADcally to hand\\xADing the con\\xADtrol back to the user. Some\\xADthing which gets even more im\\xADpor\\xADtant for Scala 2.13 and the new col\\xADlec\\xADtion API.\"), mdx(\"h3\", {\n    \"id\": \"the-downside\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#the-downside\"\n  })), \"The downside\"), mdx(\"p\", null, \"The clear down\\xADside of this ap\\xADproach is that the Java-\\u200Bmethods will stay vis\\xADi\\xADble since the java-\\u200Bclasses won\\u2019t be wrapped but ex\\xADtended. This might lead to some con\\xADfu\\xADsion but I am pretty sure the ben\\xADe\\xADfits out\\xADweight this down\\xADside.\"), mdx(\"p\", null, \"The big\\xADger change will be the re\\xADmoval of au\\xADto\\xADmatic von\\xADver\\xADsion be\\xADtween Scala types (Long/Int/String and  Col\\xADlec\\xADtions) and their Java coun\\xADter\\xADparts. I spent con\\xADsid\\xADer\\xADable time try\\xADing to tune that part in the cur\\xADrent ver\\xADsion bbut al\\xADways ended up hit\\xADting some edge\\xADcase. For now I\\u2019ve de\\xADcided to have the user pick the right time to con\\xADvert.\"), mdx(\"p\", null, \"I might still add this fea\\xADture in a later ver\\xADsion if user feed\\xADback points into that di\\xADrec\\xADtion.\"), mdx(\"h2\", {\n    \"id\": \"when-will-i-get-it\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#when-will-i-get-it\"\n  })), \"When will I get it?\"), mdx(\"p\", null, \"First for the good news: There is al\\xADready a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-lang-scala/tree/4.0\"\n  }), \"branch\"), \" with a full im\\xADple\\xADmen\\xADta\\xADtion.\"), mdx(\"p\", null, \"The bad news: It will break until Vert.x 4.0 is fi\\xADnally re\\xADleased.\"), mdx(\"p\", null, \"Vert.x 4 is in ac\\xADtive de\\xADvel\\xADop\\xADment with most APIs al\\xADready fi\\xADnal\\xADized but break\\xADing changes still hap\\xADpen. So use at your own risk!\"), mdx(\"h2\", {\n    \"id\": \"what-about-scala-213\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#what-about-scala-213\"\n  })), \"What about Scala 2.13?\"), mdx(\"p\", null, \"Scala 2.13 has been re\\xADleased re\\xADcently which prompted ques\\xADtions from the com\\xADmu\\xADnity about when it will be sup\\xADported by Vert.x.\"), mdx(\"p\", null, \"I haven\\u2019t done a good job pro\\xADvid\\xADing the re\\xADsults of our in\\xADter\\xADnal dis\\xADcus\\xADsions on that topic to the com\\xADmu\\xADnity. So here we go:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Vert.x 3 will stay on 2.12 for the fol\\xADlow\\xADing rea\\xADsons:\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Both are still ac\\xADtively sup\\xADported\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Scala ecosys\\xADtems takes some time to do the switch to 2.13\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"We sim\\xADply don\\u2019t have the ca\\xADpac\\xADity to sup\\xADport both ver\\xADsions \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"AND\"), \" the up\\xADcom\\xADing new ver\\xADsion\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Vert.x 4 will re\\xADceive 2.13 sup\\xADport\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Scala ecosys\\xADtem will have moved closer to 2.13 adop\\xADtion when Vert.x 4 comes out\")))), mdx(\"h2\", {\n    \"id\": \"for-the-adventure-seaker\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#for-the-adventure-seaker\"\n  })), \"For the adventure seaker\"), mdx(\"p\", null, \"I ac\\xADtu\\xADally did a port of vertx-\\u200Blang-scala 3.8 to Scala 2.13 and you can grab the work in this \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-lang-scala/tree/3.8_2.13\"\n  }), \"branch\"), \".\"), mdx(\"p\", null, \"Don\\u2019t ex\\xADpect \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"ANY\"), \" sup\\xADport for this branch. This was only an ex\\xADper\\xADi\\xADment to see how much I had to change for ini\\xADtial 2.13 sup\\xADport.\"), mdx(\"h2\", {\n    \"id\": \"summary\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#summary\"\n  })), \"Summary\"), mdx(\"p\", null, \"Vert.x 4 will be an evo\\xADlu\\xADtion\\xADary step for vertx-\\u200Blang-scala. Value classes promise to re\\xADduce both com\\xADplex\\xADity and al\\xADlo\\xADca\\xADtion rate, two things which have been bug\\xADging me quite a bit with the cur\\xADrent ap\\xADproach.\"), mdx(\"p\", null, \"I am eager to hear from you all what you think about this new di\\xADrec\\xADtion.\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003e\u003cstrong\u003eTL;DR:\u003c/strong\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003eNo Scala 2.13 in Eclipse Vert.x 3.x due to in­creased sup­port bur­den\u003c/li\u003e\u003cli\u003eNew value classes based ap­proach for Vert.x 4\u003c/li\u003e\u003c/ul\u003e\u003ch2 id=\"retrospective\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#retrospective\"\u003e\u003c/a\u003eRetrospective\u003c/h2\u003e\u003cp\u003eIt’s been more than two years since the in­cep­tion of \u003ccode\u003evertx-lang-scala\u003c/code\u003e to the Vert.x ecosys­tem. And al­most as long since I wrote my first \u003ca href=\"/blog/scala-is-here/\"\u003eblog post\u003c/a\u003e about it.\u003c/p\u003e\u003cp\u003eA lot has hap­pened since March 2017:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ccode\u003evertx-lang-scala\u003c/code\u003e kept up with new ver­sions of Scala\u003c/li\u003e\u003cli\u003eall Vert.x-​modules are sup­ported (35 so far)\u003c/li\u003e\u003cli\u003ea Giter8 based \u003ca href=\"https://github.com/vert-x3/vertx-scala.g8\"\u003etem­plate\u003c/a\u003e was added for eas­ily boot­strap­ping a Vert.x-​Scala-project\u003c/li\u003e\u003cli\u003eBugs were squashed\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eAnd most re­cently we re­ceived a great con­tri­bu­tion by \u003ca href=\"https://github.com/NikolajLeischner\"\u003eNiko­laj Leis­chner\u003c/a\u003e who was kind enough to port the \u003ca href=\"https://github.com/TechEmpower/FrameworkBenchmarks/tree/master/frameworks/Scala/vertx-web-scala\"\u003etechempow­ered\u003c/a\u003e bench­mark to vert-​lang-scala. Which will be part of the next steps.\u003c/p\u003e\u003cp\u003eThe num­bers pro­duced by this bench­mark were very promis­ing and and ad­di­tional mo­ti­va­tion to move to the next phase of Scala sup­port for Vert.x.\u003c/p\u003e\u003ch2 id=\"old-idea\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#old-idea\"\u003e\u003c/a\u003eOld idea\u003c/h2\u003e\u003cp\u003eBe­fore get­ting to the new ideas I want to take a look at the “old” one.\u003c/p\u003e\u003cp\u003eThe cur­rent ver­sion of vert-​lang-scala is based around the idea of wrap­ping the Vert.x-API with a ded­i­cated Scala-​layer. That layer is cre­ated using a Freemarker-​based code gen­er­a­tor. I took this idea from the first try by Tim Fox for build­ing that sup­port.\u003c/p\u003e\u003cp\u003eWrap­ping the ex­ist­ing Java-​API was rather painful but gave me great flex­i­bil­ity to cre­ate an id­iomatic Scala-​API.\u003c/p\u003e\u003cp\u003eBut an ap­proach like that comes with a price:\u003c/p\u003e\u003cul\u003e\u003cli\u003eThere are a lot of in­ter­me­di­ate ob­jects being cre­ated.\u003c/li\u003e\u003cli\u003eMany un­nec­ces­sary con­ver­sions be­tween Java/Scala types\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eBoth in­creased mem­ory con­sump­tion and garbage col­lec­tion ac­tiv­ity quite a bit and has been bug­ging me from the be­gin­ning.\u003c/p\u003e\u003ch2 id=\"new-idea\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#new-idea\"\u003e\u003c/a\u003eNew idea\u003c/h2\u003e\u003cp\u003eWith Vert.x 4 ap­proach­ing I was fi­nally able to in­vest time into the re­work I had wanted to do for quite a while.\u003c/p\u003e\u003cp\u003eThe core idea is to re­place the cur­rent wrap­ping based ap­proach with some­thing more light­weight but na­tive to the Scala-​world.\u003c/p\u003e\u003cp\u003eAnd that’s where \u003ca href=\"https://docs.scala-lang.org/overviews/core/value-classes.html\"\u003evalue classes\u003c/a\u003e come in.\u003c/p\u003e\u003cp\u003eValue classes allow the ex­ten­sion of ex­ist­ing classes with ad­di­tional meth­ods. They make it easy to con­trol \u003cstrong\u003ewhen\u003c/strong\u003e meth­ods be­come vis­i­ble and do that with a min­i­mum of over­head. To be pre­cise: A wrap­ping class is nor­mally ever only in­stan­ti­ated \u003cstrong\u003eonce\u003c/strong\u003e.\u003c/p\u003e\u003cp\u003eA good ex­am­ple is the ad­di­tion of meth­ods for wrap­ping the Vert.x ap­proach of Promises with Scala-​Futures. Each method re­turn­ing a Vert.x-​Promise needs to re­ceive an al­ter­na­tive ver­sion which re­turns a Scala-​Future.\u003c/p\u003e\u003cp\u003eIn Vert.x 3 I achieved that by adding meth­ods to the wrap­per and giv­ing them a dis­tinct name. A method called \u003cstrong\u003elis­ten\u003c/strong\u003e re­turn­ing a Promise would re­ceive a com­pan­ion called \u003cstrong\u003elis­ten­Fu­ture\u003c/strong\u003e in the Scala layer.\u003c/p\u003e\u003cp\u003eLet’s look at how this looks in the new ap­proach:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-scala\"\u003e\u003cspan class=\"hljs-keyword\"\u003epackage\u003c/span\u003e io.vertx.scala\n\u003cspan class=\"hljs-keyword\"\u003epackage\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eobject\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ecore\u003c/span\u003e\u003c/span\u003e{\n   \u003cspan class=\"hljs-keyword\"\u003eimplicit\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eHttpServerScala\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eval asJava: io.vertx.core.http.\u003cspan class=\"hljs-type\"\u003eHttpServer\u003c/span\u003e\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eAnyVal\u003c/span\u003e \u003c/span\u003e{\n      \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003elistenFuture\u003c/span\u003e\u003c/span\u003e(port: java.lang.\u003cspan class=\"hljs-type\"\u003eInteger\u003c/span\u003e): scala.concurrent.\u003cspan class=\"hljs-type\"\u003eFuture\u003c/span\u003e[io.vertx.core.http.\u003cspan class=\"hljs-type\"\u003eHttpServer\u003c/span\u003e] = {..}\n      ..\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe code above does the fol­low­ing things:\u003c/p\u003e\u003cul\u003e\u003cli\u003eIt cre­ates a pack­age ob­ject for \u003cstrong\u003eio.vertx.scala.core\u003c/strong\u003e\u003c/li\u003e\u003cli\u003eit adds an im­plict class \u003cstrong\u003eHttpServer­Scala\u003c/strong\u003e to wrpa \u003cstrong\u003eHttpServer\u003c/strong\u003e\u003c/li\u003e\u003cli\u003eit adds a \u003cstrong\u003elis­ten­Fu­ture\u003c/strong\u003e method\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eUsing this method in code looks like this:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-scala\"\u003e\u003cspan class=\"hljs-keyword\"\u003epackage\u003c/span\u003e io.vertx.scala.demo\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e io.vertx.lang.scala.\u003cspan class=\"hljs-type\"\u003eVertxExecutionContext\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e io.vertx.scala.core._\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e scala.util.{\u003cspan class=\"hljs-type\"\u003eFailure\u003c/span\u003e, \u003cspan class=\"hljs-type\"\u003eSuccess\u003c/span\u003e}\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eobject\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMain\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003emain\u003c/span\u003e\u003c/span\u003e(args: \u003cspan class=\"hljs-type\"\u003eArray\u003c/span\u003e[\u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e]): \u003cspan class=\"hljs-type\"\u003eUnit\u003c/span\u003e = {\n    \u003cspan class=\"hljs-keyword\"\u003eval\u003c/span\u003e vertx = \u003cspan class=\"hljs-type\"\u003eVertx\u003c/span\u003e.vertx()\n    \u003cspan class=\"hljs-keyword\"\u003eimplicit\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eval\u003c/span\u003e ec = \u003cspan class=\"hljs-type\"\u003eVertxExecutionContext\u003c/span\u003e(vertx.getOrCreateContext())\n    vertx\n      .createHttpServer()\n      .requestHandler(r =\u0026gt; {\n        r.response().end(\u003cspan class=\"hljs-string\"\u003e\u0026quot;bye\u0026quot;\u003c/span\u003e)\n      })\n      .listenFuture(\u003cspan class=\"hljs-number\"\u003e6667\u003c/span\u003e)\n      .onComplete {\n        \u003cspan class=\"hljs-keyword\"\u003ecase\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eSuccess\u003c/span\u003e(_) =\u0026gt; println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Started\u0026quot;\u003c/span\u003e)\n        \u003cspan class=\"hljs-keyword\"\u003ecase\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eFailure\u003c/span\u003e(exception) =\u0026gt; println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure\u0026quot;\u003c/span\u003e)\n      }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIm­port­ing the pack­age ob­ject using \u003cstrong\u003eim­port io.vertx.scala.core._\u003c/strong\u003e brings the ex­ten­sion method into scope and makes them avail­able on all in­stances of \u003cstrong\u003eHttpServer\u003c/strong\u003e. In the ex­am­ple above \u003cstrong\u003ecre­ate­HttpServer()\u003c/strong\u003e re­turn such an in­stance and we can now use the id­iomatic Scala way of han­dling a Fu­ture.\u003c/p\u003e\u003ch3 id=\"even-more\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#even-more\"\u003e\u003c/a\u003eEven more\u003c/h3\u003e\u003cp\u003eEx­tend­ing classes with Future-​methods is only one of the new things to come. On top of that the sup­port for DataOb­jects will be con­sid­er­ably im­proved, both through ex­tend­ing them and by pro­vid­ing type aliases.\u003c/p\u003e\u003cp\u003eI also switched from doing all con­ver­sions for col­lec­tions au­to­mat­i­cally to hand­ing the con­trol back to the user. Some­thing which gets even more im­por­tant for Scala 2.13 and the new col­lec­tion API.\u003c/p\u003e\u003ch3 id=\"the-downside\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#the-downside\"\u003e\u003c/a\u003eThe downside\u003c/h3\u003e\u003cp\u003eThe clear down­side of this ap­proach is that the Java-​methods will stay vis­i­ble since the java-​classes won’t be wrapped but ex­tended. This might lead to some con­fu­sion but I am pretty sure the ben­e­fits out­weight this down­side.\u003c/p\u003e\u003cp\u003eThe big­ger change will be the re­moval of au­to­matic von­ver­sion be­tween Scala types (Long/Int/String and  Col­lec­tions) and their Java coun­ter­parts. I spent con­sid­er­able time try­ing to tune that part in the cur­rent ver­sion bbut al­ways ended up hit­ting some edge­case. For now I’ve de­cided to have the user pick the right time to con­vert.\u003c/p\u003e\u003cp\u003eI might still add this fea­ture in a later ver­sion if user feed­back points into that di­rec­tion.\u003c/p\u003e\u003ch2 id=\"when-will-i-get-it\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#when-will-i-get-it\"\u003e\u003c/a\u003eWhen will I get it?\u003c/h2\u003e\u003cp\u003eFirst for the good news: There is al­ready a \u003ca href=\"https://github.com/vert-x3/vertx-lang-scala/tree/4.0\"\u003ebranch\u003c/a\u003e with a full im­ple­men­ta­tion.\u003c/p\u003e\u003cp\u003eThe bad news: It will break until Vert.x 4.0 is fi­nally re­leased.\u003c/p\u003e\u003cp\u003eVert.x 4 is in ac­tive de­vel­op­ment with most APIs al­ready fi­nal­ized but break­ing changes still hap­pen. So use at your own risk!\u003c/p\u003e\u003ch2 id=\"what-about-scala-213\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#what-about-scala-213\"\u003e\u003c/a\u003eWhat about Scala 2.13?\u003c/h2\u003e\u003cp\u003eScala 2.13 has been re­leased re­cently which prompted ques­tions from the com­mu­nity about when it will be sup­ported by Vert.x.\u003c/p\u003e\u003cp\u003eI haven’t done a good job pro­vid­ing the re­sults of our in­ter­nal dis­cus­sions on that topic to the com­mu­nity. So here we go:\u003c/p\u003e\u003cul\u003e\u003cli\u003eVert.x 3 will stay on 2.12 for the fol­low­ing rea­sons:\u003cul\u003e\u003cli\u003eBoth are still ac­tively sup­ported\u003c/li\u003e\u003cli\u003eScala ecosys­tems takes some time to do the switch to 2.13\u003c/li\u003e\u003cli\u003eWe sim­ply don’t have the ca­pac­ity to sup­port both ver­sions \u003cstrong\u003eAND\u003c/strong\u003e the up­com­ing new ver­sion\u003c/li\u003e\u003c/ul\u003e\u003c/li\u003e\u003cli\u003eVert.x 4 will re­ceive 2.13 sup­port\u003cul\u003e\u003cli\u003eScala ecosys­tem will have moved closer to 2.13 adop­tion when Vert.x 4 comes out\u003c/li\u003e\u003c/ul\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch2 id=\"for-the-adventure-seaker\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#for-the-adventure-seaker\"\u003e\u003c/a\u003eFor the adventure seaker\u003c/h2\u003e\u003cp\u003eI ac­tu­ally did a port of vertx-​lang-scala 3.8 to Scala 2.13 and you can grab the work in this \u003ca href=\"https://github.com/vert-x3/vertx-lang-scala/tree/3.8_2.13\"\u003ebranch\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eDon’t ex­pect \u003cstrong\u003eANY\u003c/strong\u003e sup­port for this branch. This was only an ex­per­i­ment to see how much I had to change for ini­tial 2.13 sup­port.\u003c/p\u003e\u003ch2 id=\"summary\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#summary\"\u003e\u003c/a\u003eSummary\u003c/h2\u003e\u003cp\u003eVert.x 4 will be an evo­lu­tion­ary step for vertx-​lang-scala. Value classes promise to re­duce both com­plex­ity and al­lo­ca­tion rate, two things which have been bug­ging me quite a bit with the cur­rent ap­proach.\u003c/p\u003e\u003cp\u003eI am eager to hear from you all what you think about this new di­rec­tion.\u003c/p\u003e","scope":{}}},"prevPost":{"meta":{"title":"Eclipse Vert.x 4 milestone 3 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"The next milestone release of Vert.x 4 aims to provide a reliable distribution of the current development for people who want to try it and provide feedback."},"date":"2019-09-19","slug":"eclipse-vert-x-4-milestone-3-released"},"nextPost":{"meta":{"title":"Eclipse Vert.x 4 milestone 2 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"The new milestone release of Vert.x 4 includes progress on futurisation, tracing, and many other improvements."},"date":"2019-08-26","slug":"eclipse-vert-x-4-milestone-2-released"},"relatedPosts":[{"meta":{"title":"Scala is here","category":"guides","authors":[{"name":"Jochen Mader","github_id":"codepitbull"}],"summary":"The rise of Scala as one of the most important languages on the JVM caught many (me included) by surprise. This hybrid of functional and imperative paradigms struck a chord with many developers."},"date":"2017-03-20","slug":"scala-is-here"},{"meta":{"title":"Building services and APIs with AMQP 1.0","category":"guides","authors":[{"name":"Jakub Scholz","github_id":"scholzj"}],"summary":"Microservices and APIs are everywhere. Everyone talks about them, presentation slides are full of them ... some people are actually even building them."},"date":"2017-01-25","slug":"building-services-and-apis-with-amqp-1-0"},{"meta":{"title":"Some Rest with Vert.x","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"This post is part of the Introduction to Vert.x series. Let’s go a bit further this time and develop a CRUD-ish application"},"date":"2015-07-27","slug":"some-rest-with-vert-x"}]},"__N_SSG":true},"page":"/blog/[[...slug]]","query":{"slug":["eclipse-vert-x-for-scala-next-steps"]},"buildId":"m3klvRkyYMk4-ivtNpK7B","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-7cde6f5ea12aaa40097b.js"></script><script src="/_next/static/chunks/main-b6e20584df76f29b6f35.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/framework.fcef98db13e2318579fb.js" async=""></script><script src="/_next/static/chunks/commons.5b8771ac6e8a338f82f1.js" async=""></script><script src="/_next/static/chunks/styles.6a5cc0a07ce13c54adf1.js" async=""></script><script src="/_next/static/chunks/pages/_app-3dbbc9c041333077c167.js" async=""></script><script src="/_next/static/chunks/5e2acbba0c73eb7c5c0e969bcd552d3808de9969.4d0eb9c3d4239c66cc89.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-e52c21bde616652a406f.js" async=""></script><script src="/_next/static/m3klvRkyYMk4-ivtNpK7B/_buildManifest.js" async=""></script><script src="/_next/static/m3klvRkyYMk4-ivtNpK7B/_ssgManifest.js" async=""></script></body></html>