<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><title>Page 10 | Blog | Eclipse Vert.x</title><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/styles.176b8cb6.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.176b8cb6.chunk.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-79fb140702e98d221643.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.4df82c4704a0136f6a4b.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.7726cd762eacbba73350.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.8577696c4e17514af975.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-8beb549608891d89d2f4.js" as="script"/><link rel="preload" href="/_next/static/chunks/4f16b6dee4e09daf8bf4ac98169064eb9dcaeaf1.72e9236f86e8a2b5e7a0.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-3cd5466df6cee536d361.js" as="script"/></head><body><div id="__next"><main class="page"><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><a class="navbar-menu-item" href="/introduction-to-vertx-and-reactive/">Intro</a><a class="navbar-menu-item" href="/docs/">Docs</a><a class="navbar-menu-item" href="/faq/">FAQ</a><a class="navbar-menu-item" href="/blog/">Blog</a><a class="navbar-menu-item" href="/community/">Community</a></div><div class="navbar-social"><div class="dropdown"><a class="dropdown-title">v4.0.0<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"><a href="/docs/"><li class="dropdown-item active"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dropdown-check-icon"><polyline points="20 6 9 17 4 12"></polyline></svg>Latest (v<!-- -->4.0.0<!-- -->)</li></a><a href="/docs/3.9.2"><li class="dropdown-item">v<!-- -->3.9.2</li></a><a href="/docs/3.9.1"><li class="dropdown-item">v<!-- -->3.9.1</li></a><a href="/docs/3.9.0"><li class="dropdown-item">v<!-- -->3.9.0</li></a></ul></div><a href="https://github.com/vert-x3/vertx-awesome" class="navbar-social-link" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M23.996 10.648l-6.153-5.644-.865.944 5.127 4.7H1.895l5.127-4.705L6.157 5 .004 10.648H0v3.72c0 1.682 1.62 3.052 3.61 3.052h3.794c1.99 0 3.61-1.37 3.61-3.051v-2.445h1.968v2.445c0 1.681 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.72z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" class="navbar-social-link" title="Stack Overflow" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>Stack Overflow</title><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" class="navbar-social-link" title="YouTube" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>YouTube</title><path d="M23.495 6.205a3.007 3.007 0 0 0-2.088-2.088c-1.87-.501-9.396-.501-9.396-.501s-7.507-.01-9.396.501A3.007 3.007 0 0 0 .527 6.205a31.247 31.247 0 0 0-.522 5.805 31.247 31.247 0 0 0 .522 5.783 3.007 3.007 0 0 0 2.088 2.088c1.868.502 9.396.502 9.396.502s7.506 0 9.396-.502a3.007 3.007 0 0 0 2.088-2.088 31.247 31.247 0 0 0 .5-5.783 31.247 31.247 0 0 0-.5-5.805zM9.609 15.601V8.408l6.264 3.602z"></path></svg></a><a href="https://gitter.im/eclipse-vertx/vertx-users" class="navbar-social-link" title="Gitter" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Gitter"><title>Gitter</title><path d="M8.501 4.001H10.5V24H8.501V4.001zm6.999 0V24h-2V4.001h2zM3.5 0h2.001v15H3.5V0zm15 4.001h2V15h-2V4.001z"></path></svg></a></div></div></div></div></header><div class="page-content"><div class="container"><div class="blog"><div class="blog-navbar"><h2>Blog</h2><ul><li><a href="/blog/">All posts</a></li><li><a href="/blog/category/releases/">releases</a></li><li><a href="/blog/category/guides/">guides</a></li><li><a href="/blog/category/news/">news</a></li></ul></div><div class="blog-entries"><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">7 March 2017</span><a class="blog-entry-category" href="/blog/category/releases/">releases</a></div><h3><a href="/blog/vert-x-3-4-0-is-released/">Vert.x 3.4.0 is released!</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/vietj.png?size=50"/><a href="https://github.com/vietj" target="_blank" rel="noopener noreferrer">Julien Viet</a></li></ul></span><p class="blog-entry-summary">Vert.x 3.4.0 has just been released with many new exciting features!</p><span class="read-more-link"><a href="/blog/vert-x-3-4-0-is-released/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">9 February 2017</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/vert-x-3-4-0-beta1-release/">Vert.x 3.4.0.Beta1 release</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/vietj.png?size=50"/><a href="https://github.com/vietj" target="_blank" rel="noopener noreferrer">Julien Viet</a></li></ul></span><p class="blog-entry-summary">We have released 3.4.0.Beta1, this release is the biggest since Vert.x 3.0.0 with plenty of great features.</p><span class="read-more-link"><a href="/blog/vert-x-3-4-0-beta1-release/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">31 January 2017</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/an-introduction-to-the-vert-x-context-object/">An Introduction to the Vert.x Context Object</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/millross.png?size=50"/><a href="https://github.com/millross" target="_blank" rel="noopener noreferrer">Jez Prime</a></li></ul></span><p class="blog-entry-summary">Under the hood, the vert.x Context class plays a critical part in maintaining the thread-safety guarantees of verticles. Most of the time, vert.x coders don&#x27;t need to make use of Context objects directly.</p><span class="read-more-link"><a href="/blog/an-introduction-to-the-vert-x-context-object/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">25 January 2017</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/building-services-and-apis-with-amqp-1-0/">Building services and APIs with AMQP 1.0</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/scholzj.png?size=50"/><a href="https://github.com/scholzj" target="_blank" rel="noopener noreferrer">Jakub Scholz</a></li></ul></span><p class="blog-entry-summary">Microservices and APIs are everywhere. Everyone talks about them, presentation slides are full of them ... some people are actually even building them.</p><span class="read-more-link"><a href="/blog/building-services-and-apis-with-amqp-1-0/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">29 December 2016</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/internet-of-things-reactive-and-asynchronous-with-vert-x/">Internet of Things - Reactive and Asynchronous with Vert.x</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/ppatierno.png?size=50"/><a href="https://github.com/ppatierno" target="_blank" rel="noopener noreferrer">Paolo Patierno</a></li></ul></span><p class="blog-entry-summary">I have to admit … before joining Red Hat I didn’t know about the Eclipse Vert.x project but it took me few days to fall in love with it!</p><span class="read-more-link"><a href="/blog/internet-of-things-reactive-and-asynchronous-with-vert-x/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">7 December 2016</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/getting-started-with-new-fabric8-vert-x-maven-plugin/">Getting started with new fabric8 Vert.x Maven Plugin</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/kameshsampath.png?size=50"/><a href="https://github.com/kameshsampath" target="_blank" rel="noopener noreferrer">Kamesh Sampath</a></li></ul></span><p class="blog-entry-summary">The all new fabric8 Vert.x Maven Plugin allows you to setup, package, run, start, stop and redeploy easily with a very little configuration resulting in a less verbose pom.xml.</p><span class="read-more-link"><a href="/blog/getting-started-with-new-fabric8-vert-x-maven-plugin/">Read more</a></span></div></div><div class="pagination"><div class="pagination-page"><a href="/blog/page/9/">«</a></div><div class="pagination-page"><a href="/blog/">1</a></div><div class="pagination-page disabled">…</div><div class="pagination-page"><a href="/blog/page/9/">9</a></div><div class="pagination-page active"><a href="/blog/page/10/">10</a></div><div class="pagination-page"><a href="/blog/page/11/">11</a></div><div class="pagination-page"><a href="/blog/page/12/">12</a></div><div class="pagination-page"><a href="/blog/page/13/">13</a></div><div class="pagination-page disabled">…</div><div class="pagination-page"><a href="/blog/page/16/">16</a></div><div class="pagination-page"><a href="/blog/page/11/">»</a></div></div></div></div></div><footer><div class="container"><div class="footer-nav-section"><div class="footer-nav-list footer-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="footer-nav-list"><h5>Eclipse Vert.x</h5><ul class=""><li><a class="navbar-menu-item" href="/docs/">Docs</a></li><li><a href="/faq/">FAQ</a></li><li><a href="/blog/">Blog</a></li><li><a href="/community/">Community</a></li></ul></div><div class="footer-nav-list"><h5>Eclipse</h5><ul class=""><li><a href="https://www.eclipse.org/">Eclipse Foundation</a></li><li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li><li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li><li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li><li><a href="https://www.eclipse.org/legal/">Legal Resources</a></li></ul></div></div><div class="footer-copyright"><div class="footer-copyright-remarks">© <!-- -->2020<!-- --> Eclipse Vert.x<br/>Eclipse Vert.x is open source and dual-licensed under the <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer">Eclipse Public License 2.0</a> and the <a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer">Apache License 2.0</a>. <br class="footer-copyright-break"/>Website design by <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer">Michel Krämer</a>.</div><div class="footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0TDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"categories":["releases","guides","news"],"page":10,"posts":[{"filename":"blog/2017-03-07-vert-x-3-4-0-is-released.mdx","date":"2017-03-07","slug":"vert-x-3-4-0-is-released","meta":{"title":"Vert.x 3.4.0 is released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"Vert.x 3.4.0 has just been released with many new exciting features!"},"readingTime":{"text":"3 min read","minutes":2.505,"time":150299.99999999997,"words":501},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Vert.x 3.4.0 has just been re\\xADleased with many new ex\\xADcit\\xADing fea\\xADtures!\"), mdx(Alert, {\n    info: true,\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"Vert.x 3.4.1 has been re\\xADleased - the links have been up\\xADdated\")), mdx(\"p\", null, \"Since the be\\xADgin\\xADning Vert.x has pro\\xADvided a poly\\xADglot run\\xADtime, this ver\\xADsion sim\\xADply adds the sup\\xADport of two major lan\\xADguages\\nof the JVM ecosys\\xADtem: Scala 2.12 and Kotlin 1.1.\"), mdx(\"p\", null, \"Some fea\\xADtures are so im\\xADpor\\xADtant that they de\\xADserve to be taken to an\\xADother level : the Vert.x Web Client fo\\xADcuses on us\\xADabil\\xADity\\nfea\\xADtures for build\\xADing web ap\\xADpli\\xADca\\xADtions. It ac\\xADtu\\xADally builds upon the multi pur\\xADpose and scal\\xADable Http Client and in\\xADher\\xADits\\nall its fea\\xADtures.\"), mdx(\"p\", null, \"Vert.x Rx\\xADJava is a very pop\\xADu\\xADlar ex\\xADten\\xADsion, 3.4 sup\\xADports the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"rx.Single\"), \" re\\xADac\\xADtive type as well as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Observable\"), \"\\n\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"re\\xADac\\xADtive pull back pres\\xADsure\"), \", com\\xADbined with Vert.x Web Client, it is a very pow\\xADer\\xADful combo.\"), mdx(\"p\", null, \"You can now get a stream for large re\\xADsult sets using JDBC client, with Rx\\xADJava your stream be\\xADcomes\\nnat\\xADu\\xADrally an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Observable\"), \".\"), mdx(\"p\", null, \"When it comes to IoT, Vert.x is a rel\\xADe\\xADvant choice thanks to its unique toolkit ap\\xADproach that com\\xADbines\\nmod\\xADu\\xADlar\\xADity and re\\xADduced foot\\xADprint, there are no doubts that the new Vert.x MQTT Server ex\\xADtends Vert.x ca\\xADpa\\xADbil\\xADi\\xADties\\nin this field!\"), mdx(\"p\", null, \"Every\\xADone knows Kafka, every\\xADone loves Kafka, the new Vert.x Kafka Client gives you every\\xADthing you need to use Kafka\\nthe Vert.x way!\"), mdx(\"p\", null, \"On the mi\\xADcroser\\xADvices side, Vert.x gRPC will give a boost to your net\\xADwork\\xADing and Vert.x Con\\xADfig fills the gap\\nin our tool\\xADbox. In ad\\xADdi\\xADtion we pro\\xADvide now a full fledged Vert.x Con\\xADsul client!\"), mdx(\"p\", null, \"Dur\\xADing this re\\xADlease cycle, we paid spe\\xADcial at\\xADten\\xADtion to se\\xADcu\\xADrity, en\\xADsur\\xADing that Vert.x-Web ses\\xADsions are safe and\\nfol\\xADlow the OWASP rec\\xADom\\xADmen\\xADda\\xADtions. Also, Vert.x web got many us\\xADabil\\xADity im\\xADprove\\xADments, with a re\\xADvised OAuth2 setup and a new \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"htdigest\"), \" au\\xADthen\\xADti\\xADca\\xADtion scheme.\"), mdx(\"p\", null, \"De\\xADvops hasn\\u2019t been for\\xADgot\\xADten with Vert.x Health Check, a key fea\\xADture in ap\\xADpli\\xADca\\xADtion mon\\xADi\\xADtor\\xADing.\"), mdx(\"p\", null, \"On top of many bug fixes, here is a list of the most im\\xADpor\\xADtant new fea\\xADtures you can find in 3.4.0:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Vert.x In\\xADfin\\xADis\\xADpan is a new clus\\xADter op\\xADtion and su\\xADper\\xADsedes the JGroups op\\xADtion\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"HTTP and Web client redi\\xADrect han\\xADdling\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Zero-\\u200Bconfig ser\\xADvice prox\\xADies gen\\xADer\\xADa\\xADtion with a \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"processor\"), \" clas\\xADsi\\xADfied jar\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"a new \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"SelfSignedCertificate\"), \" to make easy to cre\\xADate tests and demos with TLS/SSL\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Hys\\xADtrix met\\xADrics in the cir\\xADcuit breaker\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Han\\xADdle\\xADbars tem\\xADplates can now fully re\\xADsolve prop\\xADer\\xADties passed to them\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"JsonOb\\xADject POJO map\\xADping con\\xADve\\xADnience\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Http com\\xADpres\\xADsion level op\\xADtion\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Groovy sup\\xADport now uses ex\\xADten\\xADsion meth\\xADods and does not gen\\xADer\\xADate wrap\\xADpers any\\xADmore\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Drop\\xADwiz\\xADard match met\\xADrics can now have an alias\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Rx\\xADHelper method for adapt\\xADing an \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Observable\u003cT\u003e\"), \" to a \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"ReadStream\u003cT\u003e\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Rx\\xADHelper method for ad\\xADpat\\xADing a \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Handler\u003cAsyncResult\u003cT\u003e\u003e\"), \" to a \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Subscriber\u003cT\u003e\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"pro\\xADvide Alpine and Busy\\xADbox docker im\\xADages\")), mdx(\"p\", null, \"Vert.x 3.4.0 re\\xADlease notes:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/wiki/wiki/3.4.1---Release-Notes\"\n  }), \"https://github.com/vert-\\u200Bx3/wiki/wiki/3.4.1-\\u200B\\u2014Release-Notes\"))), mdx(\"p\", null, \"The event bus client using the SockJS bridge are avail\\xADable from NPM, Bower and as a We\\xADb\\xADJar:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.npmjs.com/package/vertx3-eventbus-client\"\n  }), \"https://www.npmjs.com/pack\\xADage/vertx3-\\u200Beventbus-client\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-bus-bower\"\n  }), \"https://github.com/vert-\\u200Bx3/vertx-\\u200Bbus-bower\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://www.webjars.org/\"\n  }), \"http://www.we\\xADb\\xADjars.org/\"))), mdx(\"p\", null, \"Docker im\\xADages are also avail\\xADable on the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://hub.docker.com/u/vertx/\"\n  }), \"Docker Hub\"), \". The Vert.x dis\\xADtri\\xADb\\xADu\\xADtion is also avail\\xADable from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://sdkman.io/index.html\"\n  }), \"SD\\xADKMan\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://brew.sh/\"\n  }), \"Home\\xADBrew\"), \".\"), mdx(\"p\", null, \"The ar\\xADti\\xADfacts have been de\\xADployed to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22io.vertx%22%20AND%20v%3A%223.4.1%22\"\n  }), \"Maven Cen\\xADtral\"), \" and you can get the dis\\xADtri\\xADb\\xADu\\xADtion on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://bintray.com/vertx/downloads/distribution/3.4.1/view\"\n  }), \"Bin\\xADtray\"), \".\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eVert.x 3.4.0 has just been re­leased with many new ex­cit­ing fea­tures!\u003c/p\u003e\u003cdiv class=\"alert info\"\u003e\u003cp\u003eVert.x 3.4.1 has been re­leased - the links have been up­dated\u003c/p\u003e\u003c/div\u003e\u003cp\u003eSince the be­gin­ning Vert.x has pro­vided a poly­glot run­time, this ver­sion sim­ply adds the sup­port of two major lan­guages\nof the JVM ecosys­tem: Scala 2.12 and Kotlin 1.1.\u003c/p\u003e\u003cp\u003eSome fea­tures are so im­por­tant that they de­serve to be taken to an­other level : the Vert.x Web Client fo­cuses on us­abil­ity\nfea­tures for build­ing web ap­pli­ca­tions. It ac­tu­ally builds upon the multi pur­pose and scal­able Http Client and in­her­its\nall its fea­tures.\u003c/p\u003e\u003cp\u003eVert.x Rx­Java is a very pop­u­lar ex­ten­sion, 3.4 sup­ports the \u003ccode\u003erx.Single\u003c/code\u003e re­ac­tive type as well as \u003ccode\u003eObservable\u003c/code\u003e\n\u003cem\u003ere­ac­tive pull back pres­sure\u003c/em\u003e, com­bined with Vert.x Web Client, it is a very pow­er­ful combo.\u003c/p\u003e\u003cp\u003eYou can now get a stream for large re­sult sets using JDBC client, with Rx­Java your stream be­comes\nnat­u­rally an \u003ccode\u003eObservable\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eWhen it comes to IoT, Vert.x is a rel­e­vant choice thanks to its unique toolkit ap­proach that com­bines\nmod­u­lar­ity and re­duced foot­print, there are no doubts that the new Vert.x MQTT Server ex­tends Vert.x ca­pa­bil­i­ties\nin this field!\u003c/p\u003e\u003cp\u003eEvery­one knows Kafka, every­one loves Kafka, the new Vert.x Kafka Client gives you every­thing you need to use Kafka\nthe Vert.x way!\u003c/p\u003e\u003cp\u003eOn the mi­croser­vices side, Vert.x gRPC will give a boost to your net­work­ing and Vert.x Con­fig fills the gap\nin our tool­box. In ad­di­tion we pro­vide now a full fledged Vert.x Con­sul client!\u003c/p\u003e\u003cp\u003eDur­ing this re­lease cycle, we paid spe­cial at­ten­tion to se­cu­rity, en­sur­ing that Vert.x-Web ses­sions are safe and\nfol­low the OWASP rec­om­men­da­tions. Also, Vert.x web got many us­abil­ity im­prove­ments, with a re­vised OAuth2 setup and a new \u003ccode\u003ehtdigest\u003c/code\u003e au­then­ti­ca­tion scheme.\u003c/p\u003e\u003cp\u003eDe­vops hasn’t been for­got­ten with Vert.x Health Check, a key fea­ture in ap­pli­ca­tion mon­i­tor­ing.\u003c/p\u003e\u003cp\u003eOn top of many bug fixes, here is a list of the most im­por­tant new fea­tures you can find in 3.4.0:\u003c/p\u003e\u003cul\u003e\u003cli\u003eVert.x In­fin­is­pan is a new clus­ter op­tion and su­per­sedes the JGroups op­tion\u003c/li\u003e\u003cli\u003eHTTP and Web client redi­rect han­dling\u003c/li\u003e\u003cli\u003eZero-​config ser­vice prox­ies gen­er­a­tion with a \u003ccode\u003eprocessor\u003c/code\u003e clas­si­fied jar\u003c/li\u003e\u003cli\u003ea new \u003ccode\u003eSelfSignedCertificate\u003c/code\u003e to make easy to cre­ate tests and demos with TLS/SSL\u003c/li\u003e\u003cli\u003eHys­trix met­rics in the cir­cuit breaker\u003c/li\u003e\u003cli\u003eHan­dle­bars tem­plates can now fully re­solve prop­er­ties passed to them\u003c/li\u003e\u003cli\u003eJsonOb­ject POJO map­ping con­ve­nience\u003c/li\u003e\u003cli\u003eHttp com­pres­sion level op­tion\u003c/li\u003e\u003cli\u003eGroovy sup­port now uses ex­ten­sion meth­ods and does not gen­er­ate wrap­pers any­more\u003c/li\u003e\u003cli\u003eDrop­wiz­ard match met­rics can now have an alias\u003c/li\u003e\u003cli\u003eRx­Helper method for adapt­ing an \u003ccode\u003eObservable\u0026lt;T\u0026gt;\u003c/code\u003e to a \u003ccode\u003eReadStream\u0026lt;T\u0026gt;\u003c/code\u003e\u003c/li\u003e\u003cli\u003eRx­Helper method for ad­pat­ing a \u003ccode\u003eHandler\u0026lt;AsyncResult\u0026lt;T\u0026gt;\u0026gt;\u003c/code\u003e to a \u003ccode\u003eSubscriber\u0026lt;T\u0026gt;\u003c/code\u003e\u003c/li\u003e\u003cli\u003epro­vide Alpine and Busy­box docker im­ages\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eVert.x 3.4.0 re­lease notes:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://github.com/vert-x3/wiki/wiki/3.4.1---Release-Notes\"\u003ehttps://github.com/vert-​x3/wiki/wiki/3.4.1-​—Release-Notes\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThe event bus client using the SockJS bridge are avail­able from NPM, Bower and as a We­b­Jar:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://www.npmjs.com/package/vertx3-eventbus-client\"\u003ehttps://www.npmjs.com/pack­age/vertx3-​eventbus-client\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://github.com/vert-x3/vertx-bus-bower\"\u003ehttps://github.com/vert-​x3/vertx-​bus-bower\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"http://www.webjars.org/\"\u003ehttp://www.we­b­jars.org/\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eDocker im­ages are also avail­able on the \u003ca href=\"https://hub.docker.com/u/vertx/\"\u003eDocker Hub\u003c/a\u003e. The Vert.x dis­tri­b­u­tion is also avail­able from \u003ca href=\"http://sdkman.io/index.html\"\u003eSD­KMan\u003c/a\u003e and \u003ca href=\"http://brew.sh/\"\u003eHome­Brew\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eThe ar­ti­facts have been de­ployed to \u003ca href=\"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22io.vertx%22%20AND%20v%3A%223.4.1%22\"\u003eMaven Cen­tral\u003c/a\u003e and you can get the dis­tri­b­u­tion on \u003ca href=\"https://bintray.com/vertx/downloads/distribution/3.4.1/view\"\u003eBin­tray\u003c/a\u003e.\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"client","tf":9},{"term":"new","tf":7},{"term":"http","tf":7},{"term":"featur","tf":6},{"term":"web","tf":6},{"term":"releas","tf":5},{"term":"us","tf":4},{"term":"kafka","tf":4},{"term":"provid","tf":3},{"term":"support","tf":3},{"term":"option","tf":3},{"term":"method","tf":3},{"term":"docker","tf":3},{"term":"com","tf":3},{"term":"avail","tf":3},{"term":"import","tf":2},{"term":"level","tf":2},{"term":"usabl","tf":2},{"term":"build","tf":2},{"term":"applic","tf":2},{"term":"rxjava","tf":2},{"term":"extens","tf":2},{"term":"reactiv","tf":2},{"term":"combin","tf":2},{"term":"stream","tf":2}]},{"filename":"blog/2017-02-09-vert-x-3-4-0-beta1-release.mdx","date":"2017-02-09","slug":"vert-x-3-4-0-beta1-release","meta":{"title":"Vert.x 3.4.0.Beta1 release","category":"guides","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We have released 3.4.0.Beta1, this release is the biggest since Vert.x 3.0.0 with plenty of great features."},"readingTime":{"text":"6 min read","minutes":5.605,"time":336300,"words":1121},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"We have re\\xADleased 3.4.0.Beta1, this re\\xADlease is the biggest since Vert.x 3.0.0 with plenty of great fea\\xADtures.\"), mdx(\"p\", null, \"You can use con\\xADsume it in your projects from Maven or Gra\\xADdle as usual with the ver\\xADsion \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"3.4.0.Beta1\"), \" or read\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"the \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://vertx.io/docs/3.4.0.Beta1/\"\n  }), \"doc\\xADu\\xADmen\\xADta\\xADtion pre\\xADview\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"the \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://gist.github.com/vietj/1ce63b368af127775512afbfc0ab14cc\"\n  }), \"re\\xADlease notes\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"see the \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-examples/tree/3.4.0-SNAPSHOT\"\n  }), \"ac\\xADtual ex\\xADam\\xADples\"))), mdx(\"p\", null, \"Let me out\\xADline the im\\xADpor\\xADtant changes you can al\\xADready find in this Beta1.\"), mdx(\"h2\", {\n    \"id\": \"vertx-web-client\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#vertx-web-client\"\n  })), \"Vert.x Web Client\"), mdx(\"p\", null, \"In a sim\\xADple sen\\xADtence \\u201CVert.x Web Client is to Vert.x Http\\xADClient what Vert.x Web is to HttpServer\\u201D\"), mdx(\"p\", null, \"The Web Client makes it easy to do HTTP re\\xADquest/re\\xADsponse in\\xADter\\xADac\\xADtions with a web server, and pro\\xADvides ad\\xADvanced fea\\xADtures like:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Json body en\\xADcod\\xADing / de\\xADcod\\xADing\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"re\\xADquest/re\\xADsponse pump\\xADing\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"re\\xADquest pa\\xADra\\xADme\\xADters\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"uni\\xADfied error han\\xADdling\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"form sub\\xADmis\\xADsions\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"and more!\")), mdx(\"p\", null, \"Built on top of Http\\xADClient, it nat\\xADu\\xADrally in\\xADher\\xADits its fea\\xADtures and pro\\xADvides a bet\\xADter API, let me give an overview in one ex\\xADam\\xADple:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"WebClient client = WebClient.\\nclient\\n  .get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"myserver.mycompany.com\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/some-uri\\\"\"), \")\\n  .as(BodyCodec.json(User.class))\\n  .send(ar -\u003e {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (ar.succeeded()) {\\n\\n      HttpResponse\u003cUser\u003e response = ar.result();\\n      User user = response.body();\\n\\n      System.out.println(\\\"Received response with status code\\\" + response.statusCode() + \\\" with body \\\" +\\n        user.getFirstName() + \\\" \\\" + user.getLastName());\\n    } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n      System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Something went wrong \\\"\"), \" + ar.cause().getMessage());\\n    }\\n  });\\n\")), mdx(\"h2\", {\n    \"id\": \"rxjava-singles\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#rxjava-singles\"\n  })), \"RxJava singles\"), mdx(\"p\", null, \"Rx\\xADJava is a very pop\\xADu\\xADlar Java ex\\xADten\\xADsion and in this re\\xADlease we fo\\xADcused on the API us\\xADabil\\xADity with the sup\\xADport\\nof the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Single\"), \" Rx\\xADJava type.\"), mdx(\"p\", null, \"The new meth\\xADods are pre\\xADfixed by \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"rx\"), \" and dep\\xADre\\xADcates the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Observable\"), \" suf\\xADfixed meth\\xADods.\"), mdx(\"p\", null, \"So in\\xADstead of start\\xADing a server with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"listenObservable\"), \" now you use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"rxListen\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"HttpServer server = vertx.createHttpServer();\\nSingle\u003cHttpServer\u003e single = server.rxListen(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"localhost\\\"\"), \");\\nsingle.subscribe(\\n  ok -\u003e System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Server started\\\"\"), \"),\\n  err -\u003e System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Something went wrong \\\"\"), \" + err.getMessage()));\\n\")), mdx(\"p\", null, \"One no\\xADtice\\xADable dif\\xADfer\\xADence with the pre\\xADvi\\xADous API, is that the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"listen\"), \" method is called when the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Single\"), \" is sub\\xADscribed.\"), mdx(\"p\", null, \"This is very handy when com\\xADbined with the new web client:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"Single\u003cHttpResponse\u003cBuffer\u003e\u003e single = client\\n  .get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"myserver.mycompany.com\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/some-uri\\\"\"), \")\\n  .rxSend();\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Send the request\"), \"\\nsingle.subscribe(response -\u003e System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"got response \\\"\"), \" + response.statusCode());\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Send the request again\"), \"\\nsingle.subscribe(response -\u003e System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"got response \\\"\"), \" + response.statusCode());\\n\")), mdx(\"h2\", {\n    \"id\": \"polyglot\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#polyglot\"\n  })), \"Polyglot\"), mdx(\"p\", null, \"In this beta you can try \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Vert.x for Kotlin\"), \".\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Vert.x for Kotlin\"), \" is based on the Java API and pro\\xADvides also the ex\\xADe\\xADcu\\xADtion of Kotlin Ver\\xADti\\xADcles.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-kotlin\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"import\"), \" io.vertx.core.*\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"import\"), \" io.vertx.kotlin.core.http.HttpServerOptions\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"class\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"Server\"), \" : \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-type\"\n  }), \"AbstractVerticle\")), \"() {\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"override\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"fun\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"start\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\")), \" {\\n    vertx.createHttpServer(\\n\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// We provide Kotlin extension methods, allowing to use an idiomatic Kotlin API for building these options\"), \"\\n        HttpServerOptions(\\n            port = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \",\\n            host = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"localhost\\\"\"), \"\\n        ))\\n        .requestHandler() { req -\u003e\\n          req.response().end(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Hello from Kotlin\\\"\"), \")\\n        }\\n        .listen()\\n    println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Server started on 8080\\\"\"), \")\\n  }\\n}\\n\")), mdx(\"p\", null, \"It can be di\\xADrectly ran from the com\\xADmand line:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"julien:vertx-kotlin-example julien$ vertx run Server.kt\\nServer started on 8080\\nSucceeded \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"in\"), \" deploying verticle\\n\")), mdx(\"p\", null, \"As you can see, Kotlin is using the Java API di\\xADrectly, and we thought that it might be a cool thing to do the\\nsame with Groovy sup\\xADport. So we have re\\xADcon\\xADsid\\xADered our Groovy sup\\xADport and now it uses the plain Java API,\\nwith\\xADout los\\xADing the ex\\xADist\\xADing fea\\xADtures.\"), mdx(\"p\", null, \"Thanks to Groovy ex\\xADten\\xADsion meth\\xADods, id\\xADiomatic Groovy is still sup\\xADported while ben\\xADe\\xADfit\\xADing from the full Java API!\"), mdx(\"p\", null, \"Scala sup\\xADport is also planned for 3.4.0 and will be re\\xADleased soon, watch \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/vertx_project\"\n  }), \"@vertx_project\"), \".\"), mdx(\"h2\", {\n    \"id\": \"the-microservices-story-goes-on\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#the-microservices-story-goes-on\"\n  })), \"The microservices story goes on\\u2026\"), mdx(\"p\", null, \"Our APIs have ma\\xADtured and now they have been moved out of tech pre\\xADview, of course this wasn\\u2019t enough and we now\\nhave \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Vert.x Con\\xADfig\"), \", an ex\\xADten\\xADsi\\xADble way to con\\xADfig\\xADure Vert.x ap\\xADpli\\xADca\\xADtions sup\\xADport\\xADing File, json, ENV, sys\\xADtem prop\\xADer\\xADties,\\nHTTP, \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Ku\\xADber\\xADnetes Con\\xADfigmap\"), \", \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Con\\xADsul\"), \", \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Spring Con\\xADfig Server\"), \", \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Redis\"), \", \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Git\"), \", \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Zookeeper\"), \", \\u2026 stores as well as\\nsev\\xADeral for\\xADmats: prop\\xADer\\xADties file, YAML and Hocon.\"), mdx(\"p\", null, \"Here is a small ex\\xADam\\xADple:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"ConfigStoreOptions httpStore = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" ConfigStoreOptions()\\n  .setType(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"http\\\"\"), \")\\n  .setConfig(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject()\\n    .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"host\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"localhost\\\"\"), \").put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"port\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \").put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"path\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/conf\\\"\"), \"));\\n\\nConfigStoreOptions fileStore = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" ConfigStoreOptions()\\n  .setType(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"file\\\"\"), \")\\n  .setConfig(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject().put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"path\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"my-config.json\\\"\"), \"));\\n\\nConfigStoreOptions sysPropsStore = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" ConfigStoreOptions().setType(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"sys\\\"\"), \");\\n\\nConfigRetrieverOptions options = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" ConfigRetrieverOptions()\\n  .addStore(httpStore).addStore(fileStore).addStore(sysPropsStore);\\n\\nConfigRetriever retriever = ConfigRetriever.create(vertx, options);\\n\")), mdx(\"p\", null, \"Vert.x Con\\xADfig also sup\\xADports push based no\\xADti\\xADfi\\xADca\\xADtion style:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"ConfigRetriever retriever = ConfigRetriever.create(Vertx.vertx(), options);\\nretriever.configStream()\\n  .endHandler(v -\u003e {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// retriever closed\"), \"\\n  })\\n  .exceptionHandler(t -\u003e {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// an error has been caught while retrieving the configuration\"), \"\\n  })\\n  .handler(conf -\u003e {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// the configuration\"), \"\\n  });\\n\")), mdx(\"h2\", {\n    \"id\": \"vertx-mqtt-server\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#vertx-mqtt-server\"\n  })), \"Vertx MQTT Server\"), mdx(\"p\", null, \"Vert.x MQTT Server is able to han\\xADdle con\\xADnec\\xADtions, com\\xADmu\\xADni\\xADca\\xADtion and mes\\xADsages ex\\xADchange with re\\xADmote MQTT clients.\\nIts API pro\\xADvides a bunch of events re\\xADlated to pro\\xADto\\xADcol mes\\xADsages re\\xADceived by clients and ex\\xADposes allow to send\\nmes\\xADsages to them.\"), mdx(\"p\", null, \"Here is a small ef\\xADfec\\xADtive ex\\xADam\\xADple of cre\\xADat\\xADing, the Vert.x way!\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"MqttServerOptions options = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" MqttServerOptions()\\n  .setPort(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"1883\"), \")\\n  .setHost(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"0.0.0.0\\\"\"), \");\\n\\nMqttServer server = MqttServer.create(vertx, options);\\n\\nserver.endpointHandler(endpoint -\u003e {\\n\\n  System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"connected client \\\"\"), \" + endpoint.clientIdentifier());\\n\\n  endpoint.publishHandler(message -\u003e {\\n\\n    System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Just received message on [\\\"\"), \" + message.topicName() + \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"] payload [\\\"\"), \" +\\n      message.payload() + \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"] with QoS [\\\"\"), \" +\\n      message.qosLevel() + \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"]\\\"\"), \");\\n  });\\n\\n  endpoint.accept(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"false\"), \");\\n});\\n\\nserver.listen(ar -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (ar.succeeded()) {\\n    System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"MQTT server started and listening on port \\\"\"), \" + server.actualPort());\\n  } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n    System.err.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"MQTT server error on start\\\"\"), \" + ar.cause().getMessage());\\n  }\\n});\\n\")), mdx(\"h2\", {\n    \"id\": \"vertx-sql-streaming\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#vertx-sql-streaming\"\n  })), \"Vert.x SQL streaming\"), mdx(\"p\", null, \"We now sup\\xADport stream\\xADing style for SQL queries:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"connection.queryStream(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"select * from test\\\"\"), \", stream -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (stream.succeeded()) {\\n    SQLRowStream sqlRowStream = stream.result();\\n\\n    sqlRowStream\\n      .handler(row -\u003e {\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// do something with the row...\"), \"\\n        System.out.println(row.encode());\\n      })\\n      .endHandler(v -\u003e {\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// no more data available, close the connection\"), \"\\n        connection.close(done -\u003e {\\n          \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (done.failed()) {\\n            \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"throw\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" RuntimeException(done.cause());\\n          }\\n        });\\n      });\\n  }\\n});\\n\")), mdx(\"p\", null, \"And with the Rx\\xADJava API:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-reasonml\"\n  }), \"client\\n  .rx\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-constructor\"\n  }), \"GetConnection()\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Connect to the database\"), \"\\n  .flat\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-constructor\"\n  }), \"MapObservable(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"conn\"), \" -\u003e { \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-operator\"\n  }), \"/\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-operator\"\n  }), \"/\"), \" With \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"the\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"connection\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-operator\"\n  }), \"...\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"return\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"conn\"), \".\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"rxUpdate\"), \"(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"CREATE TABLE test(col VARCHAR(20))\\\"\"), \")\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// ...create test table\"), \"\\n      .flat\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-constructor\"\n  }), \"Map(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"result\"), \" -\u003e \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"conn\"), \".\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"rxUpdate\"), \"(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO test (col) VALUES ('val1')\\\"\"), \")\"), \") \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// ...insert a row\"), \"\\n      .flat\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-constructor\"\n  }), \"Map(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"result\"), \" -\u003e \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"conn\"), \".\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"rxUpdate\"), \"(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO test (col) VALUES ('val2')\\\"\"), \")\"), \") \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// ...another one\"), \"\\n      .flat\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-constructor\"\n  }), \"Map(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"result\"), \" -\u003e \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"conn\"), \".\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"rxQueryStream\"), \"(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"SELECT * FROM test\\\"\"), \")\"), \") \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// ...get values stream\"), \"\\n      .flat\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-constructor\"\n  }), \"MapObservable(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"sqlRowStream\"), \" -\u003e {\\n        \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"return\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"sqlRowStream\"), \".\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"toObservable\"), \"()\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Transform the stream into an Observable...\"), \"\\n          .\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"do\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-constructor\"\n  }), \"OnTerminate(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"conn\"), \"::\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"close\"), \")\"), \"; \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// ...and close the connection when the stream is fully read or an error occurs\"), \"\\n      });\\n  }).subscribe(row -\u003e \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-module-access\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-module\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-identifier\"\n  }), \"System\"), \".\")), \"out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Row : \\\"\"), \" + row.encode\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-literal\"\n  }), \"()\"), \"));\\n\")), mdx(\"h2\", {\n    \"id\": \"finally\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#finally\"\n  })), \"Finally\"), mdx(\"p\", null, \"In ad\\xADdi\\xADtion to all these bril\\xADlant fea\\xADtures here is a list of more-\\u200Bthan-noticeable things you have in this Beta1:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Vert.x In\\xADfin\\xADis\\xADpan re\\xADplaces Vert.x Jgroups clus\\xADter man\\xADager\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Vert.x Con\\xADsul Client pro\\xADvides a full fledged client for Con\\xADsul\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Oauth2 pre\\xADde\\xADfined con\\xADfig\\xADu\\xADra\\xADtion with 16 set\\xADtings from \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Azure Ac\\xADtive Di\\xADrec\\xADtory\"), \", to \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Twit\\xADter\"), \" with the usual sus\\xADpects (\", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Face\\xADbook\"), \", \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"LinkedIn\"), \", \\u2026)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Http client now fol\\xADlow redi\\xADrects\")), mdx(\"p\", null, \"You can use and con\\xADsume it in your projects from Maven or Gra\\xADdle as usual with the ver\\xADsion \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"3.4.0.Beta1\"), \" or read\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"the \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://vertx.io/docs/3.4.0.Beta1/\"\n  }), \"doc\\xADu\\xADmen\\xADta\\xADtion pre\\xADview\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"the \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://gist.github.com/vietj/1ce63b368af127775512afbfc0ab14cc\"\n  }), \"re\\xADlease notes\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"see the \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-examples/tree/3.4.0-SNAPSHOT\"\n  }), \"ac\\xADtual ex\\xADam\\xADples\"))), mdx(\"p\", null, \"Last but not least, I want to per\\xADson\\xADally thank all the peo\\xADple that con\\xADtributed to this re\\xADlease, be\\xADyond the Vert.x core team, the ac\\xADtual\\nVert.x com\\xADmit\\xADters and many other peo\\xADple who have given a lot of ef\\xADfort to this up\\xADcom\\xADing 3.4.0!!!!\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eWe have re­leased 3.4.0.Beta1, this re­lease is the biggest since Vert.x 3.0.0 with plenty of great fea­tures.\u003c/p\u003e\u003cp\u003eYou can use con­sume it in your projects from Maven or Gra­dle as usual with the ver­sion \u003ccode\u003e3.4.0.Beta1\u003c/code\u003e or read\u003c/p\u003e\u003cul\u003e\u003cli\u003ethe \u003ca href=\"http://vertx.io/docs/3.4.0.Beta1/\"\u003edoc­u­men­ta­tion pre­view\u003c/a\u003e\u003c/li\u003e\u003cli\u003ethe \u003ca href=\"https://gist.github.com/vietj/1ce63b368af127775512afbfc0ab14cc\"\u003ere­lease notes\u003c/a\u003e\u003c/li\u003e\u003cli\u003esee the \u003ca href=\"https://github.com/vert-x3/vertx-examples/tree/3.4.0-SNAPSHOT\"\u003eac­tual ex­am­ples\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eLet me out­line the im­por­tant changes you can al­ready find in this Beta1.\u003c/p\u003e\u003ch2 id=\"vertx-web-client\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#vertx-web-client\"\u003e\u003c/a\u003eVert.x Web Client\u003c/h2\u003e\u003cp\u003eIn a sim­ple sen­tence “Vert.x Web Client is to Vert.x Http­Client what Vert.x Web is to HttpServer”\u003c/p\u003e\u003cp\u003eThe Web Client makes it easy to do HTTP re­quest/re­sponse in­ter­ac­tions with a web server, and pro­vides ad­vanced fea­tures like:\u003c/p\u003e\u003cul\u003e\u003cli\u003eJson body en­cod­ing / de­cod­ing\u003c/li\u003e\u003cli\u003ere­quest/re­sponse pump­ing\u003c/li\u003e\u003cli\u003ere­quest pa­ra­me­ters\u003c/li\u003e\u003cli\u003euni­fied error han­dling\u003c/li\u003e\u003cli\u003eform sub­mis­sions\u003c/li\u003e\u003cli\u003eand more!\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eBuilt on top of Http­Client, it nat­u­rally in­her­its its fea­tures and pro­vides a bet­ter API, let me give an overview in one ex­am­ple:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eWebClient client = WebClient.\nclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .as(BodyCodec.json(User.class))\n  .send(ar -\u0026gt; {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n\n      HttpResponse\u0026lt;User\u0026gt; response = ar.result();\n      User user = response.body();\n\n      System.out.println(\u0026quot;Received response with status code\u0026quot; + response.statusCode() + \u0026quot; with body \u0026quot; +\n        user.getFirstName() + \u0026quot; \u0026quot; + user.getLastName());\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n    }\n  });\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"rxjava-singles\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#rxjava-singles\"\u003e\u003c/a\u003eRxJava singles\u003c/h2\u003e\u003cp\u003eRx­Java is a very pop­u­lar Java ex­ten­sion and in this re­lease we fo­cused on the API us­abil­ity with the sup­port\nof the \u003ccode\u003eSingle\u003c/code\u003e Rx­Java type.\u003c/p\u003e\u003cp\u003eThe new meth­ods are pre­fixed by \u003ccode\u003erx\u003c/code\u003e and dep­re­cates the \u003ccode\u003eObservable\u003c/code\u003e suf­fixed meth­ods.\u003c/p\u003e\u003cp\u003eSo in­stead of start­ing a server with \u003ccode\u003elistenObservable\u003c/code\u003e now you use \u003ccode\u003erxListen\u003c/code\u003e:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eHttpServer server = vertx.createHttpServer();\nSingle\u0026lt;HttpServer\u0026gt; single = server.rxListen(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;localhost\u0026quot;\u003c/span\u003e);\nsingle.subscribe(\n  ok -\u0026gt; System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Server started\u0026quot;\u003c/span\u003e),\n  err -\u0026gt; System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eOne no­tice­able dif­fer­ence with the pre­vi­ous API, is that the \u003ccode\u003elisten\u003c/code\u003e method is called when the \u003ccode\u003eSingle\u003c/code\u003e is sub­scribed.\u003c/p\u003e\u003cp\u003eThis is very handy when com­bined with the new web client:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eSingle\u0026lt;HttpResponse\u0026lt;Buffer\u0026gt;\u0026gt; single = client\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .rxSend();\n\n\u003cspan class=\"hljs-comment\"\u003e// Send the request\u003c/span\u003e\nsingle.subscribe(response -\u0026gt; System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;got response \u0026quot;\u003c/span\u003e + response.statusCode());\n\n\u003cspan class=\"hljs-comment\"\u003e// Send the request again\u003c/span\u003e\nsingle.subscribe(response -\u0026gt; System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;got response \u0026quot;\u003c/span\u003e + response.statusCode());\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"polyglot\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#polyglot\"\u003e\u003c/a\u003ePolyglot\u003c/h2\u003e\u003cp\u003eIn this beta you can try \u003cem\u003eVert.x for Kotlin\u003c/em\u003e.\u003c/p\u003e\u003cp\u003e\u003cem\u003eVert.x for Kotlin\u003c/em\u003e is based on the Java API and pro­vides also the ex­e­cu­tion of Kotlin Ver­ti­cles.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-kotlin\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e io.vertx.core.*\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e io.vertx.kotlin.core.http.HttpServerOptions\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eServer\u003c/span\u003e : \u003cspan class=\"hljs-type\"\u003eAbstractVerticle\u003c/span\u003e\u003c/span\u003e() {\n\n  \u003cspan class=\"hljs-keyword\"\u003eoverride\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efun\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003estart\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e\u003c/span\u003e {\n    vertx.createHttpServer(\n\n        \u003cspan class=\"hljs-comment\"\u003e// We provide Kotlin extension methods, allowing to use an idiomatic Kotlin API for building these options\u003c/span\u003e\n        HttpServerOptions(\n            port = \u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e,\n            host = \u003cspan class=\"hljs-string\"\u003e\u0026quot;localhost\u0026quot;\u003c/span\u003e\n        ))\n        .requestHandler() { req -\u0026gt;\n          req.response().end(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Hello from Kotlin\u0026quot;\u003c/span\u003e)\n        }\n        .listen()\n    println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Server started on 8080\u0026quot;\u003c/span\u003e)\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIt can be di­rectly ran from the com­mand line:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ejulien:vertx-kotlin-example julien$ vertx run Server.kt\nServer started on 8080\nSucceeded \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e deploying verticle\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAs you can see, Kotlin is using the Java API di­rectly, and we thought that it might be a cool thing to do the\nsame with Groovy sup­port. So we have re­con­sid­ered our Groovy sup­port and now it uses the plain Java API,\nwith­out los­ing the ex­ist­ing fea­tures.\u003c/p\u003e\u003cp\u003eThanks to Groovy ex­ten­sion meth­ods, id­iomatic Groovy is still sup­ported while ben­e­fit­ing from the full Java API!\u003c/p\u003e\u003cp\u003eScala sup­port is also planned for 3.4.0 and will be re­leased soon, watch \u003ca href=\"https://twitter.com/vertx_project\"\u003e@vertx_project\u003c/a\u003e.\u003c/p\u003e\u003ch2 id=\"the-microservices-story-goes-on\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#the-microservices-story-goes-on\"\u003e\u003c/a\u003eThe microservices story goes on…\u003c/h2\u003e\u003cp\u003eOur APIs have ma­tured and now they have been moved out of tech pre­view, of course this wasn’t enough and we now\nhave \u003cem\u003eVert.x Con­fig\u003c/em\u003e, an ex­ten­si­ble way to con­fig­ure Vert.x ap­pli­ca­tions sup­port­ing File, json, ENV, sys­tem prop­er­ties,\nHTTP, \u003cem\u003eKu­ber­netes Con­figmap\u003c/em\u003e, \u003cem\u003eCon­sul\u003c/em\u003e, \u003cem\u003eSpring Con­fig Server\u003c/em\u003e, \u003cem\u003eRedis\u003c/em\u003e, \u003cem\u003eGit\u003c/em\u003e, \u003cem\u003eZookeeper\u003c/em\u003e, … stores as well as\nsev­eral for­mats: prop­er­ties file, YAML and Hocon.\u003c/p\u003e\u003cp\u003eHere is a small ex­am­ple:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eConfigStoreOptions httpStore = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\u0026quot;http\u0026quot;\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n    .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;host\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;localhost\u0026quot;\u003c/span\u003e).put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;port\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e).put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;path\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/conf\u0026quot;\u003c/span\u003e));\n\nConfigStoreOptions fileStore = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\u0026quot;file\u0026quot;\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;path\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;my-config.json\u0026quot;\u003c/span\u003e));\n\nConfigStoreOptions sysPropsStore = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions().setType(\u003cspan class=\"hljs-string\"\u003e\u0026quot;sys\u0026quot;\u003c/span\u003e);\n\nConfigRetrieverOptions options = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions()\n  .addStore(httpStore).addStore(fileStore).addStore(sysPropsStore);\n\nConfigRetriever retriever = ConfigRetriever.create(vertx, options);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eVert.x Con­fig also sup­ports push based no­ti­fi­ca­tion style:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eConfigRetriever retriever = ConfigRetriever.create(Vertx.vertx(), options);\nretriever.configStream()\n  .endHandler(v -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// retriever closed\u003c/span\u003e\n  })\n  .exceptionHandler(t -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// an error has been caught while retrieving the configuration\u003c/span\u003e\n  })\n  .handler(conf -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// the configuration\u003c/span\u003e\n  });\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"vertx-mqtt-server\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#vertx-mqtt-server\"\u003e\u003c/a\u003eVertx MQTT Server\u003c/h2\u003e\u003cp\u003eVert.x MQTT Server is able to han­dle con­nec­tions, com­mu­ni­ca­tion and mes­sages ex­change with re­mote MQTT clients.\nIts API pro­vides a bunch of events re­lated to pro­to­col mes­sages re­ceived by clients and ex­poses allow to send\nmes­sages to them.\u003c/p\u003e\u003cp\u003eHere is a small ef­fec­tive ex­am­ple of cre­at­ing, the Vert.x way!\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eMqttServerOptions options = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e MqttServerOptions()\n  .setPort(\u003cspan class=\"hljs-number\"\u003e1883\u003c/span\u003e)\n  .setHost(\u003cspan class=\"hljs-string\"\u003e\u0026quot;0.0.0.0\u0026quot;\u003c/span\u003e);\n\nMqttServer server = MqttServer.create(vertx, options);\n\nserver.endpointHandler(endpoint -\u0026gt; {\n\n  System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;connected client \u0026quot;\u003c/span\u003e + endpoint.clientIdentifier());\n\n  endpoint.publishHandler(message -\u0026gt; {\n\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Just received message on [\u0026quot;\u003c/span\u003e + message.topicName() + \u003cspan class=\"hljs-string\"\u003e\u0026quot;] payload [\u0026quot;\u003c/span\u003e +\n      message.payload() + \u003cspan class=\"hljs-string\"\u003e\u0026quot;] with QoS [\u0026quot;\u003c/span\u003e +\n      message.qosLevel() + \u003cspan class=\"hljs-string\"\u003e\u0026quot;]\u0026quot;\u003c/span\u003e);\n  });\n\n  endpoint.accept(\u003cspan class=\"hljs-keyword\"\u003efalse\u003c/span\u003e);\n});\n\nserver.listen(ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;MQTT server started and listening on port \u0026quot;\u003c/span\u003e + server.actualPort());\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.err.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;MQTT server error on start\u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n  }\n});\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"vertx-sql-streaming\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#vertx-sql-streaming\"\u003e\u003c/a\u003eVert.x SQL streaming\u003c/h2\u003e\u003cp\u003eWe now sup­port stream­ing style for SQL queries:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003econnection.queryStream(\u003cspan class=\"hljs-string\"\u003e\u0026quot;select * from test\u0026quot;\u003c/span\u003e, stream -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (stream.succeeded()) {\n    SQLRowStream sqlRowStream = stream.result();\n\n    sqlRowStream\n      .handler(row -\u0026gt; {\n        \u003cspan class=\"hljs-comment\"\u003e// do something with the row...\u003c/span\u003e\n        System.out.println(row.encode());\n      })\n      .endHandler(v -\u0026gt; {\n        \u003cspan class=\"hljs-comment\"\u003e// no more data available, close the connection\u003c/span\u003e\n        connection.close(done -\u0026gt; {\n          \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (done.failed()) {\n            \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e RuntimeException(done.cause());\n          }\n        });\n      });\n  }\n});\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAnd with the Rx­Java API:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-reasonml\"\u003eclient\n  .rx\u003cspan class=\"hljs-constructor\"\u003eGetConnection()\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// Connect to the database\u003c/span\u003e\n  .flat\u003cspan class=\"hljs-constructor\"\u003eMapObservable(\u003cspan class=\"hljs-params\"\u003econn\u003c/span\u003e -\u0026gt; { \u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e With \u003cspan class=\"hljs-params\"\u003ethe\u003c/span\u003e \u003cspan class=\"hljs-params\"\u003econnection\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e...\u003c/span\u003e\n    \u003cspan class=\"hljs-params\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-params\"\u003econn\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003erxUpdate\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;CREATE TABLE test(col VARCHAR(20))\u0026quot;\u003c/span\u003e)\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// ...create test table\u003c/span\u003e\n      .flat\u003cspan class=\"hljs-constructor\"\u003eMap(\u003cspan class=\"hljs-params\"\u003eresult\u003c/span\u003e -\u0026gt; \u003cspan class=\"hljs-params\"\u003econn\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003erxUpdate\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO test (col) VALUES (\u0026#x27;val1\u0026#x27;)\u0026quot;\u003c/span\u003e)\u003c/span\u003e) \u003cspan class=\"hljs-comment\"\u003e// ...insert a row\u003c/span\u003e\n      .flat\u003cspan class=\"hljs-constructor\"\u003eMap(\u003cspan class=\"hljs-params\"\u003eresult\u003c/span\u003e -\u0026gt; \u003cspan class=\"hljs-params\"\u003econn\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003erxUpdate\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO test (col) VALUES (\u0026#x27;val2\u0026#x27;)\u0026quot;\u003c/span\u003e)\u003c/span\u003e) \u003cspan class=\"hljs-comment\"\u003e// ...another one\u003c/span\u003e\n      .flat\u003cspan class=\"hljs-constructor\"\u003eMap(\u003cspan class=\"hljs-params\"\u003eresult\u003c/span\u003e -\u0026gt; \u003cspan class=\"hljs-params\"\u003econn\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003erxQueryStream\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM test\u0026quot;\u003c/span\u003e)\u003c/span\u003e) \u003cspan class=\"hljs-comment\"\u003e// ...get values stream\u003c/span\u003e\n      .flat\u003cspan class=\"hljs-constructor\"\u003eMapObservable(\u003cspan class=\"hljs-params\"\u003esqlRowStream\u003c/span\u003e -\u0026gt; {\n        \u003cspan class=\"hljs-params\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-params\"\u003esqlRowStream\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003etoObservable\u003c/span\u003e()\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// Transform the stream into an Observable...\u003c/span\u003e\n          .\u003cspan class=\"hljs-keyword\"\u003edo\u003c/span\u003e\u003cspan class=\"hljs-constructor\"\u003eOnTerminate(\u003cspan class=\"hljs-params\"\u003econn\u003c/span\u003e::\u003cspan class=\"hljs-params\"\u003eclose\u003c/span\u003e)\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// ...and close the connection when the stream is fully read or an error occurs\u003c/span\u003e\n      });\n  }).subscribe(row -\u0026gt; \u003cspan class=\"hljs-module-access\"\u003e\u003cspan class=\"hljs-module\"\u003e\u003cspan class=\"hljs-identifier\"\u003eSystem\u003c/span\u003e.\u003c/span\u003e\u003c/span\u003eout.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Row : \u0026quot;\u003c/span\u003e + row.encode\u003cspan class=\"hljs-literal\"\u003e()\u003c/span\u003e));\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"finally\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#finally\"\u003e\u003c/a\u003eFinally\u003c/h2\u003e\u003cp\u003eIn ad­di­tion to all these bril­lant fea­tures here is a list of more-​than-noticeable things you have in this Beta1:\u003c/p\u003e\u003cul\u003e\u003cli\u003eVert.x In­fin­is­pan re­places Vert.x Jgroups clus­ter man­ager\u003c/li\u003e\u003cli\u003eVert.x Con­sul Client pro­vides a full fledged client for Con­sul\u003c/li\u003e\u003cli\u003eOauth2 pre­de­fined con­fig­u­ra­tion with 16 set­tings from \u003cem\u003eAzure Ac­tive Di­rec­tory\u003c/em\u003e, to \u003cem\u003eTwit­ter\u003c/em\u003e with the usual sus­pects (\u003cem\u003eFace­book\u003c/em\u003e, \u003cem\u003eLinkedIn\u003c/em\u003e, …)\u003c/li\u003e\u003cli\u003eHttp client now fol­low redi­rects\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eYou can use and con­sume it in your projects from Maven or Gra­dle as usual with the ver­sion \u003ccode\u003e3.4.0.Beta1\u003c/code\u003e or read\u003c/p\u003e\u003cul\u003e\u003cli\u003ethe \u003ca href=\"http://vertx.io/docs/3.4.0.Beta1/\"\u003edoc­u­men­ta­tion pre­view\u003c/a\u003e\u003c/li\u003e\u003cli\u003ethe \u003ca href=\"https://gist.github.com/vietj/1ce63b368af127775512afbfc0ab14cc\"\u003ere­lease notes\u003c/a\u003e\u003c/li\u003e\u003cli\u003esee the \u003ca href=\"https://github.com/vert-x3/vertx-examples/tree/3.4.0-SNAPSHOT\"\u003eac­tual ex­am­ples\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eLast but not least, I want to per­son­ally thank all the peo­ple that con­tributed to this re­lease, be­yond the Vert.x core team, the ac­tual\nVert.x com­mit­ters and many other peo­ple who have given a lot of ef­fort to this up­com­ing 3.4.0!!!!\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"api","tf":10},{"term":"client","tf":9},{"term":"support","tf":8},{"term":"releas","tf":7},{"term":"web","tf":6},{"term":"featur","tf":5},{"term":"us","tf":5},{"term":"exampl","tf":5},{"term":"server","tf":5},{"term":"provid","tf":5},{"term":"java","tf":5},{"term":"rxjava","tf":4},{"term":"method","tf":4},{"term":"kotlin","tf":4},{"term":"groovi","tf":4},{"term":"beta1","tf":3},{"term":"usual","tf":3},{"term":"preview","tf":3},{"term":"actual","tf":3},{"term":"http","tf":3},{"term":"request","tf":3},{"term":"extens","tf":3},{"term":"config","tf":3},{"term":"consul","tf":3},{"term":"mqtt","tf":3}]},{"filename":"blog/2017-01-31-an-introduction-to-the-vert-x-context-object.mdx","date":"2017-01-31","slug":"an-introduction-to-the-vert-x-context-object","meta":{"title":"An Introduction to the Vert.x Context Object","category":"guides","authors":[{"name":"Jez Prime","github_id":"millross"}],"summary":"Under the hood, the vert.x Context class plays a critical part in maintaining the thread-safety guarantees of verticles. Most of the time, vert.x coders don't need to make use of Context objects directly."},"readingTime":{"text":"6 min read","minutes":5.915,"time":354900,"words":1183},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Under the hood, the vert.x Con\\xADtext class plays a crit\\xADi\\xADcal part in main\\xADtain\\xADing the thread-\\u200Bsafety guar\\xADan\\xADtees of ver\\xADti\\xADcles. Most of the time, vert.x coders don\\u2019t need to make use of Con\\xADtext ob\\xADjects di\\xADrectly. How\\xADever, some\\xADtimes you may need to. This ar\\xADti\\xADcle pro\\xADvides a brief in\\xADtro\\xADduc\\xADtion to the vert.x Con\\xADtext class, which cov\\xADers why it\\u2019s im\\xADpor\\xADtant, and why and when you might wish to make use of the Con\\xADtext di\\xADrectly, based on the au\\xADthor\\u2019s ex\\xADpe\\xADri\\xADence of build\\xADing a generic async li\\xADbrary which can be used with vert.x.\"), mdx(Alert, {\n    info: true,\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"This is a re-\\u200Bpublication of the fol\\xADlow\\xADing \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.millross-consultants.com/vertx_context_object.html\"\n  }), \"blog post\"))), mdx(\"h2\", {\n    \"id\": \"introduction\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#introduction\"\n  })), \"Introduction\"), mdx(\"p\", null, \"Re\\xADcently I\\u2019ve been look\\xADing at the pos\\xADsi\\xADbil\\xADity of build\\xADing an asyn\\xADchro\\xADnous ver\\xADsion of the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.pac4j.org\"\n  }), \"pac4j\"), \" li\\xADbrary, with a view to then mi\\xADgrat\\xADing the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/pac4j/vertx-pac4j\"\n  }), \"vertx-\\u200Bpac4j\"), \" im\\xADple\\xADmen\\xADta\\xADtion to use the asyn\\xADchro\\xADnous ver\\xADsion of pac4j by de\\xADfault.\"), mdx(\"p\", null, \"I\\u2019m keen (for ob\\xADvi\\xADous rea\\xADsons) that the async ver\\xADsion of pac4j is not tightly cou\\xADpled to  one par\\xADtic\\xADu\\xADlar asyn\\xADchro\\xADnous/non-\\u200Bblocking frame\\xADwork, I de\\xADcided to ex\\xADpose the API via the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\"\n  }), \"Com\\xADpletable\\xADFu\\xADture\"), \" class, using this to wrap val\\xADues which will be de\\xADter\\xADmined in the fu\\xADture. How\\xADever, I opted to use the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vertx.io\"\n  }), \"vert.x\"), \" frame\\xADwork for my asyn\\xADchro\\xADnous test\\xADing as a way of test\\xADing the API as it emerged. This in turn has led me to learn some as\\xADpects of the vert.x \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vertx.io/docs/apidocs/io/vertx/core/Context.html\"\n  }), \"Con\\xADtext\"), \" class which I didn\\u2019t re\\xADally un\\xADder\\xADstand be\\xADfore.\"), mdx(Alert, {\n    info: true,\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"The in\\xADfor\\xADma\\xADtion pre\\xADsented re\\xADlates to Vert.x ver\\xADsion 3.3.3. It is con\\xADceiv\\xADable that later ver\\xADsions of vert.x could ren\\xADder as\\xADpects of this ar\\xADti\\xADcle in\\xADcor\\xADrect.\")), mdx(\"h2\", {\n    \"id\": \"introduction-to-the-context-class\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#introduction-to-the-context-class\"\n  })), \"Introduction to the Context class\"), mdx(\"p\", null, \"When\\xADever a vert.x \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vertx.io/docs/apidocs/io/vertx/core/Handler.html\"\n  }), \"Han\\xADdler\"), \" is ex\\xADe\\xADcuted, or the start or step method of a ver\\xADti\\xADcle is called, then that ex\\xADe\\xADcu\\xADtion is as\\xADso\\xADci\\xADated with a spe\\xADcific con\\xADtext. Gen\\xADer\\xADally a con\\xADtext is an event-\\u200Bloop con\\xADtext and is there\\xADfore as\\xADso\\xADci\\xADated with an event loop thread (ex\\xADcep\\xADtions are cov\\xADered in the Fur\\xADther Read\\xADing ref\\xADer\\xADenced below). Con\\xADtexts are prop\\xADa\\xADgated. When a han\\xADdler is set by code run\\xADning on a spe\\xADcific con\\xADtext, then that han\\xADdler will also be ex\\xADe\\xADcuted on the same con\\xADtext. This means for ex\\xADam\\xADple, that if the start method of a ver\\xADti\\xADcle in\\xADstance sets a num\\xADber of event bus han\\xADdlers (as many do), then they will all run on the same con\\xADtext as the start method for that ver\\xADti\\xADcle (so all han\\xADdlers for that ver\\xADti\\xADcle in\\xADstance will share a com\\xADmon con\\xADtext). \"), mdx(\"p\", null, \"A schematic of the re\\xADla\\xADtion\\xADships be\\xADtween non-\\u200Bworker ver\\xADti\\xADcles, con\\xADtexts and event\\xADloop threads is shown in Fig\\xADure 1. \"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/images/blog/vertx3-intro-to-context-object/VertxContextRelationships.png\",\n    \"alt\": \"Vertx Context/Thread/Verticle Relationships\"\n  }))), mdx(\"p\", null, \"Note that each ver\\xADti\\xADcle ef\\xADfec\\xADtively has only one con\\xADtext for han\\xADdlers cre\\xADated by its start method, and each con\\xADtext is bound to a sin\\xADgle event-\\u200Bloop thread. A given event-\\u200Bloop thread can, how\\xADever, have mul\\xADti\\xADple con\\xADtexts bound to it. \"), mdx(\"h2\", {\n    \"id\": \"when-are-contexts-not-propagated\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#when-are-contexts-not-propagated\"\n  })), \"When are contexts not propagated?\"), mdx(\"p\", null, \"When a ver\\xADti\\xADcle\\u2019s start method is called, a new con\\xADtext is cre\\xADated. If 4 iden\\xADti\\xADcal ver\\xADti\\xADcles are de\\xADployed via the in\\xADstances pa\\xADra\\xADme\\xADter on De\\xADploy\\xADmen\\xADtOp\\xADtions, the start method of each will be on a new con\\xADtext. This is log\\xADi\\xADcal as we may not want all non-\\u200Bworker ver\\xADti\\xADcles to be bound to a sin\\xADgle event\\xADloop thread when mul\\xADti\\xADple event\\xADloop threads are avail\\xADable. \"), mdx(\"h2\", {\n    \"id\": \"threading-guarantees\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#threading-guarantees\"\n  })), \"Threading Guarantees\"), mdx(\"p\", null, \"There are cer\\xADtain con\\xADse\\xADquences of the prop\\xADa\\xADga\\xADtion of con\\xADtexts to han\\xADdlers as men\\xADtioned above. The most im\\xADpor\\xADtant one is that since all han\\xADdlers in a given event\\xADloop ver\\xADti\\xADcle run on the same con\\xADtext (the one on which its start method ran), they all run on the same event\\xADloop thread. This gives rise to the thread\\xADing guar\\xADan\\xADtee within vert.x, that as long as a given ver\\xADti\\xADcle is the only one to ever ac\\xADcess a piece of state, then that state is being ac\\xADcessed by only one thread, so no syn\\xADchro\\xADniza\\xADtion will be nec\\xADes\\xADsary. \"), mdx(\"h2\", {\n    \"id\": \"exception-handling\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#exception-handling\"\n  })), \"Exception Handling\"), mdx(\"p\", null, \"Each con\\xADtext can have its own ex\\xADcep\\xADtion han\\xADdler at\\xADtached for han\\xADdling ex\\xADcep\\xADtions which occur dur\\xADing event loop pro\\xADcess\\xADing.\"), mdx(\"h3\", {\n    \"id\": \"why-might-you-not-want-the-default-exception-handler\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#why-might-you-not-want-the-default-exception-handler\"\n  })), \"Why might you not want the default exception handler?\"), mdx(\"p\", null, \"As one ex\\xADam\\xADple, you might have some ver\\xADti\\xADcles run\\xADning whose job it is to mon\\xADi\\xADtor other ver\\xADti\\xADcles, and if some\\xADthing ap\\xADpears to go wrong with them, un\\xADde\\xADploy and restart them, a fre\\xADquent pat\\xADtern in an actor-\\u200B or microservices-\\u200B style archic\\xADtec\\xADture. So one op\\xADtion could be that when a su\\xADper\\xADvised ver\\xADti\\xADcle en\\xADcoun\\xADters an un\\xADre\\xADcov\\xADer\\xADable error, it could sim\\xADply no\\xADtify its su\\xADper\\xADvi\\xADsor that it has gone wrong via an event\\xADbus mes\\xADsage, and its su\\xADper\\xADvi\\xADsor could then un\\xADde\\xADploy and re\\xADde\\xADploy (and after a num\\xADber of fail\\xADures in rapid suc\\xADces\\xADsion pos\\xADsi\\xADbly give up hope or es\\xADca\\xADlate to its own su\\xADper\\xADvi\\xADsor.\"), mdx(\"h2\", {\n    \"id\": \"going-off-context-and-getting-back-onto-a-particular-context\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#going-off-context-and-getting-back-onto-a-particular-context\"\n  })), \"Going off-context and getting back onto a particular context\"), mdx(\"p\", null, \"There are sev\\xADeral rea\\xADsons why you might ex\\xADe\\xADcute code off-\\u200Bcontext and then want to op\\xADer\\xADate back on a vert.x con\\xADtext when com\\xADplete. I\\u2019ll out\\xADline a cou\\xADple of sce\\xADnar\\xADios below\"), mdx(\"h3\", {\n    \"id\": \"running-code-on-a-separate-thread\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#running-code-on-a-separate-thread\"\n  })), \"Running code on a separate thread\"), mdx(\"p\", null, \"Firstly you might be using an asyn\\xADchro\\xADnous dri\\xADver which is en\\xADtirely vertx-\\u200Bunaware. Its code will run on non-\\u200Beventloop threads but it\\u2019s pos\\xADsi\\xADble you may then want to use the re\\xADsults of that code to up\\xADdate in\\xADfor\\xADma\\xADtion within your ver\\xADti\\xADcle. If you don\\u2019t get back onto the cor\\xADrect con\\xADtext, you can\\u2019t make any guar\\xADan\\xADtees about thread-\\u200Bsafety, so your sub\\xADse\\xADquent pro\\xADcess\\xADing needs to be run back on the cor\\xADrect event\\xADloop thread.\"), mdx(\"h3\", {\n    \"id\": \"using-asynchronous-java-8-apis\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#using-asynchronous-java-8-apis\"\n  })), \"Using asynchronous Java 8 APIs\"), mdx(\"p\", null, \"APIs such as Com\\xADpletable\\xADFu\\xADture are context-\\u200Bunaware. In one ex\\xADam\\xADple, I cre\\xADated an al\\xADready com\\xADpleted fu\\xADture on the vert.x event loop in a test. I then at\\xADtached sub\\xADse\\xADquent pro\\xADcess\\xADing to it via then run:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@RunWith(VertxUnitRunner.class)\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"class\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"ImmediateCompletionTest\"), \" \"), \"{\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@Rule\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"final\"), \" RunTestOnContext rule = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" RunTestOnContext();\\n\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@Test\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"testImmediateCompletion\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(TestContext context)\"), \" \"), \"{\\n\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"final\"), \" Async async = context.async();\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"final\"), \" Vertx vertx = rule.vertx();\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"final\"), \" CompletableFuture\u003cInteger\u003e toComplete = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" CompletableFuture\u003c\u003e();\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// delay future completion by 500 ms\"), \"\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"final\"), \" String threadName = Thread.currentThread().getName();\\n        toComplete.complete(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"100\"), \");\\n        toComplete.thenRun(() -\u003e {\\n            assertThat(Thread.currentThread().getName(), is(threadName));\\n            async.complete();\\n        });\\n    }\\n}\\n\")), mdx(\"p\", null, \"Naively one might ex\\xADpect this to au\\xADto\\xADmat\\xADi\\xADcally run on the con\\xADtext, since it hasn\\u2019t left the event\\xADloop thread on which the fu\\xADture was com\\xADpleted, and in\\xADdeed it\\u2019s prov\\xADable that it is on the cor\\xADrect thread. How\\xADever, it will not be on the cor\\xADrect con\\xADtext. This would mean that it wouldn\\u2019t, for ex\\xADam\\xADple, in\\xADvoke any mod\\xADi\\xADfied ex\\xADcep\\xADtion han\\xADdler at\\xADtached to the con\\xADtext.\"), mdx(\"h3\", {\n    \"id\": \"getting-back-on-context\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#getting-back-on-context\"\n  })), \"Getting back on context\"), mdx(\"p\", null, \"For\\xADtu\\xADnately, once we\\u2019ve left the con\\xADtext, it\\u2019s quite straight\\xADfor\\xADward to re\\xADturn to it. Prior to de\\xADf\\xADi\\xADn\\xADi\\xADtion of the code block within then\\xADRun, we can use Vertx.cur\\xADrent\\xADCon\\xADtext() or vertx.getOr\\xADCre\\xADate\\xADCon\\xADtext() to get a han\\xADdle to the con\\xADtext on which our event\\xADloop code is run\\xADning, We can then ex\\xADe\\xADcute the code block in\\xADside a call to Con\\xADtext::runOn\\xADCon\\xADtext, sim\\xADi\\xADlar to\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"final\"), \" Context currentContext = vertx.getOrCreateContext();\\ntoComplete.thenRun(() -\u003e {\\n        currentContext.runOnContext(v -\u003e {\\n        assertThat(Thread.currentThread().getName(), is(threadName));\\n        async.complete();\\n    }\\n});\\n\")), mdx(\"p\", null, \"While get\\xADting back onto the cor\\xADrect con\\xADtext may not be crit\\xADi\\xADcal if you have re\\xADmained on the event loop thread through\\xADout, it is crit\\xADi\\xADcal if you are going to in\\xADvoke sub\\xADse\\xADquent vert.x han\\xADdlers, up\\xADdate ver\\xADti\\xADcle state or any\\xADthing sim\\xADi\\xADlar, so it\\u2019s a sen\\xADsi\\xADble gen\\xADeral ap\\xADproach.\"), mdx(\"h2\", {\n    \"id\": \"further-reading\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#further-reading\"\n  })), \"Further Reading\"), mdx(\"p\", null, \"The vert.x team them\\xADselves offer an ex\\xADcel\\xADlent blog about the Vert.x event\\xADloop, with ex\\xADcel\\xADlent ma\\xADte\\xADr\\xADial on the con\\xADtext, on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vietj/vertx-materials/blob/master/src/main/asciidoc/Demystifying_the_event_loop.adoc\"\n  }), \"Github\"), \".\"), mdx(\"h2\", {\n    \"id\": \"thanks\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#thanks\"\n  })), \"Thanks\"), mdx(\"p\", null, \"Thanks very much to the vert.x core team for their clear github pages on the event\\xADloop, and also to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/alexlehm?lang=en\"\n  }), \"Alexan\\xADder Lehmann\"), \" for his an\\xADswers to my stu\\xADpid and naive ques\\xADtions on the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://groups.google.com/forum/#!forum/vertx\"\n  }), \"Vert.x google group\"), \".\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eUnder the hood, the vert.x Con­text class plays a crit­i­cal part in main­tain­ing the thread-​safety guar­an­tees of ver­ti­cles. Most of the time, vert.x coders don’t need to make use of Con­text ob­jects di­rectly. How­ever, some­times you may need to. This ar­ti­cle pro­vides a brief in­tro­duc­tion to the vert.x Con­text class, which cov­ers why it’s im­por­tant, and why and when you might wish to make use of the Con­text di­rectly, based on the au­thor’s ex­pe­ri­ence of build­ing a generic async li­brary which can be used with vert.x.\u003c/p\u003e\u003cdiv class=\"alert info\"\u003e\u003cp\u003eThis is a re-​publication of the fol­low­ing \u003ca href=\"http://www.millross-consultants.com/vertx_context_object.html\"\u003eblog post\u003c/a\u003e\u003c/p\u003e\u003c/div\u003e\u003ch2 id=\"introduction\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#introduction\"\u003e\u003c/a\u003eIntroduction\u003c/h2\u003e\u003cp\u003eRe­cently I’ve been look­ing at the pos­si­bil­ity of build­ing an asyn­chro­nous ver­sion of the \u003ca href=\"http://www.pac4j.org\"\u003epac4j\u003c/a\u003e li­brary, with a view to then mi­grat­ing the \u003ca href=\"https://github.com/pac4j/vertx-pac4j\"\u003evertx-​pac4j\u003c/a\u003e im­ple­men­ta­tion to use the asyn­chro­nous ver­sion of pac4j by de­fault.\u003c/p\u003e\u003cp\u003eI’m keen (for ob­vi­ous rea­sons) that the async ver­sion of pac4j is not tightly cou­pled to  one par­tic­u­lar asyn­chro­nous/non-​blocking frame­work, I de­cided to ex­pose the API via the \u003ca href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\"\u003eCom­pletable­Fu­ture\u003c/a\u003e class, using this to wrap val­ues which will be de­ter­mined in the fu­ture. How­ever, I opted to use the \u003ca href=\"http://vertx.io\"\u003evert.x\u003c/a\u003e frame­work for my asyn­chro­nous test­ing as a way of test­ing the API as it emerged. This in turn has led me to learn some as­pects of the vert.x \u003ca href=\"http://vertx.io/docs/apidocs/io/vertx/core/Context.html\"\u003eCon­text\u003c/a\u003e class which I didn’t re­ally un­der­stand be­fore.\u003c/p\u003e\u003cdiv class=\"alert info\"\u003e\u003cp\u003eThe in­for­ma­tion pre­sented re­lates to Vert.x ver­sion 3.3.3. It is con­ceiv­able that later ver­sions of vert.x could ren­der as­pects of this ar­ti­cle in­cor­rect.\u003c/p\u003e\u003c/div\u003e\u003ch2 id=\"introduction-to-the-context-class\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#introduction-to-the-context-class\"\u003e\u003c/a\u003eIntroduction to the Context class\u003c/h2\u003e\u003cp\u003eWhen­ever a vert.x \u003ca href=\"http://vertx.io/docs/apidocs/io/vertx/core/Handler.html\"\u003eHan­dler\u003c/a\u003e is ex­e­cuted, or the start or step method of a ver­ti­cle is called, then that ex­e­cu­tion is as­so­ci­ated with a spe­cific con­text. Gen­er­ally a con­text is an event-​loop con­text and is there­fore as­so­ci­ated with an event loop thread (ex­cep­tions are cov­ered in the Fur­ther Read­ing ref­er­enced below). Con­texts are prop­a­gated. When a han­dler is set by code run­ning on a spe­cific con­text, then that han­dler will also be ex­e­cuted on the same con­text. This means for ex­am­ple, that if the start method of a ver­ti­cle in­stance sets a num­ber of event bus han­dlers (as many do), then they will all run on the same con­text as the start method for that ver­ti­cle (so all han­dlers for that ver­ti­cle in­stance will share a com­mon con­text). \u003c/p\u003e\u003cp\u003eA schematic of the re­la­tion­ships be­tween non-​worker ver­ti­cles, con­texts and event­loop threads is shown in Fig­ure 1. \u003c/p\u003e\u003cp\u003e\u003cimg src=\"/images/blog/vertx3-intro-to-context-object/VertxContextRelationships.png\" alt=\"Vertx Context/Thread/Verticle Relationships\"/\u003e\u003c/p\u003e\u003cp\u003eNote that each ver­ti­cle ef­fec­tively has only one con­text for han­dlers cre­ated by its start method, and each con­text is bound to a sin­gle event-​loop thread. A given event-​loop thread can, how­ever, have mul­ti­ple con­texts bound to it. \u003c/p\u003e\u003ch2 id=\"when-are-contexts-not-propagated\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#when-are-contexts-not-propagated\"\u003e\u003c/a\u003eWhen are contexts not propagated?\u003c/h2\u003e\u003cp\u003eWhen a ver­ti­cle’s start method is called, a new con­text is cre­ated. If 4 iden­ti­cal ver­ti­cles are de­ployed via the in­stances pa­ra­me­ter on De­ploy­men­tOp­tions, the start method of each will be on a new con­text. This is log­i­cal as we may not want all non-​worker ver­ti­cles to be bound to a sin­gle event­loop thread when mul­ti­ple event­loop threads are avail­able. \u003c/p\u003e\u003ch2 id=\"threading-guarantees\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#threading-guarantees\"\u003e\u003c/a\u003eThreading Guarantees\u003c/h2\u003e\u003cp\u003eThere are cer­tain con­se­quences of the prop­a­ga­tion of con­texts to han­dlers as men­tioned above. The most im­por­tant one is that since all han­dlers in a given event­loop ver­ti­cle run on the same con­text (the one on which its start method ran), they all run on the same event­loop thread. This gives rise to the thread­ing guar­an­tee within vert.x, that as long as a given ver­ti­cle is the only one to ever ac­cess a piece of state, then that state is being ac­cessed by only one thread, so no syn­chro­niza­tion will be nec­es­sary. \u003c/p\u003e\u003ch2 id=\"exception-handling\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#exception-handling\"\u003e\u003c/a\u003eException Handling\u003c/h2\u003e\u003cp\u003eEach con­text can have its own ex­cep­tion han­dler at­tached for han­dling ex­cep­tions which occur dur­ing event loop pro­cess­ing.\u003c/p\u003e\u003ch3 id=\"why-might-you-not-want-the-default-exception-handler\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#why-might-you-not-want-the-default-exception-handler\"\u003e\u003c/a\u003eWhy might you not want the default exception handler?\u003c/h3\u003e\u003cp\u003eAs one ex­am­ple, you might have some ver­ti­cles run­ning whose job it is to mon­i­tor other ver­ti­cles, and if some­thing ap­pears to go wrong with them, un­de­ploy and restart them, a fre­quent pat­tern in an actor-​ or microservices-​ style archic­tec­ture. So one op­tion could be that when a su­per­vised ver­ti­cle en­coun­ters an un­re­cov­er­able error, it could sim­ply no­tify its su­per­vi­sor that it has gone wrong via an event­bus mes­sage, and its su­per­vi­sor could then un­de­ploy and re­de­ploy (and after a num­ber of fail­ures in rapid suc­ces­sion pos­si­bly give up hope or es­ca­late to its own su­per­vi­sor.\u003c/p\u003e\u003ch2 id=\"going-off-context-and-getting-back-onto-a-particular-context\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#going-off-context-and-getting-back-onto-a-particular-context\"\u003e\u003c/a\u003eGoing off-context and getting back onto a particular context\u003c/h2\u003e\u003cp\u003eThere are sev­eral rea­sons why you might ex­e­cute code off-​context and then want to op­er­ate back on a vert.x con­text when com­plete. I’ll out­line a cou­ple of sce­nar­ios below\u003c/p\u003e\u003ch3 id=\"running-code-on-a-separate-thread\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#running-code-on-a-separate-thread\"\u003e\u003c/a\u003eRunning code on a separate thread\u003c/h3\u003e\u003cp\u003eFirstly you might be using an asyn­chro­nous dri­ver which is en­tirely vertx-​unaware. Its code will run on non-​eventloop threads but it’s pos­si­ble you may then want to use the re­sults of that code to up­date in­for­ma­tion within your ver­ti­cle. If you don’t get back onto the cor­rect con­text, you can’t make any guar­an­tees about thread-​safety, so your sub­se­quent pro­cess­ing needs to be run back on the cor­rect event­loop thread.\u003c/p\u003e\u003ch3 id=\"using-asynchronous-java-8-apis\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#using-asynchronous-java-8-apis\"\u003e\u003c/a\u003eUsing asynchronous Java 8 APIs\u003c/h3\u003e\u003cp\u003eAPIs such as Com­pletable­Fu­ture are context-​unaware. In one ex­am­ple, I cre­ated an al­ready com­pleted fu­ture on the vert.x event loop in a test. I then at­tached sub­se­quent pro­cess­ing to it via then run:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-meta\"\u003e@RunWith(VertxUnitRunner.class)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eImmediateCompletionTest\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-meta\"\u003e@Rule\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e RunTestOnContext rule = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e RunTestOnContext();\n\n    \u003cspan class=\"hljs-meta\"\u003e@Test\u003c/span\u003e\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003etestImmediateCompletion\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(TestContext context)\u003c/span\u003e \u003c/span\u003e{\n\n        \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e Async async = context.async();\n        \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e Vertx vertx = rule.vertx();\n        \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e CompletableFuture\u0026lt;Integer\u0026gt; toComplete = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e CompletableFuture\u0026lt;\u0026gt;();\n        \u003cspan class=\"hljs-comment\"\u003e// delay future completion by 500 ms\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e String threadName = Thread.currentThread().getName();\n        toComplete.complete(\u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e);\n        toComplete.thenRun(() -\u0026gt; {\n            assertThat(Thread.currentThread().getName(), is(threadName));\n            async.complete();\n        });\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNaively one might ex­pect this to au­to­mat­i­cally run on the con­text, since it hasn’t left the event­loop thread on which the fu­ture was com­pleted, and in­deed it’s prov­able that it is on the cor­rect thread. How­ever, it will not be on the cor­rect con­text. This would mean that it wouldn’t, for ex­am­ple, in­voke any mod­i­fied ex­cep­tion han­dler at­tached to the con­text.\u003c/p\u003e\u003ch3 id=\"getting-back-on-context\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#getting-back-on-context\"\u003e\u003c/a\u003eGetting back on context\u003c/h3\u003e\u003cp\u003eFor­tu­nately, once we’ve left the con­text, it’s quite straight­for­ward to re­turn to it. Prior to de­f­i­n­i­tion of the code block within then­Run, we can use Vertx.cur­rent­Con­text() or vertx.getOr­Cre­ate­Con­text() to get a han­dle to the con­text on which our event­loop code is run­ning, We can then ex­e­cute the code block in­side a call to Con­text::runOn­Con­text, sim­i­lar to\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e Context currentContext = vertx.getOrCreateContext();\ntoComplete.thenRun(() -\u0026gt; {\n        currentContext.runOnContext(v -\u0026gt; {\n        assertThat(Thread.currentThread().getName(), is(threadName));\n        async.complete();\n    }\n});\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWhile get­ting back onto the cor­rect con­text may not be crit­i­cal if you have re­mained on the event loop thread through­out, it is crit­i­cal if you are going to in­voke sub­se­quent vert.x han­dlers, up­date ver­ti­cle state or any­thing sim­i­lar, so it’s a sen­si­ble gen­eral ap­proach.\u003c/p\u003e\u003ch2 id=\"further-reading\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#further-reading\"\u003e\u003c/a\u003eFurther Reading\u003c/h2\u003e\u003cp\u003eThe vert.x team them­selves offer an ex­cel­lent blog about the Vert.x event­loop, with ex­cel­lent ma­te­r­ial on the con­text, on \u003ca href=\"https://github.com/vietj/vertx-materials/blob/master/src/main/asciidoc/Demystifying_the_event_loop.adoc\"\u003eGithub\u003c/a\u003e.\u003c/p\u003e\u003ch2 id=\"thanks\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#thanks\"\u003e\u003c/a\u003eThanks\u003c/h2\u003e\u003cp\u003eThanks very much to the vert.x core team for their clear github pages on the event­loop, and also to \u003ca href=\"https://twitter.com/alexlehm?lang=en\"\u003eAlexan­der Lehmann\u003c/a\u003e for his an­swers to my stu­pid and naive ques­tions on the \u003ca href=\"https://groups.google.com/forum/#!forum/vertx\"\u003eVert.x google group\u003c/a\u003e.\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"context","tf":39},{"term":"thread","tf":18},{"term":"verticl","tf":17},{"term":"handler","tf":12},{"term":"run","tf":11},{"term":"eventloop","tf":11},{"term":"us","tf":10},{"term":"on","tf":10},{"term":"will","tf":8},{"term":"event","tf":8},{"term":"code","tf":8},{"term":"start","tf":7},{"term":"method","tf":7},{"term":"loop","tf":7},{"term":"asynchron","tf":6},{"term":"not","tf":6},{"term":"except","tf":6},{"term":"back","tf":6},{"term":"class","tf":5},{"term":"version","tf":5},{"term":"execut","tf":5},{"term":"correct","tf":5},{"term":"guarante","tf":4},{"term":"howev","tf":4},{"term":"mai","tf":4}]},{"filename":"blog/2017-01-25-building-services-and-apis-with-amqp-1-0.mdx","date":"2017-01-25","slug":"building-services-and-apis-with-amqp-1-0","meta":{"title":"Building services and APIs with AMQP 1.0","category":"guides","authors":[{"name":"Jakub Scholz","github_id":"scholzj"}],"summary":"Microservices and APIs are everywhere. Everyone talks about them, presentation slides are full of them ... some people are actually even building them."},"readingTime":{"text":"8 min read","minutes":7.475,"time":448500,"words":1495},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Mi\\xADcroser\\xADvices and APIs are every\\xADwhere. Every\\xADone talks about them, pre\\xADsen\\xADta\\xADtion slides are full of them \\u2026 some peo\\xADple are ac\\xADtu\\xADally even build\\xADing them. Mi\\xADcroser\\xADvices and APIs are of course not com\\xADpletely new con\\xADcepts and they are a bit over-\\u200Bhyped. But in gen\\xADeral the ideas be\\xADhind them are not bad. Un\\xADfor\\xADtu\\xADnately, many peo\\xADple seem to be\\xADlieve that the only way how to im\\xADple\\xADment an API in mi\\xADcroser\\xADvice is to use HTTP and REST. That is of course not true. Mi\\xADcroser\\xADvices and APIs can be based on many dif\\xADfer\\xADent pro\\xADto\\xADcols and tech\\xADnolo\\xADgies. My fa\\xADvorite one is of course \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.amqp.org\"\n  }), \"AMQP\"), \". Don\\u2019t take me wrong, HTTP and REST is not nec\\xADes\\xADsar\\xADily bad. But in some cases AMQP is sim\\xADply bet\\xADter and cre\\xADat\\xADing AMQP based APIs does not need to be com\\xADpli\\xADcated.\"), mdx(Alert, {\n    info: true,\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"This is a re-\\u200Bpublication of the fol\\xADlow\\xADing \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://blog.effectivemessaging.com/2017/01/building-services-and-apis-with-amqp-10.html\"\n  }), \"blog post\"))), mdx(\"h2\", {\n    \"id\": \"livescore-service\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#livescore-service\"\n  })), \"LiveScore service\"), mdx(\"p\", null, \"For demon\\xADstra\\xADtion, I will use a very sim\\xADple ser\\xADvice for keep\\xADing scores of foot\\xADball games. It has very basic API. It has only three calls:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Add a new game\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Up\\xADdate a score of ex\\xADist\\xADing game\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"List the scores\\nThe AMQP vari\\xADants will be ad\\xADdi\\xADtion\\xADally able to push live up\\xADdates to the clients.\")), mdx(\"p\", null, \"The demo is using Java and Vert.x toolkit. \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vertx.io/\"\n  }), \"Vert.x\"), \" is cool and I def\\xADi\\xADnitely rec\\xADom\\xADmend it to every\\xADone. But most of the stuff from the demo should be pos\\xADsi\\xADble also in any other pro\\xADgram\\xADming lan\\xADguages and/or frame\\xADwork.\"), mdx(\"h2\", {\n    \"id\": \"http-api\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#http-api\"\n  })), \"HTTP API\"), mdx(\"p\", null, \"HTTP im\\xADple\\xADmen\\xADta\\xADtion of my ser\\xADvice is a typ\\xADi\\xADcal REST API. Since it is very sim\\xADple, it ac\\xADcepts re\\xADquests only on one end\\xADpoint \\u2013 /api/v1.0/scores. New games are added as POST op\\xADer\\xADa\\xADtions, scores are up\\xADdated with PUT op\\xADer\\xADa\\xADtions and list of all scores can be ob\\xADtained with GET.\"), mdx(\"p\", null, \"With Vert.x, cre\\xADat\\xADing HTTP/REST API is very easy. First the web router has to be cre\\xADated with all planned API calls:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"router = Router.router(vertx);  \\nrouter.route(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/api/v1.0/*\\\"\"), \").handler(BodyHandler.create());  \\nrouter.get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/api/v1.0/scores\\\"\"), \").handler(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"this\"), \"::getScores);  \\nrouter.post(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/api/v1.0/scores\\\"\"), \").handler(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"this\"), \"::addGame);  \\nrouter.put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/api/v1.0/scores\\\"\"), \").handler(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"this\"), \"::setScore);  \\n\")), mdx(\"p\", null, \"Then the HTTP server has to be cre\\xADated and linked with the router:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"HttpServerOptions httpOptions = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" HttpServerOptions();  \\nserver = vertx.createHttpServer(httpOptions)  \\n   .requestHandler(router::accept)  \\n   .listen(httpPort);  \\n\")), mdx(\"p\", null, \"And fi\\xADnally the han\\xADdlers which will be trig\\xADgered for each API call have to be im\\xADple\\xADmented as well. The full code is on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/scholzj/livescore-demo-vertx-http\"\n  }), \"GitHub\"), \".\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/images/blog/services-and-apis-with-amqp/HTTP-API.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"The HTTP API doesn\\u2019t pro\\xADvide any way how to au\\xADto\\xADmat\\xADi\\xADcally push the score up\\xADdates to the clients. The clients sim\\xADply have to poll the ser\\xADvice pe\\xADri\\xADod\\xADi\\xADcally to get the up\\xADdates. HTTP has of course some ways how to push live up\\xADdates to clients. For ex\\xADam\\xADple, with Web\\xADSock\\xADets or with chun\\xADked trans\\xADfers. How\\xADever, these are not that easy to im\\xADple\\xADment. The ser\\xADvice would also need to keep sep\\xADa\\xADrate con\\xADnec\\xADtion with every client and push the up\\xADdates for each of them sep\\xADa\\xADrately.\"), mdx(\"h2\", {\n    \"id\": \"amqp-api\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#amqp-api\"\n  })), \"AMQP API\"), mdx(\"p\", null, \"Cre\\xADat\\xADing the HTTP API was re\\xADally easy. Cre\\xADat\\xADing an AMQP API has to be more com\\xADpli\\xADcated, right? We would need an AMQP server, which will lis\\xADten on some port, ac\\xADcept the con\\xADnec\\xADtions, ses\\xADsions, links and so on. There are usu\\xADally no nice and sim\\xADple to use li\\xADbraries for this.\"), mdx(\"p\", null, \"Sure, this is one way how to do it. There is ac\\xADtu\\xADally a nice li\\xADbrary called \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://qpid.apache.org/proton/index.html\"\n  }), \"Apache Qpid Pro\\xADton\"), \". It has Java and C ver\\xADsions and bind\\xADings into many other lan\\xADguages (Go, C++, Python, \\u2026). It makes cre\\xADat\\xADing your own AMQP server lot eas\\xADier. It will take care of de\\xADcod\\xADing and en\\xADcod\\xADing the AMQP pro\\xADto\\xADcol, han\\xADdling the con\\xADnec\\xADtions, ses\\xADsions etc. But still, Qpid Pro\\xADton is not even nearly as easy to use as the HTTP router used for the HTTP API.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/images/blog/services-and-apis-with-amqp/AMQP-Server-API.png\",\n    \"alt\": \"API with AMQP server\"\n  }))), mdx(\"p\", null, \"Are there any eas\\xADier op\\xADtions? What if all what is needed to cre\\xADate AMQP based API is a sim\\xADple AMQP client? Nor\\xADmally, that should not be a pos\\xADsi\\xADble be\\xADcause we need the API to lis\\xADten on some port for the clients to con\\xADnect to it and send re\\xADquests. And clients usu\\xADally don\\u2019t lis\\xADten on any ports. How\\xADever, Apache Qpid has some\\xADthing called \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://qpid.apache.org/components/dispatch-router/index.html\"\n  }), \"Dis\\xADpatch\"), \". It works as a light\\xADweight AMQP router. Dis\\xADpatch will serve as the AMQP server which was miss\\xADing. It will take care of han\\xADdling client con\\xADnec\\xADtions, se\\xADcu\\xADrity and shield the ser\\xADvice from the ac\\xADtual clients. All the ser\\xADvice needs to do is to use AMQP client to con\\xADnect to Dis\\xADpatch on pre\\xADde\\xADfined ad\\xADdress and wait for the re\\xADquest.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/images/blog/services-and-apis-with-amqp/AMQP-API.png\",\n    \"alt\": \"AMQP API with Dispatch router\"\n  }))), mdx(\"p\", null, \"Dis\\xADpatch needs to be con\\xADfig\\xADured with three API entry points as ad\\xADdresses:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-text\"\n  }), \"address {  \\n    prefix: /setScore  \\n    distribution: balanced  \\n}  \\naddress {  \\n    prefix: /getScore  \\n    distribution: balanced  \\n}  \\naddress {  \\n    prefix: /addGame  \\n    distribution: balanced  \\n}  \\n\")), mdx(\"p\", null, \"LiveScore ser\\xADvice will con\\xADnect to these ad\\xADdresses as a re\\xADceiver / con\\xADsumer. Clients will con\\xADnect to them as senders  /pro\\xADduc\\xADers. And Dis\\xADpatch will take care of rout\\xADing the mes\\xADsages be\\xADtween the clients and the ser\\xADvice. Clients can also cre\\xADate ad\\xADdi\\xADtional re\\xADceivers so that the ser\\xADvice is able to re\\xADspond to their re\\xADquests and spec\\xADify the ad\\xADdress of the re\\xADceiver as the reply-\\u200Bto header in the re\\xADquest mes\\xADsage. LiveScore ser\\xADvice will au\\xADto\\xADmat\\xADi\\xADcally send the re\\xADsponse to this ad\\xADdress. But spec\\xADi\\xADfy\\xADing a reply-\\u200Bto is not manda\\xADtory. If the client wants, it can sim\\xADply fire the re\\xADquest and for\\xADget about the re\\xADsponse.\"), mdx(\"p\", null, \"LiveScore ser\\xADvice is using Vert.x AMQP Bridge which al\\xADlows easy in\\xADte\\xADgra\\xADtion be\\xADtween the Vert.x Event Bus and the AMQP con\\xADnec\\xADtion to my router. The ser\\xADvice starts the AMQP Bridge and if it suc\\xADcess\\xADfully con\\xADnects to Dis\\xADpatch it cre\\xADates three re\\xADceivers for the API calls.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"AmqpBridgeOptions options = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" AmqpBridgeOptions().addEnabledSaslMechanism(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"ANONYMOUS\\\"\"), \");  \\nbridge = AmqpBridge.create(vertx, options);  \\nbridge.start(amqpHostname, amqpPort, res -\u003e {  \\n   \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (res.succeeded())  \\n   {  \\n     bridge.createConsumer(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/setScore\\\"\"), \").setMaxBufferedMessages(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"100\"), \").handler(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"this\"), \"::setScore);  \\n     bridge.createConsumer(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/getScores\\\"\"), \").setMaxBufferedMessages(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"100\"), \").handler(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"this\"), \"::getScores);  \\n     bridge.createConsumer(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/addGame\\\"\"), \").setMaxBufferedMessages(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"100\"), \").handler(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"this\"), \"::addGame);  \\n     fut.complete();  \\n   }  \\n   \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \"  \\n   {  \\n     fut.fail(res.cause());  \\n   }  \\n});  \\n\")), mdx(\"p\", null, \"The only other thing which needs to be done is cre\\xADat\\xADing han\\xADdlers for han\\xADdling the re\\xADquests re\\xADceived from clients:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"getScores\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(Message\u003cObject\u003e msg)\"), \"  \\n\"), \"{  \\n   \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \"(msg.replyAddress() != \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"null\"), \")  \\n   {  \\n     JsonObject response = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject();  \\n     response.put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"application_properties\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject().put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"status\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"200\"), \"));  \\n     response.put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"body\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonArray(Json.encode(scoreService.getScores())).encode());  \\n     msg.reply(response);  \\n   }  \\n   \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \"  \\n   {  \\n     LOG.warn(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Received LiveScore/getScores request without reply to address\\\"\"), \");  \\n   }  \\n}  \\n\")), mdx(\"p\", null, \"Live broad\\xADcast\\xADing of score up\\xADdates is also very easy. New ad\\xADdress has to be added into Dis\\xADpatch con\\xADfig\\xADu\\xADra\\xADtion. This ad\\xADdress will be used in op\\xADpo\\xADsite di\\xADrec\\xADtion. the ser\\xADvice con\\xADnects to it as sender / pro\\xADducer and clients which want to re\\xADceive the live up\\xADdates cre\\xADate a re\\xADceiver against this ad\\xADdress. What is im\\xADpor\\xADtant, this ad\\xADdress has to be marked as mul\\xADti\\xADcast. Thanks to that every sin\\xADgle mes\\xADsage will be de\\xADliv\\xADered to all con\\xADnected clients and not just to one of them:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-text\"\n  }), \"address {  \\n    prefix: /liveScores  \\n    distribution: multicast  \\n}  \\n\")), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/images/blog/services-and-apis-with-amqp/AMQP-API-multicast.png\",\n    \"alt\": \"Multicasting messages\"\n  }))), mdx(\"p\", null, \"Thanks to the mul\\xADti\\xADcast dis\\xADtri\\xADb\\xADu\\xADtion, the ser\\xADvice doesn\\u2019t need to send a sep\\xADa\\xADrate up\\xADdate to every sin\\xADgle client. It sends the mes\\xADsage only once and dis\\xADpatch takes care of the rest.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"broadcastUpdates\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(Game game)\"), \"  \\n\"), \"{  \\n   LOG.info(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Broadcasting game update \\\"\"), \" + game);  \\n   JsonObject message = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject();  \\n   message.put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"body\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject(Json.encode(game)).encode());  \\n   producer.send(message);  \\n} \\n\")), mdx(\"p\", null, \"Again, the com\\xADplete source codes of the demo ser\\xADvice are avail\\xADable on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/scholzj/livescore-demo-vertx-amqp-bridge\"\n  }), \"GitHub\"), \".\"), mdx(\"h2\", {\n    \"id\": \"how-to-structure-amqp-apis\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#how-to-structure-amqp-apis\"\n  })), \"How to structure AMQP APIs?\"), mdx(\"p\", null, \"Com\\xADpared to HTTP and REST, AMQP gives its users a lot more free\\xADdom when de\\xADsign\\xADing the API. It isn\\u2019t tied up by the avail\\xADable HTTP meth\\xADods.\"), mdx(\"p\", null, \"My LiveScore ser\\xADvice is using the API end\\xADpoints named ac\\xADcord\\xADing to their func\\xADtion:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"/LiveScore/ad\\xADdGame\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"/LiveScore/setScore\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"/LiveScore/getScores\\nIt also uses HTTP sta\\xADtus codes in ap\\xADpli\\xADca\\xADtion prop\\xADer\\xADties of the dif\\xADfer\\xADent mes\\xADsages to de\\xADscribe the re\\xADsult of the re\\xADquest and JSON as the mes\\xADsage pay\\xADload with the ac\\xADtual re\\xADquest and re\\xADsponse.\")), mdx(\"p\", null, \"Is that the best way? To be hon\\xADest, I don\\u2019t know. Just for the re\\xADquest en\\xADcod\\xADing there are many dif\\xADfer\\xADent op\\xADtions. AMQP has its own en\\xADcod\\xADings which sup\\xADports all pos\\xADsi\\xADble basic as well as more ad\\xADvanced data types and struc\\xADtures. But AMQP can also trans\\xADfer any opaque data - be it JSON, XML, Google Pro\\xADto\\xADcol Buffers or any\\xADthing else. For sim\\xADple re\\xADquest, the pay\\xADload can be com\\xADpletely skipped and ap\\xADpli\\xADca\\xADtion prop\\xADer\\xADties can be used in\\xADstead. And for every\\xADone who re\\xADally loves HTTP/REST, one can also model the API in REST style as I did in an \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/scholzj/livescore-demo-vertx-amqp-bridge-rest-style\"\n  }), \"al\\xADter\\xADna\\xADtive im\\xADple\\xADmen\\xADta\\xADtion\"), \" of my demo ser\\xADvice.\"), mdx(\"h2\", {\n    \"id\": \"browser\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#browser\"\n  })), \"Browser\"), mdx(\"p\", null, \"One of the en\\xADvi\\xADron\\xADments where HTTP is so to say \\u201Cat home\\u201D is browser. AMQP will prob\\xADa\\xADbly never be as \\u201Cna\\xADtive\\u201D pro\\xADto\\xADcol for any browser as HTTP is. How\\xADever AMQP can be used even from browsers. It has Web\\xADSocket bind\\xADing and there are Javascript AMQP li\\xADbraries - for ex\\xADam\\xADple rhea. So AMQP can be also used re\\xADally every\\xADwhere.\"), mdx(\"h2\", {\n    \"id\": \"decoupling\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#decoupling\"\n  })), \"Decoupling\"), mdx(\"p\", null, \"It is im\\xADpor\\xADtant to men\\xADtion that the Dis\\xADpatch router doesn\\u2019t de\\xADcou\\xADple the client from the ser\\xADvice. If de\\xADcou\\xADpling is what is needed, it can be eas\\xADily achieved by re\\xADplac\\xADing the Dis\\xADpatch router with some AMQP bro\\xADker. The bro\\xADker would de\\xADcou\\xADple the client from the ser\\xADvice with\\xADout any changes in the ser\\xADvice or clients.\"), mdx(\"h2\", {\n    \"id\": \"conclusion\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#conclusion\"\n  })), \"Conclusion\"), mdx(\"p\", null, \"While cre\\xADat\\xADing APIs using AMQP can be very easy, it doesn\\u2019t mean that AMQP is the best pro\\xADto\\xADcol for all APIs. There are def\\xADi\\xADnitely APIs where HTTP is more suit\\xADable. But in some use cases, AMQP has clear ad\\xADvan\\xADtages. In my LiveScore ex\\xADam\\xADple it is es\\xADpe\\xADcially one to many com\\xADmu\\xADni\\xADca\\xADtion. It is im\\xADpor\\xADtant to keep the mind open and se\\xADlect the best avail\\xADable for given ser\\xADvice.\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eMi­croser­vices and APIs are every­where. Every­one talks about them, pre­sen­ta­tion slides are full of them … some peo­ple are ac­tu­ally even build­ing them. Mi­croser­vices and APIs are of course not com­pletely new con­cepts and they are a bit over-​hyped. But in gen­eral the ideas be­hind them are not bad. Un­for­tu­nately, many peo­ple seem to be­lieve that the only way how to im­ple­ment an API in mi­croser­vice is to use HTTP and REST. That is of course not true. Mi­croser­vices and APIs can be based on many dif­fer­ent pro­to­cols and tech­nolo­gies. My fa­vorite one is of course \u003ca href=\"http://www.amqp.org\"\u003eAMQP\u003c/a\u003e. Don’t take me wrong, HTTP and REST is not nec­es­sar­ily bad. But in some cases AMQP is sim­ply bet­ter and cre­at­ing AMQP based APIs does not need to be com­pli­cated.\u003c/p\u003e\u003cdiv class=\"alert info\"\u003e\u003cp\u003eThis is a re-​publication of the fol­low­ing \u003ca href=\"http://blog.effectivemessaging.com/2017/01/building-services-and-apis-with-amqp-10.html\"\u003eblog post\u003c/a\u003e\u003c/p\u003e\u003c/div\u003e\u003ch2 id=\"livescore-service\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#livescore-service\"\u003e\u003c/a\u003eLiveScore service\u003c/h2\u003e\u003cp\u003eFor demon­stra­tion, I will use a very sim­ple ser­vice for keep­ing scores of foot­ball games. It has very basic API. It has only three calls:\u003c/p\u003e\u003cul\u003e\u003cli\u003eAdd a new game\u003c/li\u003e\u003cli\u003eUp­date a score of ex­ist­ing game\u003c/li\u003e\u003cli\u003eList the scores\nThe AMQP vari­ants will be ad­di­tion­ally able to push live up­dates to the clients.\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThe demo is using Java and Vert.x toolkit. \u003ca href=\"http://vertx.io/\"\u003eVert.x\u003c/a\u003e is cool and I def­i­nitely rec­om­mend it to every­one. But most of the stuff from the demo should be pos­si­ble also in any other pro­gram­ming lan­guages and/or frame­work.\u003c/p\u003e\u003ch2 id=\"http-api\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#http-api\"\u003e\u003c/a\u003eHTTP API\u003c/h2\u003e\u003cp\u003eHTTP im­ple­men­ta­tion of my ser­vice is a typ­i­cal REST API. Since it is very sim­ple, it ac­cepts re­quests only on one end­point – /api/v1.0/scores. New games are added as POST op­er­a­tions, scores are up­dated with PUT op­er­a­tions and list of all scores can be ob­tained with GET.\u003c/p\u003e\u003cp\u003eWith Vert.x, cre­at­ing HTTP/REST API is very easy. First the web router has to be cre­ated with all planned API calls:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003erouter = Router.router(vertx);  \nrouter.route(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/api/v1.0/*\u0026quot;\u003c/span\u003e).handler(BodyHandler.create());  \nrouter.get(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/api/v1.0/scores\u0026quot;\u003c/span\u003e).handler(\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e::getScores);  \nrouter.post(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/api/v1.0/scores\u0026quot;\u003c/span\u003e).handler(\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e::addGame);  \nrouter.put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/api/v1.0/scores\u0026quot;\u003c/span\u003e).handler(\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e::setScore);  \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThen the HTTP server has to be cre­ated and linked with the router:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eHttpServerOptions httpOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e HttpServerOptions();  \nserver = vertx.createHttpServer(httpOptions)  \n   .requestHandler(router::accept)  \n   .listen(httpPort);  \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAnd fi­nally the han­dlers which will be trig­gered for each API call have to be im­ple­mented as well. The full code is on \u003ca href=\"https://github.com/scholzj/livescore-demo-vertx-http\"\u003eGitHub\u003c/a\u003e.\u003c/p\u003e\u003cp\u003e\u003cimg src=\"/images/blog/services-and-apis-with-amqp/HTTP-API.png\"/\u003e\u003c/p\u003e\u003cp\u003eThe HTTP API doesn’t pro­vide any way how to au­to­mat­i­cally push the score up­dates to the clients. The clients sim­ply have to poll the ser­vice pe­ri­od­i­cally to get the up­dates. HTTP has of course some ways how to push live up­dates to clients. For ex­am­ple, with Web­Sock­ets or with chun­ked trans­fers. How­ever, these are not that easy to im­ple­ment. The ser­vice would also need to keep sep­a­rate con­nec­tion with every client and push the up­dates for each of them sep­a­rately.\u003c/p\u003e\u003ch2 id=\"amqp-api\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#amqp-api\"\u003e\u003c/a\u003eAMQP API\u003c/h2\u003e\u003cp\u003eCre­at­ing the HTTP API was re­ally easy. Cre­at­ing an AMQP API has to be more com­pli­cated, right? We would need an AMQP server, which will lis­ten on some port, ac­cept the con­nec­tions, ses­sions, links and so on. There are usu­ally no nice and sim­ple to use li­braries for this.\u003c/p\u003e\u003cp\u003eSure, this is one way how to do it. There is ac­tu­ally a nice li­brary called \u003ca href=\"http://qpid.apache.org/proton/index.html\"\u003eApache Qpid Pro­ton\u003c/a\u003e. It has Java and C ver­sions and bind­ings into many other lan­guages (Go, C++, Python, …). It makes cre­at­ing your own AMQP server lot eas­ier. It will take care of de­cod­ing and en­cod­ing the AMQP pro­to­col, han­dling the con­nec­tions, ses­sions etc. But still, Qpid Pro­ton is not even nearly as easy to use as the HTTP router used for the HTTP API.\u003c/p\u003e\u003cp\u003e\u003cimg src=\"/images/blog/services-and-apis-with-amqp/AMQP-Server-API.png\" alt=\"API with AMQP server\"/\u003e\u003c/p\u003e\u003cp\u003eAre there any eas­ier op­tions? What if all what is needed to cre­ate AMQP based API is a sim­ple AMQP client? Nor­mally, that should not be a pos­si­ble be­cause we need the API to lis­ten on some port for the clients to con­nect to it and send re­quests. And clients usu­ally don’t lis­ten on any ports. How­ever, Apache Qpid has some­thing called \u003ca href=\"http://qpid.apache.org/components/dispatch-router/index.html\"\u003eDis­patch\u003c/a\u003e. It works as a light­weight AMQP router. Dis­patch will serve as the AMQP server which was miss­ing. It will take care of han­dling client con­nec­tions, se­cu­rity and shield the ser­vice from the ac­tual clients. All the ser­vice needs to do is to use AMQP client to con­nect to Dis­patch on pre­de­fined ad­dress and wait for the re­quest.\u003c/p\u003e\u003cp\u003e\u003cimg src=\"/images/blog/services-and-apis-with-amqp/AMQP-API.png\" alt=\"AMQP API with Dispatch router\"/\u003e\u003c/p\u003e\u003cp\u003eDis­patch needs to be con­fig­ured with three API entry points as ad­dresses:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-text\"\u003eaddress {  \n    prefix: /setScore  \n    distribution: balanced  \n}  \naddress {  \n    prefix: /getScore  \n    distribution: balanced  \n}  \naddress {  \n    prefix: /addGame  \n    distribution: balanced  \n}  \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eLiveScore ser­vice will con­nect to these ad­dresses as a re­ceiver / con­sumer. Clients will con­nect to them as senders  /pro­duc­ers. And Dis­patch will take care of rout­ing the mes­sages be­tween the clients and the ser­vice. Clients can also cre­ate ad­di­tional re­ceivers so that the ser­vice is able to re­spond to their re­quests and spec­ify the ad­dress of the re­ceiver as the reply-​to header in the re­quest mes­sage. LiveScore ser­vice will au­to­mat­i­cally send the re­sponse to this ad­dress. But spec­i­fy­ing a reply-​to is not manda­tory. If the client wants, it can sim­ply fire the re­quest and for­get about the re­sponse.\u003c/p\u003e\u003cp\u003eLiveScore ser­vice is using Vert.x AMQP Bridge which al­lows easy in­te­gra­tion be­tween the Vert.x Event Bus and the AMQP con­nec­tion to my router. The ser­vice starts the AMQP Bridge and if it suc­cess­fully con­nects to Dis­patch it cre­ates three re­ceivers for the API calls.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eAmqpBridgeOptions options = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e AmqpBridgeOptions().addEnabledSaslMechanism(\u003cspan class=\"hljs-string\"\u003e\u0026quot;ANONYMOUS\u0026quot;\u003c/span\u003e);  \nbridge = AmqpBridge.create(vertx, options);  \nbridge.start(amqpHostname, amqpPort, res -\u0026gt; {  \n   \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded())  \n   {  \n     bridge.createConsumer(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/setScore\u0026quot;\u003c/span\u003e).setMaxBufferedMessages(\u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e).handler(\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e::setScore);  \n     bridge.createConsumer(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/getScores\u0026quot;\u003c/span\u003e).setMaxBufferedMessages(\u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e).handler(\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e::getScores);  \n     bridge.createConsumer(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/addGame\u0026quot;\u003c/span\u003e).setMaxBufferedMessages(\u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e).handler(\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e::addGame);  \n     fut.complete();  \n   }  \n   \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e  \n   {  \n     fut.fail(res.cause());  \n   }  \n});  \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe only other thing which needs to be done is cre­at­ing han­dlers for han­dling the re­quests re­ceived from clients:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetScores\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Message\u0026lt;Object\u0026gt; msg)\u003c/span\u003e  \n\u003c/span\u003e{  \n   \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e(msg.replyAddress() != \u003cspan class=\"hljs-keyword\"\u003enull\u003c/span\u003e)  \n   {  \n     JsonObject response = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject();  \n     response.put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;application_properties\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;status\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e));  \n     response.put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;body\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonArray(Json.encode(scoreService.getScores())).encode());  \n     msg.reply(response);  \n   }  \n   \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e  \n   {  \n     LOG.warn(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Received LiveScore/getScores request without reply to address\u0026quot;\u003c/span\u003e);  \n   }  \n}  \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eLive broad­cast­ing of score up­dates is also very easy. New ad­dress has to be added into Dis­patch con­fig­u­ra­tion. This ad­dress will be used in op­po­site di­rec­tion. the ser­vice con­nects to it as sender / pro­ducer and clients which want to re­ceive the live up­dates cre­ate a re­ceiver against this ad­dress. What is im­por­tant, this ad­dress has to be marked as mul­ti­cast. Thanks to that every sin­gle mes­sage will be de­liv­ered to all con­nected clients and not just to one of them:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-text\"\u003eaddress {  \n    prefix: /liveScores  \n    distribution: multicast  \n}  \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cimg src=\"/images/blog/services-and-apis-with-amqp/AMQP-API-multicast.png\" alt=\"Multicasting messages\"/\u003e\u003c/p\u003e\u003cp\u003eThanks to the mul­ti­cast dis­tri­b­u­tion, the ser­vice doesn’t need to send a sep­a­rate up­date to every sin­gle client. It sends the mes­sage only once and dis­patch takes care of the rest.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ebroadcastUpdates\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Game game)\u003c/span\u003e  \n\u003c/span\u003e{  \n   LOG.info(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Broadcasting game update \u0026quot;\u003c/span\u003e + game);  \n   JsonObject message = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject();  \n   message.put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;body\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject(Json.encode(game)).encode());  \n   producer.send(message);  \n} \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAgain, the com­plete source codes of the demo ser­vice are avail­able on \u003ca href=\"https://github.com/scholzj/livescore-demo-vertx-amqp-bridge\"\u003eGitHub\u003c/a\u003e.\u003c/p\u003e\u003ch2 id=\"how-to-structure-amqp-apis\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#how-to-structure-amqp-apis\"\u003e\u003c/a\u003eHow to structure AMQP APIs?\u003c/h2\u003e\u003cp\u003eCom­pared to HTTP and REST, AMQP gives its users a lot more free­dom when de­sign­ing the API. It isn’t tied up by the avail­able HTTP meth­ods.\u003c/p\u003e\u003cp\u003eMy LiveScore ser­vice is using the API end­points named ac­cord­ing to their func­tion:\u003c/p\u003e\u003cul\u003e\u003cli\u003e/LiveScore/ad­dGame\u003c/li\u003e\u003cli\u003e/LiveScore/setScore\u003c/li\u003e\u003cli\u003e/LiveScore/getScores\nIt also uses HTTP sta­tus codes in ap­pli­ca­tion prop­er­ties of the dif­fer­ent mes­sages to de­scribe the re­sult of the re­quest and JSON as the mes­sage pay­load with the ac­tual re­quest and re­sponse.\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eIs that the best way? To be hon­est, I don’t know. Just for the re­quest en­cod­ing there are many dif­fer­ent op­tions. AMQP has its own en­cod­ings which sup­ports all pos­si­ble basic as well as more ad­vanced data types and struc­tures. But AMQP can also trans­fer any opaque data - be it JSON, XML, Google Pro­to­col Buffers or any­thing else. For sim­ple re­quest, the pay­load can be com­pletely skipped and ap­pli­ca­tion prop­er­ties can be used in­stead. And for every­one who re­ally loves HTTP/REST, one can also model the API in REST style as I did in an \u003ca href=\"https://github.com/scholzj/livescore-demo-vertx-amqp-bridge-rest-style\"\u003eal­ter­na­tive im­ple­men­ta­tion\u003c/a\u003e of my demo ser­vice.\u003c/p\u003e\u003ch2 id=\"browser\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#browser\"\u003e\u003c/a\u003eBrowser\u003c/h2\u003e\u003cp\u003eOne of the en­vi­ron­ments where HTTP is so to say “at home” is browser. AMQP will prob­a­bly never be as “na­tive” pro­to­col for any browser as HTTP is. How­ever AMQP can be used even from browsers. It has Web­Socket bind­ing and there are Javascript AMQP li­braries - for ex­am­ple rhea. So AMQP can be also used re­ally every­where.\u003c/p\u003e\u003ch2 id=\"decoupling\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#decoupling\"\u003e\u003c/a\u003eDecoupling\u003c/h2\u003e\u003cp\u003eIt is im­por­tant to men­tion that the Dis­patch router doesn’t de­cou­ple the client from the ser­vice. If de­cou­pling is what is needed, it can be eas­ily achieved by re­plac­ing the Dis­patch router with some AMQP bro­ker. The bro­ker would de­cou­ple the client from the ser­vice with­out any changes in the ser­vice or clients.\u003c/p\u003e\u003ch2 id=\"conclusion\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#conclusion\"\u003e\u003c/a\u003eConclusion\u003c/h2\u003e\u003cp\u003eWhile cre­at­ing APIs using AMQP can be very easy, it doesn’t mean that AMQP is the best pro­to­col for all APIs. There are def­i­nitely APIs where HTTP is more suit­able. But in some use cases, AMQP has clear ad­van­tages. In my LiveScore ex­am­ple it is es­pe­cially one to many com­mu­ni­ca­tion. It is im­por­tant to keep the mind open and se­lect the best avail­able for given ser­vice.\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"amqp","tf":29},{"term":"api","tf":28},{"term":"servic","tf":22},{"term":"client","tf":22},{"term":"http","tf":18},{"term":"us","tf":16},{"term":"will","tf":14},{"term":"creat","tf":13},{"term":"connect","tf":12},{"term":"request","tf":11},{"term":"not","tf":10},{"term":"need","tf":10},{"term":"updat","tf":10},{"term":"dispatch","tf":10},{"term":"livescor","tf":9},{"term":"address","tf":9},{"term":"rest","tf":8},{"term":"score","tf":8},{"term":"on","tf":7},{"term":"easi","tf":7},{"term":"router","tf":7},{"term":"receiv","tf":7},{"term":"call","tf":6},{"term":"messag","tf":6},{"term":"implement","tf":5}]},{"filename":"blog/2016-12-29-internet-of-things-reactive-and-asynchronous-with-vert-x.mdx","date":"2016-12-29","slug":"internet-of-things-reactive-and-asynchronous-with-vert-x","meta":{"title":"Internet of Things - Reactive and Asynchronous with Vert.x","category":"guides","authors":[{"name":"Paolo Patierno","github_id":"ppatierno"}],"summary":"I have to admit … before joining Red Hat I didn’t know about the Eclipse Vert.x project but it took me few days to fall in love with it!"},"readingTime":{"text":"4 min read","minutes":3.68,"time":220800,"words":736},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/images/blog/vertx-iot/vertx-iot.png\",\n    \"alt\": \"Vert.x IoT\"\n  }))), mdx(Alert, {\n    info: true,\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"This is a re-\\u200Bpublication of the fol\\xADlow\\xADing \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://paolopatierno.wordpress.com/2016/12/27/internet-of-things-reactive-and-asynchronous-with-vert-x/\"\n  }), \"blog post\"), \".\")), mdx(\"p\", null, \"I have to admit \\u2026 be\\xADfore join\\xADing Red Hat I didn\\u2019t know about the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vertx.io/\"\n  }), mdx(\"em\", {\n    parentName: \"a\"\n  }, \"Eclipse Vert.x\")), \" project but it took me few days to fall in love with it!\"), mdx(\"p\", null, \"For the other de\\xADvel\\xADop\\xADers who don\\u2019t know what Vert.x is, the best de\\xADf\\xADi\\xADn\\xADi\\xADtion is \\u2026\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u2026 a toolkit to build dis\\xADtrib\\xADuted and re\\xADac\\xADtive sys\\xADtems on top of the JVM using an asyn\\xADchro\\xADnous non block\\xADing de\\xADvel\\xADop\\xADment model\")), mdx(\"p\", null, \"The first big thing is re\\xADlated to de\\xADvelop a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"re\\xADac\\xADtive\"), \" sys\\xADtem using Vert.x which means :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Re\\xADspon\\xADsive\"), \" : the sys\\xADtem re\\xADsponds in an ac\\xADcept\\xADable time;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Elas\\xADtic\"), \" : the sys\\xADtem can scale up and scale down;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Re\\xADsilient\"), \" : the sys\\xADtem is de\\xADsigned to han\\xADdle fail\\xADures grace\\xADfully;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Asyn\\xADchro\\xADnous\"), \" : the in\\xADter\\xADac\\xADtion with the sys\\xADtem is achieved using asyn\\xADchro\\xADnous mes\\xADsages;\")), mdx(\"p\", null, \"The other big thing is re\\xADlated to use an \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"asyn\\xADchro\\xADnous non block\\xADing\"), \" de\\xADvel\\xADop\\xADment model which doesn\\u2019t mean to be multi-\\u200Bthreading but thanks to the non block\\xADing I/O (i.e. for han\\xADdling net\\xADwork, file sys\\xADtem, \\u2026) and call\\xADbacks sys\\xADtem, it\\u2019s pos\\xADsi\\xADble to han\\xADdle a huge num\\xADbers of events per sec\\xADond using a sin\\xADgle thread (aka \\u201Cevent loop\\u201D).\"), mdx(\"p\", null, \"You can find a lot of \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vertx.io/materials/\"\n  }), \"ma\\xADte\\xADr\\xADial\"), \" on the of\\xADfi\\xADcial web site in order to bet\\xADter un\\xADder\\xADstand what Vert.x is and all its main fea\\xADtures; it\\u2019s not my ob\\xADjec\\xADtive to ex\\xADplain it in this very short ar\\xADti\\xADcle that is mostly \\u2026 you guess \\u2026 mes\\xADsag\\xADing and IoT ori\\xADented  :-)\"), mdx(\"p\", null, \"In my opin\\xADion, all the above fea\\xADtures make Vert.x a great toolkit for build\\xADing In\\xADter\\xADnet of Things ap\\xADpli\\xADca\\xADtions where being re\\xADac\\xADtive and asyn\\xADchro\\xADnous is a \\u201Cmust\\u201D in order to han\\xADdle mil\\xADlions of con\\xADnec\\xADtions from de\\xADvices and all the mes\\xADsages in\\xADgested from them.\"), mdx(\"h2\", {\n    \"id\": \"vertx-and-the-internet-of-things\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#vertx-and-the-internet-of-things\"\n  })), \"Vert.x and the Internet of Things\"), mdx(\"p\", null, \"As a toolkit, so made of dif\\xADfer\\xADent com\\xADpo\\xADnents, what are the ones pro\\xADvided by Vert.x and use\\xADful to IoT?\"), mdx(\"p\", null, \"Start\\xADing from the Vert.x \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/eclipse/vert.x\"\n  }), \"Core\"), \" com\\xADpo\\xADnent, there is sup\\xADport for both ver\\xADsions of HTTP pro\\xADto\\xADcol so 1.1 and 2.0 in order to de\\xADvelop an \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vertx.io/docs/vertx-core/java/#_writing_http_servers_and_clients\"\n  }), \"HTTP server\"), \" which can ex\\xADpose a REST\\xADful API to the de\\xADvices. Today , a lot of web and mo\\xADbile de\\xADvel\\xADop\\xADers pre\\xADfer to use this pro\\xADto\\xADcol for build\\xADing their IoT so\\xADlu\\xADtion lever\\xADag\\xADing on the deep knowl\\xADedge they have about the HTTP pro\\xADto\\xADcol.\"), mdx(\"p\", null, \"Re\\xADgard\\xADing more IoT ori\\xADented pro\\xADto\\xADcols, there is the Vert.x \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-mqtt-server\"\n  }), \"MQTT server\"), \" com\\xADpo\\xADnent which doesn\\u2019t pro\\xADvide a full bro\\xADker but ex\\xADposes an API that a de\\xADvel\\xADoper can use in order to han\\xADdle in\\xADcom\\xADing con\\xADnec\\xADtions and mes\\xADsages from re\\xADmote MQTT clients and then build\\xADing the busi\\xADness logic on top of it, so for ex\\xADam\\xADple de\\xADvel\\xADop\\xADing a real bro\\xADker or ex\\xADe\\xADcut\\xADing pro\\xADto\\xADcol trans\\xADla\\xADtion (i.e. to/from plain TCP,to/from the Vert.x Event Bus,to/from HTTP,to/from AMQP and so on). The API raises all events re\\xADlated to the con\\xADnec\\xADtion re\\xADquest from a re\\xADmote MQTT client and all sub\\xADse\\xADquent in\\xADcom\\xADing mes\\xADsages; at same time, the API pro\\xADvides the way to reply to the re\\xADmote end\\xADpoint. The de\\xADvel\\xADoper doesn\\u2019t need to know how MQTT works on the wire in terms of en\\xADcod\\xADing/de\\xADcod\\xADing mes\\xADsages.\"), mdx(\"p\", null, \"Re\\xADlated to the AMQP 1.0 pro\\xADto\\xADcol there are the Vert.x \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-proton\"\n  }), \"Pro\\xADton\"), \" and the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-amqp-bridge\"\n  }), \"AMQP bridge\"), \" com\\xADpo\\xADnents. The first one pro\\xADvides a thin wrap\\xADper around the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://qpid.apache.org/\"\n  }), \"Apache Qpid\"), \" Pro\\xADton en\\xADgine and can be used for in\\xADter\\xADact\\xADing with AMQP based mes\\xADsag\\xADing sys\\xADtems as clients (sender and re\\xADceiver) but even de\\xADvel\\xADop\\xADing a server. The last one pro\\xADvides a bridge be\\xADtween the pro\\xADto\\xADcol and the Vert.x Event Bus mostly used for com\\xADmu\\xADni\\xADca\\xADtion be\\xADtween de\\xADployed Vert.x ver\\xADti\\xADcles. Thanks to this bridge, ver\\xADti\\xADcles can in\\xADter\\xADact with AMQP com\\xADpo\\xADnents in a sim\\xADple way.\"), mdx(\"p\", null, \"Last but not least, the Vert.x \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-kafka-client\"\n  }), \"Kafka client\"), \" com\\xADpo\\xADnent which pro\\xADvides ac\\xADcess to Apache Kafka for send\\xADing and con\\xADsum\\xADing mes\\xADsages from top\\xADics and re\\xADlated par\\xADti\\xADtions. A lot of IoT sce\\xADnar\\xADios lever\\xADage on Apache Kafka in order to have an in\\xADges\\xADtion sys\\xADtem ca\\xADpa\\xADble of han\\xADdling mil\\xADlion mes\\xADsages per sec\\xADond.\"), mdx(\"h2\", {\n    \"id\": \"conclusion\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#conclusion\"\n  })), \"Conclusion\"), mdx(\"p\", null, \"The cur\\xADrent Vert.x code base pro\\xADvides quite in\\xADter\\xADest\\xADing com\\xADpo\\xADnents for de\\xADvel\\xADop\\xADing IoT so\\xADlu\\xADtions which are al\\xADready avail\\xADable in the cur\\xADrent 3.3.3 ver\\xADsion (see Vert.x Pro\\xADton and AMQP bridge) and that will be avail\\xADable soon in the fu\\xADture 3.4.0 ver\\xADsion (see MQTT server and Kafka client). Of course, you don\\u2019t need to wait for their of\\xADfi\\xADcial re\\xADlease be\\xADcause, even if under de\\xADvel\\xADop\\xADment, you can al\\xADready adopt these com\\xADpo\\xADnents and pro\\xADvide your feed\\xADback to the com\\xADmu\\xADnity.\"), mdx(\"p\", null, \"This ecosys\\xADtem will grow in the fu\\xADture and Vert.x will be a lead\\xADing actor in the IoT ap\\xADpli\\xADca\\xADtions world based on a mi\\xADcroser\\xADvices ar\\xADchi\\xADtec\\xADture!\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003e\u003cimg src=\"/images/blog/vertx-iot/vertx-iot.png\" alt=\"Vert.x IoT\"/\u003e\u003c/p\u003e\u003cdiv class=\"alert info\"\u003e\u003cp\u003eThis is a re-​publication of the fol­low­ing \u003ca href=\"https://paolopatierno.wordpress.com/2016/12/27/internet-of-things-reactive-and-asynchronous-with-vert-x/\"\u003eblog post\u003c/a\u003e.\u003c/p\u003e\u003c/div\u003e\u003cp\u003eI have to admit … be­fore join­ing Red Hat I didn’t know about the \u003ca href=\"http://vertx.io/\"\u003e\u003cem\u003eEclipse Vert.x\u003c/em\u003e\u003c/a\u003e project but it took me few days to fall in love with it!\u003c/p\u003e\u003cp\u003eFor the other de­vel­op­ers who don’t know what Vert.x is, the best de­f­i­n­i­tion is …\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e… a toolkit to build dis­trib­uted and re­ac­tive sys­tems on top of the JVM using an asyn­chro­nous non block­ing de­vel­op­ment model\u003c/p\u003e\u003c/blockquote\u003e\u003cp\u003eThe first big thing is re­lated to de­velop a \u003cem\u003ere­ac­tive\u003c/em\u003e sys­tem using Vert.x which means :\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003cem\u003eRe­spon­sive\u003c/em\u003e : the sys­tem re­sponds in an ac­cept­able time;\u003c/li\u003e\u003cli\u003e\u003cem\u003eElas­tic\u003c/em\u003e : the sys­tem can scale up and scale down;\u003c/li\u003e\u003cli\u003e\u003cem\u003eRe­silient\u003c/em\u003e : the sys­tem is de­signed to han­dle fail­ures grace­fully;\u003c/li\u003e\u003cli\u003e\u003cem\u003eAsyn­chro­nous\u003c/em\u003e : the in­ter­ac­tion with the sys­tem is achieved using asyn­chro­nous mes­sages;\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThe other big thing is re­lated to use an \u003cem\u003easyn­chro­nous non block­ing\u003c/em\u003e de­vel­op­ment model which doesn’t mean to be multi-​threading but thanks to the non block­ing I/O (i.e. for han­dling net­work, file sys­tem, …) and call­backs sys­tem, it’s pos­si­ble to han­dle a huge num­bers of events per sec­ond using a sin­gle thread (aka “event loop”).\u003c/p\u003e\u003cp\u003eYou can find a lot of \u003ca href=\"http://vertx.io/materials/\"\u003ema­te­r­ial\u003c/a\u003e on the of­fi­cial web site in order to bet­ter un­der­stand what Vert.x is and all its main fea­tures; it’s not my ob­jec­tive to ex­plain it in this very short ar­ti­cle that is mostly … you guess … mes­sag­ing and IoT ori­ented  :-)\u003c/p\u003e\u003cp\u003eIn my opin­ion, all the above fea­tures make Vert.x a great toolkit for build­ing In­ter­net of Things ap­pli­ca­tions where being re­ac­tive and asyn­chro­nous is a “must” in order to han­dle mil­lions of con­nec­tions from de­vices and all the mes­sages in­gested from them.\u003c/p\u003e\u003ch2 id=\"vertx-and-the-internet-of-things\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#vertx-and-the-internet-of-things\"\u003e\u003c/a\u003eVert.x and the Internet of Things\u003c/h2\u003e\u003cp\u003eAs a toolkit, so made of dif­fer­ent com­po­nents, what are the ones pro­vided by Vert.x and use­ful to IoT?\u003c/p\u003e\u003cp\u003eStart­ing from the Vert.x \u003ca href=\"https://github.com/eclipse/vert.x\"\u003eCore\u003c/a\u003e com­po­nent, there is sup­port for both ver­sions of HTTP pro­to­col so 1.1 and 2.0 in order to de­velop an \u003ca href=\"http://vertx.io/docs/vertx-core/java/#_writing_http_servers_and_clients\"\u003eHTTP server\u003c/a\u003e which can ex­pose a REST­ful API to the de­vices. Today , a lot of web and mo­bile de­vel­op­ers pre­fer to use this pro­to­col for build­ing their IoT so­lu­tion lever­ag­ing on the deep knowl­edge they have about the HTTP pro­to­col.\u003c/p\u003e\u003cp\u003eRe­gard­ing more IoT ori­ented pro­to­cols, there is the Vert.x \u003ca href=\"https://github.com/vert-x3/vertx-mqtt-server\"\u003eMQTT server\u003c/a\u003e com­po­nent which doesn’t pro­vide a full bro­ker but ex­poses an API that a de­vel­oper can use in order to han­dle in­com­ing con­nec­tions and mes­sages from re­mote MQTT clients and then build­ing the busi­ness logic on top of it, so for ex­am­ple de­vel­op­ing a real bro­ker or ex­e­cut­ing pro­to­col trans­la­tion (i.e. to/from plain TCP,to/from the Vert.x Event Bus,to/from HTTP,to/from AMQP and so on). The API raises all events re­lated to the con­nec­tion re­quest from a re­mote MQTT client and all sub­se­quent in­com­ing mes­sages; at same time, the API pro­vides the way to reply to the re­mote end­point. The de­vel­oper doesn’t need to know how MQTT works on the wire in terms of en­cod­ing/de­cod­ing mes­sages.\u003c/p\u003e\u003cp\u003eRe­lated to the AMQP 1.0 pro­to­col there are the Vert.x \u003ca href=\"https://github.com/vert-x3/vertx-proton\"\u003ePro­ton\u003c/a\u003e and the \u003ca href=\"https://github.com/vert-x3/vertx-amqp-bridge\"\u003eAMQP bridge\u003c/a\u003e com­po­nents. The first one pro­vides a thin wrap­per around the \u003ca href=\"http://qpid.apache.org/\"\u003eApache Qpid\u003c/a\u003e Pro­ton en­gine and can be used for in­ter­act­ing with AMQP based mes­sag­ing sys­tems as clients (sender and re­ceiver) but even de­vel­op­ing a server. The last one pro­vides a bridge be­tween the pro­to­col and the Vert.x Event Bus mostly used for com­mu­ni­ca­tion be­tween de­ployed Vert.x ver­ti­cles. Thanks to this bridge, ver­ti­cles can in­ter­act with AMQP com­po­nents in a sim­ple way.\u003c/p\u003e\u003cp\u003eLast but not least, the Vert.x \u003ca href=\"https://github.com/vert-x3/vertx-kafka-client\"\u003eKafka client\u003c/a\u003e com­po­nent which pro­vides ac­cess to Apache Kafka for send­ing and con­sum­ing mes­sages from top­ics and re­lated par­ti­tions. A lot of IoT sce­nar­ios lever­age on Apache Kafka in order to have an in­ges­tion sys­tem ca­pa­ble of han­dling mil­lion mes­sages per sec­ond.\u003c/p\u003e\u003ch2 id=\"conclusion\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#conclusion\"\u003e\u003c/a\u003eConclusion\u003c/h2\u003e\u003cp\u003eThe cur­rent Vert.x code base pro­vides quite in­ter­est­ing com­po­nents for de­vel­op­ing IoT so­lu­tions which are al­ready avail­able in the cur­rent 3.3.3 ver­sion (see Vert.x Pro­ton and AMQP bridge) and that will be avail­able soon in the fu­ture 3.4.0 ver­sion (see MQTT server and Kafka client). Of course, you don’t need to wait for their of­fi­cial re­lease be­cause, even if under de­vel­op­ment, you can al­ready adopt these com­po­nents and pro­vide your feed­back to the com­mu­nity.\u003c/p\u003e\u003cp\u003eThis ecosys­tem will grow in the fu­ture and Vert.x will be a lead­ing actor in the IoT ap­pli­ca­tions world based on a mi­croser­vices ar­chi­tec­ture!\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"develop","tf":12},{"term":"system","tf":10},{"term":"us","tf":10},{"term":"messag","tf":9},{"term":"compon","tf":8},{"term":"provid","tf":8},{"term":"iot","tf":7},{"term":"protocol","tf":7},{"term":"handl","tf":6},{"term":"amqp","tf":6},{"term":"asynchron","tf":5},{"term":"relat","tf":5},{"term":"event","tf":5},{"term":"order","tf":5},{"term":"mqtt","tf":5},{"term":"client","tf":5},{"term":"build","tf":4},{"term":"thing","tf":4},{"term":"http","tf":4},{"term":"server","tf":4},{"term":"api","tf":4},{"term":"bridg","tf":4},{"term":"kafka","tf":4},{"term":"know","tf":3},{"term":"toolkit","tf":3}]},{"filename":"blog/2016-12-07-getting-started-with-new-fabric8-vert-x-maven-plugin.mdx","date":"2016-12-07","slug":"getting-started-with-new-fabric8-vert-x-maven-plugin","meta":{"title":"Getting started with new fabric8 Vert.x Maven Plugin","category":"guides","authors":[{"name":"Kamesh Sampath","github_id":"kameshsampath"}],"summary":"The all new fabric8 Vert.x Maven Plugin allows you to setup, package, run, start, stop and redeploy easily with a very little configuration resulting in a less verbose pom.xml."},"readingTime":{"text":"5 min read","minutes":4.455,"time":267300,"words":891},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"The all new \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vmp.fabric8.io\"\n  }), \"fab\\xADric8 Vert.x Maven Plu\\xADgin\"), \" al\\xADlows you to setup, pack\\xADage, run, start, stop and re\\xADde\\xADploy eas\\xADily with a very lit\\xADtle con\\xADfig\\xADu\\xADra\\xADtion re\\xADsult\\xADing in a less ver\\xADbose \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \".\"), mdx(Alert, {\n    info: true,\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"The plug\\xADin is de\\xADvel\\xADoped under the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://fabric8.io/\"\n  }), \"fab\\xADric8\"), \" um\\xADbrella.\")), mdx(\"p\", null, \"Tra\\xADdi\\xADtion\\xADally Vert.x ap\\xADpli\\xADca\\xADtions using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" need to have one or more of the fol\\xADlow\\xADing plu\\xADg\\xADins:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://maven.apache.org/plugins/maven-shade-plugin/\"\n  }), \"Maven Shade Plu\\xADgin\"), \" - aids in pack\\xADag\\xADing a uber jar of Vert.x ap\\xADpli\\xADca\\xADtion with ad\\xADdi\\xADtional con\\xADfig\\xADu\\xADra\\xADtions to per\\xADform SPI com\\xADbin\\xADing, MAN\\xADI\\xADFEST.MF en\\xADtries etc.,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://www.mojohaus.org/exec-maven-plugin/\"\n  }), \"Maven Exec Plu\\xADgin\"), \" - aids in start\\xADing the Vert.x ap\\xADpli\\xADca\\xADtion\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://maven.apache.org/plugins/maven-ant-plugin/\"\n  }), \"Maven Ant Plu\\xADgin\"), \" - aids in stop\\xADping the run\\xADning Vert.x ap\\xADpli\\xADca\\xADtion\")), mdx(\"p\", null, \"Though these are great plu\\xADg\\xADins and do what is re\\xADquired, but at the end of the day the de\\xADvel\\xADoper is left with a ver\\xADbose \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \" which might be\\xADcome harder to main\\xADtain as the ap\\xADpli\\xADca\\xADtion or its con\\xADfig\\xADu\\xADra\\xADtion grows. Even if we de\\xADcide to go this way and use those plu\\xADg\\xADins, there are some things which can\\u2019t done or done eas\\xADily:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"run\"), \" an ap\\xADpli\\xADca\\xADtion on fore\\xADground - which is a typ\\xADi\\xADcal way dur\\xADing de\\xADvel\\xADop\\xADment where the ap\\xADpli\\xADca\\xADtion starts in fore\\xADground of \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" build and killed au\\xADto\\xADmat\\xADi\\xADcally once we hit \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Ctrl + c\"), \"(or \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"CMD + c\"), \" on Mac)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"redeploy\"), \" is one of the coolest fea\\xADture of Vert.x al\\xADlow\\xADing us to per\\xADform hot de\\xADploy\\xADments. Still we can man\\xADage to do this with IDE sup\\xADport but not na\\xADtively using \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" - typ\\xADi\\xADcal cases where we dis\\xADable \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Au\\xADto\\xADmatic Builds\"), \" via IDE\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"setup\"), \" Vert.x ap\\xADpli\\xADca\\xADtions with sen\\xADsi\\xADble de\\xADfaults and re\\xADquired Vert.x de\\xADpen\\xADden\\xADcies e.g. vertx-\\u200Bcore\")), mdx(\"p\", null, \"In this first blog of fab\\xADric8 Vert.x Maven Plu\\xADgin se\\xADries we will help you to get started with this new \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vmp.fabric8.io\"\n  }), \"fab\\xADric8 Vert.x Maven Plu\\xADgin\"), \", high\\xADlight\\xADing how this plug\\xADin helps al\\xADle\\xADvi\\xADat\\xADing the afore\\xADmen\\xADtioned pain points with a less ver\\xADbose \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \".\"), mdx(\"p\", null, \"The \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" plug\\xADin source code is avail\\xADable at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/fabric8io/vertx-maven-plugin\"\n  }), \"github\"), \" with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" plug\\xADin doc\\xADu\\xADmen\\xADta\\xADtion avail\\xADable at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vmp.fabric8.io\"\n  }), \"fab\\xADric8 Vert.x Maven Plu\\xADgin\")), mdx(\"p\", null, \"The source code of the ex\\xADam\\xADples used in this blog are avail\\xADable at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/kameshsampath/vmp-blog\"\n  }), \"github\")), mdx(\"h2\", {\n    \"id\": \"lets-set-it-up\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#lets-set-it-up\"\n  })), \"Let\\u2019s set it up\"), mdx(\"p\", null, \"Its very easy to setup and get started. Let\\u2019s say you have a project called \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"vmp-\\u200Bblog\"), \" with the fol\\xADlow\\xADing con\\xADtent as part of your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\")), mdx(Gist, {\n    url: \"https://gist.github.com/kameshsampath/0e0cfc90ea3cb9d69553ee9901dfd796\",\n    mdxType: \"Gist\"\n  }), mdx(\"p\", null, \"from the project di\\xADrec\\xADtory just run the fol\\xADlow\\xADing com\\xADmand:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"mvn io.fabric8:vertx-maven-plugin:1.0.0:setup\\n\")), mdx(\"p\", null, \"On suc\\xADcess\\xADful ex\\xADe\\xADcu\\xADtion of the above com\\xADmand the project\\u2019s \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \" will be up\\xADdated:\"), mdx(Gist, {\n    url: \"https://gist.github.com/kameshsampath/3c2e96d98f1e16d0f7a0501c05ce0d12\",\n    mdxType: \"Gist\"\n  }), mdx(\"p\", null, \"The com\\xADmand did the fol\\xADlow\\xADing for you on the project:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"added cou\\xADple of prop\\xADer\\xADties\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"fabric8.vertx.plugin.version\"), \" - the lat\\xADest fab\\xADric8 vert.x maven plug\\xADin ver\\xADsion\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"vertx.version\"), \" - the lat\\xADest Vert.x frame\\xADwork ver\\xADsion\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"added the Vert.x de\\xADpen\\xADdency BOM and vertx-\\u200Bcore de\\xADpen\\xADdency cor\\xADre\\xADspond\\xADing to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"vertx.version\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"added \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"vertx-maven-plugin\"), \" with a sin\\xADgle ex\\xADe\\xADcu\\xADtion for goals \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://vmp.fabric8.io/#vertx:initalize\"\n  }), \"ini\\xADtial\\xADize\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://vmp.fabric8.io/#vertx:package\"\n  }), \"pack\\xADage\"))), mdx(\"p\", null, \"The source code cre\\xADated by this step is avail\\xADable \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/kameshsampath/vmp-blog/tree/setup\"\n  }), \"here\")), mdx(\"p\", null, \"Et voil\\xE0, you are now all set to go with your Vert.x ap\\xADpli\\xADca\\xADtion build\\xADing with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \"!!\"), mdx(\"h2\", {\n    \"id\": \"lets-package-it\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#lets-package-it\"\n  })), \"Let\\u2019s package it\"), mdx(\"p\", null, \"Now that we have set up our project to use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-maven-plugin\"), \", lets add a sim\\xADple ver\\xADti\\xADcle and pack\\xADage the Vert.x ap\\xADpli\\xADca\\xADtion as typ\\xADi\\xADcal \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"uber\"), \" jar (in the Vert.x world we call them \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"fat\"), \" jars).  The source code of this sec\\xADtion is avail\\xADable \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/kameshsampath/vmp-blog/tree/package\"\n  }), \"here\"), \".\"), mdx(\"p\", null, \"To make \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package\"), \" work cor\\xADrectly we need to add prop\\xADerty called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx.verticle\"), \", which will be used by the vertx-\\u200Bmaven-plugin to set the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Main-Verticle:\"), \" at\\xADtribute of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MANIFEST.MF\"), \".  Please refer to the doc\\xADu\\xADmen\\xADta\\xADtion of  \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vmp.fabric8.io/#vertx:package\"\n  }), \"pack\\xADage\"), \" for other pos\\xADsi\\xADble con\\xADfig\\xADu\\xADra\\xADtions.  There is also a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vmp.fabric8.io/#vertx:examples\"\n  }), \"ex\\xADam\\xADples\"), \" sec\\xADtion of the vertx-\\u200Bmaven-plugin which pro\\xADvides var\\xADi\\xADous sam\\xADples snip\\xADpets.\"), mdx(\"p\", null, \"The up\\xADdated \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \" with the added prop\\xADerty \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-maven-plugin\"), \" is shown below:\"), mdx(Alert, {\n    info: true,\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"Only up\\xADdated sec\\xADtion is shown below, rest of the pom.xml is same as above\")), mdx(Gist, {\n    url: \"https://gist.github.com/kameshsampath/24a1ed6a377b118f06af2c4b4ddf0ca0\",\n    mdxType: \"Gist\"\n  }), mdx(\"p\", null, \"To pack\\xADage the Vert.x ap\\xADpli\\xADca\\xADtion, run the fol\\xADlow\\xADing \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" com\\xADmand from the project di\\xADrec\\xADtory:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"mvn clean package\\n\")), mdx(\"p\", null, \"On suc\\xADcess\\xADful run of the above com\\xADmand you should see the file with name \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"${project.finalName}.jar\"), \" cre\\xADated in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"${project.build.directory}\"), \", you could now do the fol\\xADlow\\xADing to start and run the Vert.x ap\\xADpli\\xADca\\xADtion.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"java -jar \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-variable\"\n  }), \"${project.build.directory}\"), \"/\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-variable\"\n  }), \"${project.finalName}\"), \".jar\\n\")), mdx(\"p\", null, \"The gen\\xADer\\xADated \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MANIFEST.MF\"), \" file is as shown below:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-text\"\n  }), \"Main-Class                               io.vertx.core.Launcher\\nMain-Verticle                            io.fabric8.blog.MainVerticle\\nManifest-Version                         1.0\\n\")), mdx(\"p\", null, \"The source code up to now is avail\\xADable in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/kameshsampath/vmp-blog/tree/package\"\n  }), \"here\")), mdx(\"h3\", {\n    \"id\": \"spi-combination\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#spi-combination\"\n  })), \"SPI Combination\"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package\"), \" goal by de\\xADfault does a SPI com\\xADbi\\xADna\\xADtion, lets say you have a ser\\xADvice file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"com.fasterxml.jackson.core.JsonFactory\"), \" in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"${project.basedir}/src/main/resources/META-INF/services\"), \" with con\\xADtents:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-text\"\n  }), \"foo.bar.baz.MyImpl\\n${combine}\\n\")), mdx(\"p\", null, \"Dur\\xADing pack\\xADag\\xADing, if the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vmp.fabric8.io\"\n  }), \"fab\\xADric8 Vert.x Maven Plu\\xADgin\"), \" finds an\\xADother \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"com.fasterxml.jackson.core.JsonFactory\"), \" ser\\xADvice de\\xADf\\xADi\\xADn\\xADi\\xADtion file within the project de\\xADpen\\xADden\\xADcies with con\\xADtent \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"foo.bar.baz2.My\\xADImpl2\"), \", then it merges the con\\xADtent into \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"com.fasterxml.jackson.core.JsonFactory\"), \" of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"${project.basedir}/src/main/resources/META-INF/services\"), \", re\\xADsult\\xADing in the fol\\xADlow\\xADing con\\xADtent:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-text\"\n  }), \"foo.bar.baz.MyImpl\\nfoo.bar.baz2.MyImpl2\\n\")), mdx(\"p\", null, \"The po\\xADsi\\xADtion of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"${combine}\"), \" con\\xADtrols the or\\xADder\\xADing of the merge, since we added \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"${combine}\"), \" below \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"foo.bar.baz.My\\xADImpl\"), \" all other SPI de\\xADf\\xADi\\xADn\\xADi\\xADtions will be ap\\xADpended below \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"foo.bar.baz.My\\xADImpl\")), mdx(\"h2\", {\n    \"id\": \"whats-next-\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#whats-next-\"\n  })), \"What\\u2019s next ?\"), mdx(\"p\", null, \"It\\u2019s good to have the jar pack\\xADaged and run using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"java -jar uber-jar\"), \", but when doing typ\\xADi\\xADcal de\\xADvel\\xADop\\xADment you don\\u2019t  want to do fre\\xADquent \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" pack\\xADag\\xADing and wish to see your changes au\\xADto\\xADmat\\xADi\\xADcally re\\xADde\\xADployed.\"), mdx(\"p\", null, \"Don\\u2019t worry!!! As part of \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vmp.fabric8.io\"\n  }), \"fab\\xADric8 Vert.x Maven Plu\\xADgin\"), \" we have added the in\\xADcre\\xADmen\\xADtal builder to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" build, which will watch for your source and re\\xADsource changes to per\\xADform au\\xADto\\xADmatic re-\\u200Bbuild and del\\xADe\\xADgate the re\\xADde\\xADploy\\xADment to Vert.x.\"), mdx(\"p\", null, \"Run, re\\xADde\\xADploy and other fea\\xADtures of the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vmp.fabric8.io\"\n  }), \"fab\\xADric8 Vert.x Maven Plu\\xADgin\"), \" will be ex\\xADplored in de\\xADtail in the next part of this se\\xADries, until then have fun with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vmp.fabric8.io\"\n  }), \"fab\\xADric8 Vert.x Maven Plu\\xADgin\"), \"!!\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eThe all new \u003ca href=\"http://vmp.fabric8.io\"\u003efab­ric8 Vert.x Maven Plu­gin\u003c/a\u003e al­lows you to setup, pack­age, run, start, stop and re­de­ploy eas­ily with a very lit­tle con­fig­u­ra­tion re­sult­ing in a less ver­bose \u003ccode\u003epom.xml\u003c/code\u003e.\u003c/p\u003e\u003cdiv class=\"alert info\"\u003e\u003cp\u003eThe plug­in is de­vel­oped under the \u003ca href=\"https://fabric8.io/\"\u003efab­ric8\u003c/a\u003e um­brella.\u003c/p\u003e\u003c/div\u003e\u003cp\u003eTra­di­tion­ally Vert.x ap­pli­ca­tions using \u003ca href=\"http://maven.apache.org\"\u003eApache Maven\u003c/a\u003e need to have one or more of the fol­low­ing plu­g­ins:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://maven.apache.org/plugins/maven-shade-plugin/\"\u003eMaven Shade Plu­gin\u003c/a\u003e - aids in pack­ag­ing a uber jar of Vert.x ap­pli­ca­tion with ad­di­tional con­fig­u­ra­tions to per­form SPI com­bin­ing, MAN­I­FEST.MF en­tries etc.,\u003c/li\u003e\u003cli\u003e\u003ca href=\"http://www.mojohaus.org/exec-maven-plugin/\"\u003eMaven Exec Plu­gin\u003c/a\u003e - aids in start­ing the Vert.x ap­pli­ca­tion\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://maven.apache.org/plugins/maven-ant-plugin/\"\u003eMaven Ant Plu­gin\u003c/a\u003e - aids in stop­ping the run­ning Vert.x ap­pli­ca­tion\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThough these are great plu­g­ins and do what is re­quired, but at the end of the day the de­vel­oper is left with a ver­bose \u003ccode\u003epom.xml\u003c/code\u003e which might be­come harder to main­tain as the ap­pli­ca­tion or its con­fig­u­ra­tion grows. Even if we de­cide to go this way and use those plu­g­ins, there are some things which can’t done or done eas­ily:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ccode\u003erun\u003c/code\u003e an ap­pli­ca­tion on fore­ground - which is a typ­i­cal way dur­ing de­vel­op­ment where the ap­pli­ca­tion starts in fore­ground of \u003ca href=\"http://maven.apache.org\"\u003eApache Maven\u003c/a\u003e build and killed au­to­mat­i­cally once we hit \u003ccode\u003eCtrl + c\u003c/code\u003e(or \u003ccode\u003eCMD + c\u003c/code\u003e on Mac)\u003c/li\u003e\u003cli\u003e\u003ccode\u003eredeploy\u003c/code\u003e is one of the coolest fea­ture of Vert.x al­low­ing us to per­form hot de­ploy­ments. Still we can man­age to do this with IDE sup­port but not na­tively using \u003ca href=\"http://maven.apache.org\"\u003eApache Maven\u003c/a\u003e - typ­i­cal cases where we dis­able \u003cem\u003eAu­to­matic Builds\u003c/em\u003e via IDE\u003c/li\u003e\u003cli\u003e\u003ccode\u003esetup\u003c/code\u003e Vert.x ap­pli­ca­tions with sen­si­ble de­faults and re­quired Vert.x de­pen­den­cies e.g. vertx-​core\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eIn this first blog of fab­ric8 Vert.x Maven Plu­gin se­ries we will help you to get started with this new \u003ca href=\"http://vmp.fabric8.io\"\u003efab­ric8 Vert.x Maven Plu­gin\u003c/a\u003e, high­light­ing how this plug­in helps al­le­vi­at­ing the afore­men­tioned pain points with a less ver­bose \u003ccode\u003epom.xml\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eThe \u003ca href=\"http://maven.apache.org\"\u003eApache Maven\u003c/a\u003e plug­in source code is avail­able at \u003ca href=\"https://github.com/fabric8io/vertx-maven-plugin\"\u003egithub\u003c/a\u003e with \u003ca href=\"http://maven.apache.org\"\u003eApache Maven\u003c/a\u003e plug­in doc­u­men­ta­tion avail­able at \u003ca href=\"http://vmp.fabric8.io\"\u003efab­ric8 Vert.x Maven Plu­gin\u003c/a\u003e\u003c/p\u003e\u003cp\u003eThe source code of the ex­am­ples used in this blog are avail­able at \u003ca href=\"https://github.com/kameshsampath/vmp-blog\"\u003egithub\u003c/a\u003e\u003c/p\u003e\u003ch2 id=\"lets-set-it-up\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#lets-set-it-up\"\u003e\u003c/a\u003eLet’s set it up\u003c/h2\u003e\u003cp\u003eIts very easy to setup and get started. Let’s say you have a project called \u003cem\u003evmp-​blog\u003c/em\u003e with the fol­low­ing con­tent as part of your \u003ccode\u003epom.xml\u003c/code\u003e\u003c/p\u003e\u003cdiv\u003e...waiting for Gist...\u003c/div\u003e\u003cp\u003efrom the project di­rec­tory just run the fol­low­ing com­mand:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003emvn io.fabric8:vertx-maven-plugin:1.0.0:setup\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eOn suc­cess­ful ex­e­cu­tion of the above com­mand the project’s \u003ccode\u003epom.xml\u003c/code\u003e will be up­dated:\u003c/p\u003e\u003cdiv\u003e...waiting for Gist...\u003c/div\u003e\u003cp\u003eThe com­mand did the fol­low­ing for you on the project:\u003c/p\u003e\u003cul\u003e\u003cli\u003eadded cou­ple of prop­er­ties\u003cul\u003e\u003cli\u003e\u003ccode\u003efabric8.vertx.plugin.version\u003c/code\u003e - the lat­est fab­ric8 vert.x maven plug­in ver­sion\u003c/li\u003e\u003cli\u003e\u003ccode\u003evertx.version\u003c/code\u003e - the lat­est Vert.x frame­work ver­sion\u003c/li\u003e\u003c/ul\u003e\u003c/li\u003e\u003cli\u003eadded the Vert.x de­pen­dency BOM and vertx-​core de­pen­dency cor­re­spond­ing to \u003ccode\u003evertx.version\u003c/code\u003e\u003c/li\u003e\u003cli\u003eadded \u003ccode\u003evertx-maven-plugin\u003c/code\u003e with a sin­gle ex­e­cu­tion for goals \u003ca href=\"https://vmp.fabric8.io/#vertx:initalize\"\u003eini­tial­ize\u003c/a\u003e and \u003ca href=\"https://vmp.fabric8.io/#vertx:package\"\u003epack­age\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThe source code cre­ated by this step is avail­able \u003ca href=\"https://github.com/kameshsampath/vmp-blog/tree/setup\"\u003ehere\u003c/a\u003e\u003c/p\u003e\u003cp\u003eEt voilà, you are now all set to go with your Vert.x ap­pli­ca­tion build­ing with \u003ca href=\"http://maven.apache.org\"\u003eApache Maven\u003c/a\u003e!!\u003c/p\u003e\u003ch2 id=\"lets-package-it\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#lets-package-it\"\u003e\u003c/a\u003eLet’s package it\u003c/h2\u003e\u003cp\u003eNow that we have set up our project to use \u003ccode\u003evertx-maven-plugin\u003c/code\u003e, lets add a sim­ple ver­ti­cle and pack­age the Vert.x ap­pli­ca­tion as typ­i­cal \u003cem\u003euber\u003c/em\u003e jar (in the Vert.x world we call them \u003cem\u003efat\u003c/em\u003e jars).  The source code of this sec­tion is avail­able \u003ca href=\"https://github.com/kameshsampath/vmp-blog/tree/package\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eTo make \u003ccode\u003epackage\u003c/code\u003e work cor­rectly we need to add prop­erty called \u003ccode\u003evertx.verticle\u003c/code\u003e, which will be used by the vertx-​maven-plugin to set the \u003ccode\u003eMain-Verticle:\u003c/code\u003e at­tribute of the \u003ccode\u003eMANIFEST.MF\u003c/code\u003e.  Please refer to the doc­u­men­ta­tion of  \u003ca href=\"https://vmp.fabric8.io/#vertx:package\"\u003epack­age\u003c/a\u003e for other pos­si­ble con­fig­u­ra­tions.  There is also a \u003ca href=\"https://vmp.fabric8.io/#vertx:examples\"\u003eex­am­ples\u003c/a\u003e sec­tion of the vertx-​maven-plugin which pro­vides var­i­ous sam­ples snip­pets.\u003c/p\u003e\u003cp\u003eThe up­dated \u003ccode\u003epom.xml\u003c/code\u003e with the added prop­erty \u003ccode\u003evertx-maven-plugin\u003c/code\u003e is shown below:\u003c/p\u003e\u003cdiv class=\"alert info\"\u003e\u003cp\u003eOnly up­dated sec­tion is shown below, rest of the pom.xml is same as above\u003c/p\u003e\u003c/div\u003e\u003cdiv\u003e...waiting for Gist...\u003c/div\u003e\u003cp\u003eTo pack­age the Vert.x ap­pli­ca­tion, run the fol­low­ing \u003ca href=\"http://maven.apache.org\"\u003eApache Maven\u003c/a\u003e com­mand from the project di­rec­tory:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003emvn clean package\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eOn suc­cess­ful run of the above com­mand you should see the file with name \u003ccode\u003e${project.finalName}.jar\u003c/code\u003e cre­ated in the \u003ccode\u003e${project.build.directory}\u003c/code\u003e, you could now do the fol­low­ing to start and run the Vert.x ap­pli­ca­tion.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ejava -jar \u003cspan class=\"hljs-variable\"\u003e${project.build.directory}\u003c/span\u003e/\u003cspan class=\"hljs-variable\"\u003e${project.finalName}\u003c/span\u003e.jar\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe gen­er­ated \u003ccode\u003eMANIFEST.MF\u003c/code\u003e file is as shown below:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-text\"\u003eMain-Class                               io.vertx.core.Launcher\nMain-Verticle                            io.fabric8.blog.MainVerticle\nManifest-Version                         1.0\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe source code up to now is avail­able in \u003ca href=\"https://github.com/kameshsampath/vmp-blog/tree/package\"\u003ehere\u003c/a\u003e\u003c/p\u003e\u003ch3 id=\"spi-combination\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#spi-combination\"\u003e\u003c/a\u003eSPI Combination\u003c/h3\u003e\u003cp\u003eThe \u003ccode\u003epackage\u003c/code\u003e goal by de­fault does a SPI com­bi­na­tion, lets say you have a ser­vice file called \u003ccode\u003ecom.fasterxml.jackson.core.JsonFactory\u003c/code\u003e in \u003ccode\u003e${project.basedir}/src/main/resources/META-INF/services\u003c/code\u003e with con­tents:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-text\"\u003efoo.bar.baz.MyImpl\n${combine}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eDur­ing pack­ag­ing, if the \u003ca href=\"http://vmp.fabric8.io\"\u003efab­ric8 Vert.x Maven Plu­gin\u003c/a\u003e finds an­other \u003ccode\u003ecom.fasterxml.jackson.core.JsonFactory\u003c/code\u003e ser­vice de­f­i­n­i­tion file within the project de­pen­den­cies with con­tent \u003cem\u003efoo.bar.baz2.My­Impl2\u003c/em\u003e, then it merges the con­tent into \u003ccode\u003ecom.fasterxml.jackson.core.JsonFactory\u003c/code\u003e of \u003ccode\u003e${project.basedir}/src/main/resources/META-INF/services\u003c/code\u003e, re­sult­ing in the fol­low­ing con­tent:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-text\"\u003efoo.bar.baz.MyImpl\nfoo.bar.baz2.MyImpl2\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe po­si­tion of \u003ccode\u003e${combine}\u003c/code\u003e con­trols the or­der­ing of the merge, since we added \u003ccode\u003e${combine}\u003c/code\u003e below \u003cem\u003efoo.bar.baz.My­Impl\u003c/em\u003e all other SPI de­f­i­n­i­tions will be ap­pended below \u003cem\u003efoo.bar.baz.My­Impl\u003c/em\u003e\u003c/p\u003e\u003ch2 id=\"whats-next-\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#whats-next-\"\u003e\u003c/a\u003eWhat’s next ?\u003c/h2\u003e\u003cp\u003eIt’s good to have the jar pack­aged and run using \u003ccode\u003ejava -jar uber-jar\u003c/code\u003e, but when doing typ­i­cal de­vel­op­ment you don’t  want to do fre­quent \u003ca href=\"http://maven.apache.org\"\u003eApache Maven\u003c/a\u003e pack­ag­ing and wish to see your changes au­to­mat­i­cally re­de­ployed.\u003c/p\u003e\u003cp\u003eDon’t worry!!! As part of \u003ca href=\"http://vmp.fabric8.io\"\u003efab­ric8 Vert.x Maven Plu­gin\u003c/a\u003e we have added the in­cre­men­tal builder to \u003ca href=\"http://maven.apache.org\"\u003eApache Maven\u003c/a\u003e build, which will watch for your source and re­source changes to per­form au­to­matic re-​build and del­e­gate the re­de­ploy­ment to Vert.x.\u003c/p\u003e\u003cp\u003eRun, re­de­ploy and other fea­tures of the \u003ca href=\"http://vmp.fabric8.io\"\u003efab­ric8 Vert.x Maven Plu­gin\u003c/a\u003e will be ex­plored in de­tail in the next part of this se­ries, until then have fun with \u003ca href=\"http://vmp.fabric8.io\"\u003efab­ric8 Vert.x Maven Plu­gin\u003c/a\u003e!!\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"maven","tf":23},{"term":"plugin","tf":21},{"term":"applic","tf":12},{"term":"fabric8","tf":10},{"term":"packag","tf":10},{"term":"apach","tf":9},{"term":"run","tf":8},{"term":"us","tf":8},{"term":"follow","tf":7},{"term":"project","tf":7},{"term":"start","tf":6},{"term":"will","tf":6},{"term":"sourc","tf":6},{"term":"avail","tf":6},{"term":"ad","tf":6},{"term":"build","tf":5},{"term":"code","tf":5},{"term":"let","tf":5},{"term":"content","tf":5},{"term":"command","tf":5},{"term":"configur","tf":4},{"term":"develop","tf":4},{"term":"jar","tf":4},{"term":"spi","tf":4},{"term":"typic","tf":4}]}],"numPages":16},"__N_SSG":true},"page":"/blog/[[...slug]]","query":{"slug":["page","10"]},"buildId":"C_I4gGOFTI-4fY_eV8SrD","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-5a9a91c546a2d4fb4cc4.js"></script><script src="/_next/static/chunks/main-79fb140702e98d221643.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/framework.4df82c4704a0136f6a4b.js" async=""></script><script src="/_next/static/chunks/commons.7726cd762eacbba73350.js" async=""></script><script src="/_next/static/chunks/styles.8577696c4e17514af975.js" async=""></script><script src="/_next/static/chunks/pages/_app-8beb549608891d89d2f4.js" async=""></script><script src="/_next/static/chunks/4f16b6dee4e09daf8bf4ac98169064eb9dcaeaf1.72e9236f86e8a2b5e7a0.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-3cd5466df6cee536d361.js" async=""></script><script src="/_next/static/C_I4gGOFTI-4fY_eV8SrD/_buildManifest.js" async=""></script><script src="/_next/static/C_I4gGOFTI-4fY_eV8SrD/_ssgManifest.js" async=""></script></body></html>