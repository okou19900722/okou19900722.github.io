<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><title>Page 5 | Blog | Eclipse Vert.x</title><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/styles.176b8cb6.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.176b8cb6.chunk.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-79fb140702e98d221643.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.4df82c4704a0136f6a4b.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.7726cd762eacbba73350.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.8577696c4e17514af975.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-8beb549608891d89d2f4.js" as="script"/><link rel="preload" href="/_next/static/chunks/4f16b6dee4e09daf8bf4ac98169064eb9dcaeaf1.72e9236f86e8a2b5e7a0.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-3cd5466df6cee536d361.js" as="script"/></head><body><div id="__next"><main class="page"><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><a class="navbar-menu-item" href="/introduction-to-vertx-and-reactive/">Intro</a><a class="navbar-menu-item" href="/docs/">Docs</a><a class="navbar-menu-item" href="/faq/">FAQ</a><a class="navbar-menu-item" href="/blog/">Blog</a><a class="navbar-menu-item" href="/community/">Community</a></div><div class="navbar-social"><div class="dropdown"><a class="dropdown-title">v4.0.0<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"><a href="/docs/"><li class="dropdown-item active"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dropdown-check-icon"><polyline points="20 6 9 17 4 12"></polyline></svg>Latest (v<!-- -->4.0.0<!-- -->)</li></a><a href="/docs/3.9.2"><li class="dropdown-item">v<!-- -->3.9.2</li></a><a href="/docs/3.9.1"><li class="dropdown-item">v<!-- -->3.9.1</li></a><a href="/docs/3.9.0"><li class="dropdown-item">v<!-- -->3.9.0</li></a></ul></div><a href="https://github.com/vert-x3/vertx-awesome" class="navbar-social-link" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M23.996 10.648l-6.153-5.644-.865.944 5.127 4.7H1.895l5.127-4.705L6.157 5 .004 10.648H0v3.72c0 1.682 1.62 3.052 3.61 3.052h3.794c1.99 0 3.61-1.37 3.61-3.051v-2.445h1.968v2.445c0 1.681 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.72z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" class="navbar-social-link" title="Stack Overflow" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>Stack Overflow</title><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" class="navbar-social-link" title="YouTube" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>YouTube</title><path d="M23.495 6.205a3.007 3.007 0 0 0-2.088-2.088c-1.87-.501-9.396-.501-9.396-.501s-7.507-.01-9.396.501A3.007 3.007 0 0 0 .527 6.205a31.247 31.247 0 0 0-.522 5.805 31.247 31.247 0 0 0 .522 5.783 3.007 3.007 0 0 0 2.088 2.088c1.868.502 9.396.502 9.396.502s7.506 0 9.396-.502a3.007 3.007 0 0 0 2.088-2.088 31.247 31.247 0 0 0 .5-5.783 31.247 31.247 0 0 0-.5-5.805zM9.609 15.601V8.408l6.264 3.602z"></path></svg></a><a href="https://gitter.im/eclipse-vertx/vertx-users" class="navbar-social-link" title="Gitter" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Gitter"><title>Gitter</title><path d="M8.501 4.001H10.5V24H8.501V4.001zm6.999 0V24h-2V4.001h2zM3.5 0h2.001v15H3.5V0zm15 4.001h2V15h-2V4.001z"></path></svg></a></div></div></div></div></header><div class="page-content"><div class="container"><div class="blog"><div class="blog-navbar"><h2>Blog</h2><ul><li><a href="/blog/">All posts</a></li><li><a href="/blog/category/releases/">releases</a></li><li><a href="/blog/category/guides/">guides</a></li><li><a href="/blog/category/news/">news</a></li></ul></div><div class="blog-entries"><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">10 December 2018</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/http-response-validation-with-the-vert-x-web-client/">HTTP response validation with the Vert.x Web Client</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/tsegismont.png?size=50"/><a href="https://github.com/tsegismont" target="_blank" rel="noopener noreferrer">Thomas Segismont</a></li></ul></span><p class="blog-entry-summary">Learn how to use response predicates from the Vert.x Web module to validate HTTP responses and to automatically generate error messages.</p><span class="read-more-link"><a href="/blog/http-response-validation-with-the-vert-x-web-client/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">6 December 2018</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/the-rss-reader-tutorial-step-3/">The RSS reader tutorial (Step 3)</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/Sammers21.png?size=50"/><a href="https://github.com/Sammers21" target="_blank" rel="noopener noreferrer">Pavel Drankov</a></li></ul></span><p class="blog-entry-summary">This is the third installment of our Vert.x Cassandra Client tutorial. We will implement the last RSS endpoint serving a list of articles related to a specific channel.</p><span class="read-more-link"><a href="/blog/the-rss-reader-tutorial-step-3/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">3 December 2018</span><a class="blog-entry-category" href="/blog/category/releases/">releases</a></div><h3><a href="/blog/eclipse-vert-x-3-6-0-released/">Eclipse Vert.x 3.6.0 released!</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/vietj.png?size=50"/><a href="https://github.com/vietj" target="_blank" rel="noopener noreferrer">Julien Viet</a></li></ul></span><p class="blog-entry-summary">We are pleased to announce the Eclipse Vert.x 3.6.0 release.</p><span class="read-more-link"><a href="/blog/eclipse-vert-x-3-6-0-released/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">3 October 2018</span><a class="blog-entry-category" href="/blog/category/releases/">releases</a></div><h3><a href="/blog/eclipse-vert-x-3-5-4/">Eclipse Vert.x 3.5.4</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/vietj.png?size=50"/><a href="https://github.com/vietj" target="_blank" rel="noopener noreferrer">Julien Viet</a></li></ul></span><p class="blog-entry-summary">We have just released Vert.x 3.5.4, a bug fix release of Vert.x 3.5.x.</p><span class="read-more-link"><a href="/blog/eclipse-vert-x-3-5-4/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">5 September 2018</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/the-rss-reader-tutorial-step-2/">The RSS reader tutorial (Step 2)</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/Sammers21.png?size=50"/><a href="https://github.com/Sammers21" target="_blank" rel="noopener noreferrer">Pavel Drankov</a></li></ul></span><p class="blog-entry-summary">In this second installment of our Vert.x Cassandra Client tutorial, we will add an endpoint that produces an array of RSS channels for a given user ID.</p><span class="read-more-link"><a href="/blog/the-rss-reader-tutorial-step-2/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">20 August 2018</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/the-rss-reader-tutorial/">The RSS reader tutorial</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/Sammers21.png?size=50"/><a href="https://github.com/Sammers21" target="_blank" rel="noopener noreferrer">Pavel Drankov</a></li></ul></span><p class="blog-entry-summary">In this tutorial, you will learn how to use the Eclipse Vert.x Cassandra client in practice. We will develop an RSS reader with three HTTP endpoints.</p><span class="read-more-link"><a href="/blog/the-rss-reader-tutorial/">Read more</a></span></div></div><div class="pagination"><div class="pagination-page"><a href="/blog/page/4/">«</a></div><div class="pagination-page"><a href="/blog/">1</a></div><div class="pagination-page disabled">…</div><div class="pagination-page"><a href="/blog/page/4/">4</a></div><div class="pagination-page active"><a href="/blog/page/5/">5</a></div><div class="pagination-page"><a href="/blog/page/6/">6</a></div><div class="pagination-page"><a href="/blog/page/7/">7</a></div><div class="pagination-page"><a href="/blog/page/8/">8</a></div><div class="pagination-page disabled">…</div><div class="pagination-page"><a href="/blog/page/16/">16</a></div><div class="pagination-page"><a href="/blog/page/6/">»</a></div></div></div></div></div><footer><div class="container"><div class="footer-nav-section"><div class="footer-nav-list footer-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="footer-nav-list"><h5>Eclipse Vert.x</h5><ul class=""><li><a class="navbar-menu-item" href="/docs/">Docs</a></li><li><a href="/faq/">FAQ</a></li><li><a href="/blog/">Blog</a></li><li><a href="/community/">Community</a></li></ul></div><div class="footer-nav-list"><h5>Eclipse</h5><ul class=""><li><a href="https://www.eclipse.org/">Eclipse Foundation</a></li><li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li><li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li><li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li><li><a href="https://www.eclipse.org/legal/">Legal Resources</a></li></ul></div></div><div class="footer-copyright"><div class="footer-copyright-remarks">© <!-- -->2020<!-- --> Eclipse Vert.x<br/>Eclipse Vert.x is open source and dual-licensed under the <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer">Eclipse Public License 2.0</a> and the <a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer">Apache License 2.0</a>. <br class="footer-copyright-break"/>Website design by <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer">Michel Krämer</a>.</div><div class="footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0TDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"categories":["releases","guides","news"],"page":5,"posts":[{"filename":"blog/2018-12-10-http-response-validation-with-the-vert-x-web-client.mdx","date":"2018-12-10","slug":"http-response-validation-with-the-vert-x-web-client","meta":{"title":"HTTP response validation with the Vert.x Web Client","category":"guides","authors":[{"name":"Thomas Segismont","github_id":"tsegismont"}],"summary":"Learn how to use response predicates from the Vert.x Web module to validate HTTP responses and to automatically generate error messages."},"readingTime":{"text":"4 min read","minutes":3.09,"time":185399.99999999997,"words":618},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"By de\\xADfault, a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/vertx-web-client/java/\"\n  }), \"Vert.x Web Client\"), \" re\\xADquest ends with an error only if some\\xADthing wrong hap\\xADpens at the net\\xADwork level.\\nIn other words, a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"404 Not Found\"), \" re\\xADsponse, or a re\\xADsponse with the wrong con\\xADtent type, are \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"not\"), \" con\\xADsid\\xADered as fail\\xADures.\"), mdx(\"p\", null, \"Hence, you would usu\\xADally per\\xADform san\\xADity checks man\\xADu\\xADally after the re\\xADsponse is re\\xADceived:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-clojure\"\n  }), \"client\\n  .get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"myserver.mycompany.com\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/some-uri\\\"\"), \")\\n  .send(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"ar\"), \" -\u003e {\\n    if (\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"ar.succeeded\"), \"()) {\\n      HttpResponse\u003cBuffer\u003e response = ar.result()\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n      if (\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"response.statusCode\"), \"() == \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"200\"), \" \u0026\u0026 response.getHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \").equals(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"application/json\\\"\"), \")) {\\n        // Decode the body as a json object\\n        JsonObject body = response.bodyAsJsonObject()\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n      } else {\\n        System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Something went wrong \\\"\"), \" + response.statusCode())\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n      }\\n    } else {\\n      System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Something went wrong \\\"\"), \" + ar.cause().getMessage())\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n    }\\n  })\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n\")), mdx(\"p\", null, \"Start\\xADing with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/blog/eclipse-vert-x-3-6-0-released/\"\n  }), \"Vert.x 3.6\"), \", you can can trade flex\\xADi\\xADbil\\xADity for clar\\xADity and con\\xADcise\\xADness using \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"re\\xADsponse pred\\xADi\\xADcates\"), \".\"), mdx(\"h2\", {\n    \"id\": \"response-predicates\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#response-predicates\"\n  })), \"Response predicates\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/apidocs/io/vertx/ext/web/client/predicate/ResponsePredicate.html\"\n  }), \"Re\\xADsponse pred\\xADi\\xADcates\"), \" can fail a re\\xADquest when the re\\xADsponse does not match cri\\xADte\\xADrion.\"), mdx(\"p\", null, \"The Web Client mod\\xADule comes with a set of ready-\\u200Bto-use pred\\xADi\\xADcates:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-clojure\"\n  }), \"client\\n  .get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"myserver.mycompany.com\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/some-uri\\\"\"), \")\\n  .expect(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"ResponsePredicate.SC_SUCCESS\"), \")\\n  .expect(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"ResponsePredicate.JSON\"), \")\\n  .send(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"ar\"), \" -\u003e {\\n    if (\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"ar.succeeded\"), \"()) {\\n      HttpResponse\u003cBuffer\u003e response = ar.result()\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n      // Safely decode the body as a json object\\n      JsonObject body = response.bodyAsJsonObject()\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n    } else {\\n      System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Something went wrong \\\"\"), \" + ar.cause().getMessage())\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n    }\\n  })\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n\\n\")), mdx(\"p\", null, \"The web is full of HTTP/JSON end\\xADpoints, so there is no doubt the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ResponsePredicate.SC_SUCCESS\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ResponsePredicate.JSON\"), \" can be handy.\"), mdx(\"p\", null, \"Nev\\xADer\\xADthe\\xADless, you might also need to check that the sta\\xADtus code is whithin a spe\\xADcific range:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-scheme\"\n  }), \"client\\n  .get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"8080\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"myserver.mycompany.com\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/some-uri\\\"\"), \")\\n  .expect(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"ResponsePredicate.status\"), \"(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"200\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"202\"), \"))\\n  .send(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"ar\"), \" -\u003e {\\n    // ....\\n  })\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n\")), mdx(\"p\", null, \"Or that the con\\xADtent is of a spe\\xADcific type: \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-clojure\"\n  }), \"client\\n  .get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"myserver.mycompany.com\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/some-uri\\\"\"), \")\\n  .expect(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"ResponsePredicate.contentType\"), \"(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"some/content-type\\\"\"), \"))\\n  .send(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"ar\"), \" -\u003e {\\n    // ....\\n  })\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n\")), mdx(\"p\", null, \"Please refer to the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/apidocs/io/vertx/ext/web/client/predicate/ResponsePredicate.html\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"ResponsePredicate\"), \" doc\\xADu\\xADmen\\xADta\\xADtion\"), \" for a full list of pre\\xADde\\xADfined pred\\xADi\\xADcates.\"), mdx(\"h3\", {\n    \"id\": \"custom-predicates\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#custom-predicates\"\n  })), \"Custom predicates\"), mdx(\"p\", null, \"Even\\xADtu\\xADally, pred\\xADi\\xADcates were not de\\xADsigned for sta\\xADtus code and con\\xADtent type check\\xADing only, so feel free to cre\\xADate your own val\\xADi\\xADda\\xADtion code:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-clojure\"\n  }), \"// Check CORS header allowing to do POST\\nFunction\u003cHttpResponse\u003cVoid\u003e, ResponsePredicateResult\u003e methodsPredicate = resp -\u003e {\\n  String methods = resp.getHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Access-Control-Allow-Methods\\\"\"), \")\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n  if (\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"methods\"), \" != null) {\\n    if (\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"methods.contains\"), \"(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"POST\\\"\"), \")) {\\n      return ResponsePredicateResult.success()\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n    }\\n  }\\n  return ResponsePredicateResult.failure(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Does not work\\\"\"), \")\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n}\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n\\n// Send pre-flight CORS request\\nclient\\n  .request(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"HttpMethod.OPTIONS\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"myserver.mycompany.com\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/some-uri\\\"\"), \")\\n  .putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Origin\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Server-b.com\\\"\"), \")\\n  .putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Access-Control-Request-Method\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"POST\\\"\"), \")\\n  .expect(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"methodsPredicate\"), \")\\n  .send(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"ar\"), \" -\u003e {\\n    if (\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"ar.succeeded\"), \"()) {\\n      // Process the POST request now\\n    } else {\\n      System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Something went wrong \\\"\"), \" + ar.cause().getMessage())\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n    }\\n  })\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n\")), mdx(\"p\", null, \"Note that re\\xADsponse pred\\xADi\\xADcates are eval\\xADu\\xADated \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"be\\xADfore\"), \" the re\\xADsponse body is re\\xADceived.\\nThere\\xADfore \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"you can\\u2019t in\\xADspect the re\\xADsponse body\"), \" in a pred\\xADi\\xADcate test func\\xADtion, only sta\\xADtus code, sta\\xADtus mes\\xADsage and re\\xADsponse head\\xADers.\"), mdx(\"h2\", {\n    \"id\": \"dealing-with-failures\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#dealing-with-failures\"\n  })), \"Dealing with failures\"), mdx(\"p\", null, \"By de\\xADfault, re\\xADsponse pred\\xADi\\xADcates (in\\xADclud\\xADing the pre\\xADde\\xADfined ones) use a generic error con\\xADverter which dis\\xADcards the re\\xADsponse body and con\\xADveys a sim\\xADple mes\\xADsage.\\nYou can cus\\xADtomize the ex\\xADcep\\xADtion class by chang\\xADing the error con\\xADverter:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-clojure\"\n  }), \"ResponsePredicate predicate = ResponsePredicate.create(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"ResponsePredicate.SC_SUCCESS\"), \", result -\u003e {\\n  return new MyCustomException(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"result.message\"), \"())\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n})\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n\")), mdx(\"p\", null, \"Be\\xADware that cre\\xADat\\xADing ex\\xADcep\\xADtions in Java comes with the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"per\\xADfor\\xADmance cost\"), \" of cap\\xADtur\\xADing the call stack.\\nThe generic error con\\xADverter gen\\xADer\\xADates ex\\xADcep\\xADtions that do not cap\\xADture it.\"), mdx(\"h3\", {\n    \"id\": \"reading-details-in-error-responses\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#reading-details-in-error-responses\"\n  })), \"Reading details in error responses\"), mdx(\"p\", null, \"Many web APIs pro\\xADvide de\\xADtails in error re\\xADsponses.\\nFor ex\\xADam\\xADple, the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://developer.marvel.com/docs\"\n  }), \"Mar\\xADvel API\"), \" uses this JSON ob\\xADject for\\xADmat:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-json\"\n  }), \"{\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"code\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"InvalidCredentials\\\"\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"message\\\"\"), \": \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"The passed API key is invalid.\\\"\"), \"\\n}\\n\")), mdx(\"p\", null, \"To avoid los\\xADing this in\\xADfor\\xADma\\xADtion, it is pos\\xADsi\\xADble to wait for the re\\xADsponse body to be fully re\\xADceived be\\xADfore the error con\\xADverter is called:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-reasonml\"\n  }), \"ErrorConverter converter = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-module-access\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-module\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-identifier\"\n  }), \"ErrorConverter\"), \".\")), \"create\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-constructor\"\n  }), \"FullBody(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"result\"), \" -\u003e {\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-operator\"\n  }), \"/\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-operator\"\n  }), \"/\"), \" Invoked \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"after\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"the\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"response\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"body\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"is\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"fully\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"received\"), \"\\n  HttpResponse\u003cBuffer\u003e \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"response\"), \" = \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"result\"), \".\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"response\"), \"()\"), \";\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (response.get\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-constructor\"\n  }), \"Header(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \")\"), \".equals(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"application/json\\\"\"), \")) {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Error body is JSON data\"), \"\\n    JsonObject body = response.body\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-constructor\"\n  }), \"AsJsonObject()\"), \";\\n    return \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-constructor\"\n  }), \"MyCustomException(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"body\"), \".\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"getString\"), \"(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"code\\\"\"), \")\"), \", body.get\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-constructor\"\n  }), \"String(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"message\\\"\"), \")\"), \");\\n  }\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Fallback to defaut message\"), \"\\n  return \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-constructor\"\n  }), \"MyCustomException(\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"result\"), \".\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"message\"), \"()\"), \");\\n});\\n\\nResponsePredicate predicate = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-module-access\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-module\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-identifier\"\n  }), \"ResponsePredicate\"), \".\")), \"create(ResponsePredicate.SC_SUCCESS, converter);\\n\")), mdx(\"p\", null, \"That\\u2019s it! Feel free to com\\xADment here or ask ques\\xADtions on our \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/community\"\n  }), \"com\\xADmu\\xADnity chan\\xADnels\"), \".\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eBy de­fault, a \u003ca href=\"/docs/vertx-web-client/java/\"\u003eVert.x Web Client\u003c/a\u003e re­quest ends with an error only if some­thing wrong hap­pens at the net­work level.\nIn other words, a \u003ccode\u003e404 Not Found\u003c/code\u003e re­sponse, or a re­sponse with the wrong con­tent type, are \u003cstrong\u003enot\u003c/strong\u003e con­sid­ered as fail­ures.\u003c/p\u003e\u003cp\u003eHence, you would usu­ally per­form san­ity checks man­u­ally after the re­sponse is re­ceived:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-clojure\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .send(\u003cspan class=\"hljs-name\"\u003ear\u003c/span\u003e -\u0026gt; {\n    if (\u003cspan class=\"hljs-name\"\u003ear.succeeded\u003c/span\u003e()) {\n      HttpResponse\u0026lt;Buffer\u0026gt; response = ar.result()\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n      if (\u003cspan class=\"hljs-name\"\u003eresponse.statusCode\u003c/span\u003e() == \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e \u0026amp;\u0026amp; response.getHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e).equals(\u003cspan class=\"hljs-string\"\u003e\u0026quot;application/json\u0026quot;\u003c/span\u003e)) {\n        // Decode the body as a json object\n        JsonObject body = response.bodyAsJsonObject()\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n      } else {\n        System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + response.statusCode())\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n      }\n    } else {\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + ar.cause().getMessage())\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n    }\n  })\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eStart­ing with \u003ca href=\"/blog/eclipse-vert-x-3-6-0-released/\"\u003eVert.x 3.6\u003c/a\u003e, you can can trade flex­i­bil­ity for clar­ity and con­cise­ness using \u003cem\u003ere­sponse pred­i­cates\u003c/em\u003e.\u003c/p\u003e\u003ch2 id=\"response-predicates\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#response-predicates\"\u003e\u003c/a\u003eResponse predicates\u003c/h2\u003e\u003cp\u003e\u003ca href=\"/docs/apidocs/io/vertx/ext/web/client/predicate/ResponsePredicate.html\"\u003eRe­sponse pred­i­cates\u003c/a\u003e can fail a re­quest when the re­sponse does not match cri­te­rion.\u003c/p\u003e\u003cp\u003eThe Web Client mod­ule comes with a set of ready-​to-use pred­i­cates:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-clojure\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .expect(\u003cspan class=\"hljs-name\"\u003eResponsePredicate.SC_SUCCESS\u003c/span\u003e)\n  .expect(\u003cspan class=\"hljs-name\"\u003eResponsePredicate.JSON\u003c/span\u003e)\n  .send(\u003cspan class=\"hljs-name\"\u003ear\u003c/span\u003e -\u0026gt; {\n    if (\u003cspan class=\"hljs-name\"\u003ear.succeeded\u003c/span\u003e()) {\n      HttpResponse\u0026lt;Buffer\u0026gt; response = ar.result()\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n      // Safely decode the body as a json object\n      JsonObject body = response.bodyAsJsonObject()\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n    } else {\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + ar.cause().getMessage())\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n    }\n  })\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe web is full of HTTP/JSON end­points, so there is no doubt the \u003ccode\u003eResponsePredicate.SC_SUCCESS\u003c/code\u003e and \u003ccode\u003eResponsePredicate.JSON\u003c/code\u003e can be handy.\u003c/p\u003e\u003cp\u003eNev­er­the­less, you might also need to check that the sta­tus code is whithin a spe­cific range:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003eclient\n  .get(\u003cspan class=\"hljs-name\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .expect(\u003cspan class=\"hljs-name\"\u003eResponsePredicate.status\u003c/span\u003e(\u003cspan class=\"hljs-name\"\u003e200\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e202\u003c/span\u003e))\n  .send(\u003cspan class=\"hljs-name\"\u003ear\u003c/span\u003e -\u0026gt; {\n    // ....\n  })\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eOr that the con­tent is of a spe­cific type: \u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-clojure\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .expect(\u003cspan class=\"hljs-name\"\u003eResponsePredicate.contentType\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;some/content-type\u0026quot;\u003c/span\u003e))\n  .send(\u003cspan class=\"hljs-name\"\u003ear\u003c/span\u003e -\u0026gt; {\n    // ....\n  })\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003ePlease refer to the \u003ca href=\"/docs/apidocs/io/vertx/ext/web/client/predicate/ResponsePredicate.html\"\u003e\u003ccode\u003eResponsePredicate\u003c/code\u003e doc­u­men­ta­tion\u003c/a\u003e for a full list of pre­de­fined pred­i­cates.\u003c/p\u003e\u003ch3 id=\"custom-predicates\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#custom-predicates\"\u003e\u003c/a\u003eCustom predicates\u003c/h3\u003e\u003cp\u003eEven­tu­ally, pred­i­cates were not de­signed for sta­tus code and con­tent type check­ing only, so feel free to cre­ate your own val­i­da­tion code:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-clojure\"\u003e// Check CORS header allowing to do POST\nFunction\u0026lt;HttpResponse\u0026lt;Void\u0026gt;, ResponsePredicateResult\u0026gt; methodsPredicate = resp -\u0026gt; {\n  String methods = resp.getHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Access-Control-Allow-Methods\u0026quot;\u003c/span\u003e)\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n  if (\u003cspan class=\"hljs-name\"\u003emethods\u003c/span\u003e != null) {\n    if (\u003cspan class=\"hljs-name\"\u003emethods.contains\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;POST\u0026quot;\u003c/span\u003e)) {\n      return ResponsePredicateResult.success()\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n    }\n  }\n  return ResponsePredicateResult.failure(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Does not work\u0026quot;\u003c/span\u003e)\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n}\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n\n// Send pre-flight CORS request\nclient\n  .request(\u003cspan class=\"hljs-name\"\u003eHttpMethod.OPTIONS\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Origin\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Server-b.com\u0026quot;\u003c/span\u003e)\n  .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Access-Control-Request-Method\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;POST\u0026quot;\u003c/span\u003e)\n  .expect(\u003cspan class=\"hljs-name\"\u003emethodsPredicate\u003c/span\u003e)\n  .send(\u003cspan class=\"hljs-name\"\u003ear\u003c/span\u003e -\u0026gt; {\n    if (\u003cspan class=\"hljs-name\"\u003ear.succeeded\u003c/span\u003e()) {\n      // Process the POST request now\n    } else {\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + ar.cause().getMessage())\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n    }\n  })\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNote that re­sponse pred­i­cates are eval­u­ated \u003cem\u003ebe­fore\u003c/em\u003e the re­sponse body is re­ceived.\nThere­fore \u003cstrong\u003eyou can’t in­spect the re­sponse body\u003c/strong\u003e in a pred­i­cate test func­tion, only sta­tus code, sta­tus mes­sage and re­sponse head­ers.\u003c/p\u003e\u003ch2 id=\"dealing-with-failures\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#dealing-with-failures\"\u003e\u003c/a\u003eDealing with failures\u003c/h2\u003e\u003cp\u003eBy de­fault, re­sponse pred­i­cates (in­clud­ing the pre­de­fined ones) use a generic error con­verter which dis­cards the re­sponse body and con­veys a sim­ple mes­sage.\nYou can cus­tomize the ex­cep­tion class by chang­ing the error con­verter:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-clojure\"\u003eResponsePredicate predicate = ResponsePredicate.create(\u003cspan class=\"hljs-name\"\u003eResponsePredicate.SC_SUCCESS\u003c/span\u003e, result -\u0026gt; {\n  return new MyCustomException(\u003cspan class=\"hljs-name\"\u003eresult.message\u003c/span\u003e())\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n})\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eBe­ware that cre­at­ing ex­cep­tions in Java comes with the \u003cstrong\u003eper­for­mance cost\u003c/strong\u003e of cap­tur­ing the call stack.\nThe generic error con­verter gen­er­ates ex­cep­tions that do not cap­ture it.\u003c/p\u003e\u003ch3 id=\"reading-details-in-error-responses\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#reading-details-in-error-responses\"\u003e\u003c/a\u003eReading details in error responses\u003c/h3\u003e\u003cp\u003eMany web APIs pro­vide de­tails in error re­sponses.\nFor ex­am­ple, the \u003ca href=\"https://developer.marvel.com/docs\"\u003eMar­vel API\u003c/a\u003e uses this JSON ob­ject for­mat:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e{\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;code\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;InvalidCredentials\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;message\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;The passed API key is invalid.\u0026quot;\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eTo avoid los­ing this in­for­ma­tion, it is pos­si­ble to wait for the re­sponse body to be fully re­ceived be­fore the error con­verter is called:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-reasonml\"\u003eErrorConverter converter = \u003cspan class=\"hljs-module-access\"\u003e\u003cspan class=\"hljs-module\"\u003e\u003cspan class=\"hljs-identifier\"\u003eErrorConverter\u003c/span\u003e.\u003c/span\u003e\u003c/span\u003ecreate\u003cspan class=\"hljs-constructor\"\u003eFullBody(\u003cspan class=\"hljs-params\"\u003eresult\u003c/span\u003e -\u0026gt; {\n\n  \u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e Invoked \u003cspan class=\"hljs-params\"\u003eafter\u003c/span\u003e \u003cspan class=\"hljs-params\"\u003ethe\u003c/span\u003e \u003cspan class=\"hljs-params\"\u003eresponse\u003c/span\u003e \u003cspan class=\"hljs-params\"\u003ebody\u003c/span\u003e \u003cspan class=\"hljs-params\"\u003eis\u003c/span\u003e \u003cspan class=\"hljs-params\"\u003efully\u003c/span\u003e \u003cspan class=\"hljs-params\"\u003ereceived\u003c/span\u003e\n  HttpResponse\u0026lt;Buffer\u0026gt; \u003cspan class=\"hljs-params\"\u003eresponse\u003c/span\u003e = \u003cspan class=\"hljs-params\"\u003eresult\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003eresponse\u003c/span\u003e()\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (response.get\u003cspan class=\"hljs-constructor\"\u003eHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e)\u003c/span\u003e.equals(\u003cspan class=\"hljs-string\"\u003e\u0026quot;application/json\u0026quot;\u003c/span\u003e)) {\n    \u003cspan class=\"hljs-comment\"\u003e// Error body is JSON data\u003c/span\u003e\n    JsonObject body = response.body\u003cspan class=\"hljs-constructor\"\u003eAsJsonObject()\u003c/span\u003e;\n    return \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-constructor\"\u003eMyCustomException(\u003cspan class=\"hljs-params\"\u003ebody\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003egetString\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;code\u0026quot;\u003c/span\u003e)\u003c/span\u003e, body.get\u003cspan class=\"hljs-constructor\"\u003eString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;message\u0026quot;\u003c/span\u003e)\u003c/span\u003e);\n  }\n\n  \u003cspan class=\"hljs-comment\"\u003e// Fallback to defaut message\u003c/span\u003e\n  return \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-constructor\"\u003eMyCustomException(\u003cspan class=\"hljs-params\"\u003eresult\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003emessage\u003c/span\u003e()\u003c/span\u003e);\n});\n\nResponsePredicate predicate = \u003cspan class=\"hljs-module-access\"\u003e\u003cspan class=\"hljs-module\"\u003e\u003cspan class=\"hljs-identifier\"\u003eResponsePredicate\u003c/span\u003e.\u003c/span\u003e\u003c/span\u003ecreate(ResponsePredicate.SC_SUCCESS, converter);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThat’s it! Feel free to com­ment here or ask ques­tions on our \u003ca href=\"/community\"\u003ecom­mu­nity chan­nels\u003c/a\u003e.\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"respons","tf":16},{"term":"predic","tf":10},{"term":"error","tf":7},{"term":"web","tf":4},{"term":"not","tf":4},{"term":"us","tf":4},{"term":"statu","tf":4},{"term":"code","tf":4},{"term":"bodi","tf":4},{"term":"convert","tf":4},{"term":"content","tf":3},{"term":"type","tf":3},{"term":"check","tf":3},{"term":"receiv","tf":3},{"term":"gener","tf":3},{"term":"except","tf":3},{"term":"default","tf":2},{"term":"client","tf":2},{"term":"request","tf":2},{"term":"wrong","tf":2},{"term":"failur","tf":2},{"term":"perform","tf":2},{"term":"come","tf":2},{"term":"full","tf":2},{"term":"json","tf":2}]},{"filename":"blog/2018-12-06-the-rss-reader-tutorial-step-3.mdx","date":"2018-12-06","slug":"the-rss-reader-tutorial-step-3","meta":{"title":"The RSS reader tutorial (Step 3)","category":"guides","authors":[{"name":"Pavel Drankov","github_id":"Sammers21"}],"summary":"This is the third installment of our Vert.x Cassandra Client tutorial. We will implement the last RSS endpoint serving a list of articles related to a specific channel."},"readingTime":{"text":"2 min read","minutes":1.585,"time":95100,"words":317},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Now that \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/blog/eclipse-vert-x-3-6-0-released/\"\n  }), \"Vert.x 3.6.0 has been re\\xADleased\"), \", it\\u2019s the per\\xADfect time to con\\xADclude our \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/docs/vertx-cassandra-client/java/\"\n  }), \"Vert.x Cas\\xADsan\\xADdra Client\"), \" tu\\xADto\\xADr\\xADial!\"), mdx(\"p\", null, \"In \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/blog/the-rss-reader-tutorial-step-2/\"\n  }), \"the pre\\xADvi\\xADous step\"), \", we have suc\\xADcess\\xADfully im\\xADple\\xADmented the sec\\xADond end\\xADpoint\\nof the RSS reader app.\"), mdx(\"p\", null, \"The RSS reader ex\\xADam\\xADple as\\xADsumes im\\xADple\\xADment\\xADing three end\\xADpoints. This ar\\xADti\\xADcle is ded\\xADi\\xADcated to im\\xADple\\xADment\\xADing the last \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GET /articles/by_rss_link?link={rss_link}\"), \" end\\xADpoint.\"), mdx(\"p\", null, \"Be\\xADfore com\\xADplet\\xADing this step, make sure your are in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"step_3\"), \" git branch:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-better-shell\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"$\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"bash\"\n  }), \" git checkout step_3\"), \"\\n\")), mdx(\"h2\", {\n    \"id\": \"implementing-the-3rd-endpoint\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#implementing-the-3rd-endpoint\"\n  })), \"Implementing the 3rd endpoint\"), mdx(\"p\", null, \"The 3rd end\\xADpoint serves a list of ar\\xADti\\xADcles re\\xADlated to a spe\\xADcific RSS chan\\xADnel. In a re\\xADquest, we spec\\xADify RSS chan\\xADnel by pro\\xADvid\\xADing a link. On the ap\\xADpli\\xADca\\xADtion side, after re\\xADceiv\\xADing a re\\xADquest we ex\\xADe\\xADcute the fol\\xADlow\\xADing query:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-sql\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"SELECT\"), \" title, article_link, description, pubDate \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"FROM\"), \" articles_by_rss_link \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"WHERE\"), \" rss_link = RSS_LINK_FROM_REQUEST ;\\n\")), mdx(\"h2\", {\n    \"id\": \"implementation\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#implementation\"\n  })), \"Implementation\"), mdx(\"p\", null, \"For ob\\xADtain\\xADing ar\\xADti\\xADcles by RSS link we need to pre\\xADpare a re\\xADlated state\\xADment first. Change \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AppVerticle#prepareSelectArticlesByRssLink\"), \" in this way:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" Future\u003cVoid\u003e \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"prepareSelectArticlesByRssLink\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" Util.prepareQueryAndSetReference(client,\\n            \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"SELECT title, article_link, description, pubDate FROM articles_by_rss_link WHERE rss_link = ? ;\\\"\"), \",\\n            selectArticlesByRssLink\\n    );\\n}\\n\")), mdx(\"p\", null, \"And now, we can im\\xADple\\xADment the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AppVerticle#getArticles\"), \" method. Ba\\xADsi\\xADcally, it will use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"selectArticlesByRssLink\"), \" state\\xADment for find\\xADing ar\\xADti\\xADcles by the given link. Here\\u2019s the im\\xADple\\xADmen\\xADta\\xADtion:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"getArticles\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(RoutingContext ctx)\"), \" \"), \"{\\n    String link = ctx.request().getParam(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"link\\\"\"), \");\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (link == \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"null\"), \") {\\n        responseWithInvalidRequest(ctx);\\n    } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n        client.executeWithFullFetch(selectArticlesByRssLink.bind(link), handler -\u003e {\\n            \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (handler.succeeded()) {\\n                List\u003cRow\u003e rows = handler.result();\\n\\n                JsonObject responseJson = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject();\\n                JsonArray articles = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonArray();\\n\\n                rows.forEach(eachRow -\u003e articles.add(\\n                        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject()\\n                                .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"title\\\"\"), \", eachRow.getString(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"0\"), \"))\\n                                .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"link\\\"\"), \", eachRow.getString(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"1\"), \"))\\n                                .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"description\\\"\"), \", eachRow.getString(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"2\"), \"))\\n                                .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"pub_date\\\"\"), \", eachRow.getTimestamp(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"3\"), \").getTime())\\n                ));\\n\\n                responseJson.put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"articles\\\"\"), \", articles);\\n                ctx.response().end(responseJson.toString());\\n            } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n                log.error(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"failed to get articles for \\\"\"), \" + link, handler.cause());\\n                ctx.response().setStatusCode(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"500\"), \").end(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Unable to retrieve the info from C*\\\"\"), \");\\n            }\\n        });\\n    }\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"conclusion\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#conclusion\"\n  })), \"Conclusion\"), mdx(\"p\", null, \"Dur\\xADing the se\\xADries, we have shown how the RSS reader app can be im\\xADple\\xADmented with the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-cassandra-client\"\n  }), \"Vert.x Cas\\xADsan\\xADdra client\"), \".\"), mdx(\"p\", null, \"Thanks for read\\xADing this. I hope you en\\xADjoyed this se\\xADries. See you soon on our \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://gitter.im/eclipse-vertx/vertx-users\"\n  }), \"Git\\xADter chan\\xADnel\"), \"!\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eNow that \u003ca href=\"https://vertx.io/blog/eclipse-vert-x-3-6-0-released/\"\u003eVert.x 3.6.0 has been re­leased\u003c/a\u003e, it’s the per­fect time to con­clude our \u003ca href=\"https://vertx.io/docs/vertx-cassandra-client/java/\"\u003eVert.x Cas­san­dra Client\u003c/a\u003e tu­to­r­ial!\u003c/p\u003e\u003cp\u003eIn \u003ca href=\"https://vertx.io/blog/the-rss-reader-tutorial-step-2/\"\u003ethe pre­vi­ous step\u003c/a\u003e, we have suc­cess­fully im­ple­mented the sec­ond end­point\nof the RSS reader app.\u003c/p\u003e\u003cp\u003eThe RSS reader ex­am­ple as­sumes im­ple­ment­ing three end­points. This ar­ti­cle is ded­i­cated to im­ple­ment­ing the last \u003ccode\u003eGET /articles/by_rss_link?link={rss_link}\u003c/code\u003e end­point.\u003c/p\u003e\u003cp\u003eBe­fore com­plet­ing this step, make sure your are in the \u003ccode\u003estep_3\u003c/code\u003e git branch:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-better-shell\"\u003e\u003cspan class=\"hljs-meta\"\u003e$\u003c/span\u003e\u003cspan class=\"bash\"\u003e git checkout step_3\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"implementing-the-3rd-endpoint\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#implementing-the-3rd-endpoint\"\u003e\u003c/a\u003eImplementing the 3rd endpoint\u003c/h2\u003e\u003cp\u003eThe 3rd end­point serves a list of ar­ti­cles re­lated to a spe­cific RSS chan­nel. In a re­quest, we spec­ify RSS chan­nel by pro­vid­ing a link. On the ap­pli­ca­tion side, after re­ceiv­ing a re­quest we ex­e­cute the fol­low­ing query:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-sql\"\u003e\u003cspan class=\"hljs-keyword\"\u003eSELECT\u003c/span\u003e title, article_link, description, pubDate \u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e articles_by_rss_link \u003cspan class=\"hljs-keyword\"\u003eWHERE\u003c/span\u003e rss_link = RSS_LINK_FROM_REQUEST ;\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"implementation\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#implementation\"\u003e\u003c/a\u003eImplementation\u003c/h2\u003e\u003cp\u003eFor ob­tain­ing ar­ti­cles by RSS link we need to pre­pare a re­lated state­ment first. Change \u003ccode\u003eAppVerticle#prepareSelectArticlesByRssLink\u003c/code\u003e in this way:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e Future\u0026lt;Void\u0026gt; \u003cspan class=\"hljs-title\"\u003eprepareSelectArticlesByRssLink\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Util.prepareQueryAndSetReference(client,\n            \u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT title, article_link, description, pubDate FROM articles_by_rss_link WHERE rss_link = ? ;\u0026quot;\u003c/span\u003e,\n            selectArticlesByRssLink\n    );\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAnd now, we can im­ple­ment the \u003ccode\u003eAppVerticle#getArticles\u003c/code\u003e method. Ba­si­cally, it will use the \u003ccode\u003eselectArticlesByRssLink\u003c/code\u003e state­ment for find­ing ar­ti­cles by the given link. Here’s the im­ple­men­ta­tion:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetArticles\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(RoutingContext ctx)\u003c/span\u003e \u003c/span\u003e{\n    String link = ctx.request().getParam(\u003cspan class=\"hljs-string\"\u003e\u0026quot;link\u0026quot;\u003c/span\u003e);\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (link == \u003cspan class=\"hljs-keyword\"\u003enull\u003c/span\u003e) {\n        responseWithInvalidRequest(ctx);\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n        client.executeWithFullFetch(selectArticlesByRssLink.bind(link), handler -\u0026gt; {\n            \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (handler.succeeded()) {\n                List\u0026lt;Row\u0026gt; rows = handler.result();\n\n                JsonObject responseJson = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject();\n                JsonArray articles = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonArray();\n\n                rows.forEach(eachRow -\u0026gt; articles.add(\n                        \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n                                .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;title\u0026quot;\u003c/span\u003e, eachRow.getString(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n                                .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;link\u0026quot;\u003c/span\u003e, eachRow.getString(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e))\n                                .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;description\u0026quot;\u003c/span\u003e, eachRow.getString(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e))\n                                .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;pub_date\u0026quot;\u003c/span\u003e, eachRow.getTimestamp(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e).getTime())\n                ));\n\n                responseJson.put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;articles\u0026quot;\u003c/span\u003e, articles);\n                ctx.response().end(responseJson.toString());\n            } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n                log.error(\u003cspan class=\"hljs-string\"\u003e\u0026quot;failed to get articles for \u0026quot;\u003c/span\u003e + link, handler.cause());\n                ctx.response().setStatusCode(\u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e).end(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Unable to retrieve the info from C*\u0026quot;\u003c/span\u003e);\n            }\n        });\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"conclusion\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#conclusion\"\u003e\u003c/a\u003eConclusion\u003c/h2\u003e\u003cp\u003eDur­ing the se­ries, we have shown how the RSS reader app can be im­ple­mented with the \u003ca href=\"https://github.com/vert-x3/vertx-cassandra-client\"\u003eVert.x Cas­san­dra client\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eThanks for read­ing this. I hope you en­joyed this se­ries. See you soon on our \u003ca href=\"https://gitter.im/eclipse-vertx/vertx-users\"\u003eGit­ter chan­nel\u003c/a\u003e!\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"implement","tf":8},{"term":"rss","tf":6},{"term":"endpoint","tf":5},{"term":"articl","tf":4},{"term":"reader","tf":3},{"term":"channel","tf":3},{"term":"link","tf":3},{"term":"cassandra","tf":2},{"term":"client","tf":2},{"term":"step","tf":2},{"term":"app","tf":2},{"term":"3rd","tf":2},{"term":"relat","tf":2},{"term":"request","tf":2},{"term":"statement","tf":2},{"term":"seri","tf":2},{"term":"releas","tf":1},{"term":"perfect","tf":1},{"term":"time","tf":1},{"term":"conclud","tf":1},{"term":"tutori","tf":1},{"term":"previou","tf":1},{"term":"successfulli","tf":1},{"term":"second","tf":1},{"term":"exampl","tf":1}]},{"filename":"blog/2018-12-03-eclipse-vert-x-3-6-0-released.mdx","date":"2018-12-03","slug":"eclipse-vert-x-3-6-0-released","meta":{"title":"Eclipse Vert.x 3.6.0 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We are pleased to announce the Eclipse Vert.x 3.6.0 release."},"readingTime":{"text":"6 min read","minutes":5.21,"time":312600,"words":1042},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"We are pleased to an\\xADnounce the Eclipse Vert.x 3.6.0 re\\xADlease.\"), mdx(\"p\", null, \"As al\\xADways, the com\\xADmu\\xADnity con\\xADtri\\xADbu\\xADtions have been key in achiev\\xADing this mile\\xADstone.\\nTo all of you who par\\xADtic\\xADi\\xADpated: thank you, you are awe\\xADsome!\"), mdx(\"p\", null, \"With\\xADout fur\\xADther ado, let\\u2019s take a look at some of the most ex\\xADcit\\xADing new fea\\xADtures and en\\xADhance\\xADments.  \"), mdx(\"h4\", {\n    \"id\": \"vertx-cassandra-client\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#vertx-cassandra-client\"\n  })), \"Vert.x Cassandra client\"), mdx(\"p\", null, \"In this re\\xADlease we in\\xADtro\\xADduce the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-cassandra-client\"\n  }), \"Vert.x Cas\\xADsan\\xADdra client\"), \", an ex\\xADten\\xADsion for in\\xADter\\xADa\\xADtion with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://cassandra.apache.org/\"\n  }), \"Apache Cas\\xADsan\\xADdra\"), \".\"), mdx(\"p\", null, \"The client sup\\xADports:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"pre\\xADpared queries\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"batch\\xADing\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"query stream\\xADing\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"bulk fetch\\xADing\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"low level fetch\\xADing\")), mdx(\"p\", null, \"To give you an idea of how the API usage may looks like, we pro\\xADvide this ex\\xADam\\xADple:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"cassandraClient.queryStream(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"SELECT my_string_col FROM my_keyspace.my_table where my_key = 'my_value'\\\"\"), \", queryStream -\u003e {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (queryStream.succeeded()) {\\n    CassandraRowStream stream = queryStream.result();\\n\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// resume stream when queue is ready to accept buffers again\"), \"\\n    response.drainHandler(v -\u003e stream.resume());\\n\\n    stream.handler(row -\u003e {\\n        String value = row.getString(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"my_string_col\\\"\"), \");\\n        response.write(value);\\n\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// pause row stream when we buffer queue is full\"), \"\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (response.writeQueueFull()) {\\n        stream.pause();\\n        }\\n    });\\n\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// end request when we reached end of the stream\"), \"\\n    stream.endHandler(end -\u003e response.end());\\n\\n    } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n    queryStream.cause().printStackTrace();\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// response with internal server error if we are not able to execute given query\"), \"\\n    response\\n        .setStatusCode(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"500\"), \")\\n        .end(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Unable to execute the query\\\"\"), \");\\n    }\\n});\\n\")), mdx(\"h4\", {\n    \"id\": \"vertx-for-kotlin\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#vertx-for-kotlin\"\n  })), \"Vert.x for Kotlin\"), mdx(\"p\", null, \"Vert.x for Kotlin has been up\\xADdated to the very re\\xADcent Kotlin 1.3 (and corou\\xADtines 1.0).\"), mdx(\"p\", null, \"Vert.x 3.5 in\\xADtro\\xADduced a pow\\xADer\\xADful way to write syn\\xADchro\\xADnous non-\\u200Bblocking code with Kotlin corou\\xADtines:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-kotlin\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"val\"), \" result = awaitResult\u003cResultSet\u003e { client.queryWithParams(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"SELECT TITLE FROM MOVIE WHERE ID=?\\\"\"), \", json { array(id) }, it) };\\n\")), mdx(\"p\", null, \"In this re\\xADlease, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"awaitResult\"), \" idiom as ex\\xADten\\xADsion meth\\xADods are pro\\xADvided, so now you can di\\xADrectly write:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-kotlin\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"val\"), \" result = client.queryWithParamsAwait(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"SELECT TITLE FROM MOVIE WHERE ID=?\\\"\"), \", json { array(id) })\\n\")), mdx(\"p\", null, \"Note the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Await\"), \" suf\\xADfix: all Vert.x asyn\\xADchro\\xADnous meth\\xADods pro\\xADvide now an \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"await\\xADi\\xADfied\"), \" ex\\xADten\\xADsion.\"), mdx(\"h4\", {\n    \"id\": \"web-api-gateways\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#web-api-gateways\"\n  })), \"Web API gateways\"), mdx(\"p\", null, \"The new \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/docs/vertx-web-api-service/java/\"\n  }), \"Vert.x Web API Ser\\xADvice\"), \" mod\\xADule al\\xADlows you to\\ncre\\xADate \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/docs/vertx-web-api-contract/java/\"\n  }), \"Vert.x Web API Con\\xADtract\"), \" gate\\xADways.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/images/blog/vertx-web-api-service/vertx-web-api-service.png\",\n    \"alt\": \"Web API Service Architecture\"\n  }))), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@WebApiServiceGen\"), \" can an\\xADno\\xADtate your ser\\xADvice in\\xADter\\xADface to han\\xADdle\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.openapis.org/\"\n  }), \"Ope\\xADnAPI 3\"), \": \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/docs/vertx-web-api-service/java/\"\n  }), \"Vert.x Web API Ser\\xADvice\"), \"\\nre\\xADquests:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@WebApiServiceGen\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"interface\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"TransactionService\"), \" \"), \"{\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"getTransactionsList\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(String from, String to, OperationRequest context, Handler\u003cAsyncResult\u003cOperationResponse\u003e\u003e resultHandler)\")), \";\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"putTransaction\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(JsonObject body, OperationRequest context, Handler\u003cAsyncResult\u003cOperationResponse\u003e\u003e resultHandler)\")), \";\\n}\\n\")), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OpenAPI3RouterFactory\"), \" web router be\\xADcomes an API gate\\xADway send\\xADing re\\xADquests di\\xADrectly to your ser\\xADvices.\"), mdx(\"p\", null, \"These ser\\xADvices are pow\\xADered by the Vert.x \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/docs/vertx-core/java/#event_bus\"\n  }), \"event bus\"), \" and ben\\xADe\\xADfits\\nfrom fea\\xADtures like load bal\\xADanc\\xADing and clus\\xADter\\xADing.\"), mdx(\"p\", null, \"Check the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/docs/vertx-web-api-service/java/\"\n  }), \"com\\xADplete doc\\xADu\\xADmen\\xADta\\xADtion\"), \" for more de\\xADtails (a tu\\xADto\\xADr\\xADial post is com\\xADing soon!)\"), mdx(\"h4\", {\n    \"id\": \"web-client\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#web-client\"\n  })), \"Web Client\"), mdx(\"p\", null, \"Our beloved \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/docs/vertx-web-client/java/\"\n  }), \"We\\xADb\\xADClient\"), \" is now ca\\xADpa\\xADble of han\\xADdling client ses\\xADsions. The\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"WebClientSession\"), \" is a client ex\\xADten\\xADsion that is very help\\xADful when you need to man\\xADage cook\\xADies on the client side.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// The session is created per user\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// from now on cookies are handled by the session\"), \"\\nWebClientSession session = WebClientSession.create(client);\\n\")), mdx(\"p\", null, \"Cherry on the cake, the web client is now ca\\xADpa\\xADble of per\\xADform\\xADing server side re\\xADsponse checks using \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"re\\xADsponse pred\\xADi\\xADcates\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"client\\n  .get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"myserver.mycompany.com\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/some-uri\\\"\"), \")\\n  .expect(ResponsePredicate.SC_SUCCESS)\\n  .expect(ResponsePredicate.JSON)\\n  .send(result -\u003e { ... });\\n\")), mdx(\"p\", null, \"The server side re\\xADsponse must val\\xADi\\xADdate the ex\\xADpec\\xADta\\xADtions de\\xADfined be\\xADfore send\\xADing the re\\xADquest in order to make the re\\xADsponse\\nsuc\\xADcess\\xADful, re\\xADliev\\xADing the user code to per\\xADform these checks man\\xADu\\xADally. Of course many out of box ex\\xADpeca\\xADtions are pro\\xADvided\\nand you can al\\xADways cre\\xADate your own to im\\xADple\\xADment cus\\xADtom checks.\"), mdx(\"h4\", {\n    \"id\": \"use-templating-everywhere\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#use-templating-everywhere\"\n  })), \"Use templating everywhere\"), mdx(\"p\", null, \"Tem\\xADplate en\\xADgines can now be used out\\xADside the realm of Vert.x Web.\\nOne great use case is to use them to gen\\xADer\\xADate email con\\xADtent:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"TemplateEngine template = ...\\n\\ntemplate.render(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject(), \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"my-template.txt, res -\u003e {\\n   // Send result with the Vert.x Mail client\\n});\\n\"))), mdx(\"h4\", {\n    \"id\": \"openid-connect-discovery\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#openid-connect-discovery\"\n  })), \"OpenID Connect Discovery\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/docs/vertx-auth-oauth2/java/\"\n  }), \"Oauth2\"), \" has been greatly en\\xADhanced to sup\\xADport more of OpenID Con\\xADnect, the most noti\\xADci\\xADble is the sup\\xADport of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OpenID Connect Discovery 1.0\"), \".\"), mdx(\"p\", null, \"What this means for the end user is that, con\\xADfig\\xADu\\xADra\\xADtion is now a triv\\xADial task, as it is \\u201D\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"dis\\xADcoverd\"), \"\\u201D from the server, e.g.:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"OpenIDConnectAuth.discover(vertx,\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" OAuth2ClientOptions()\\n    .setSite(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"https://accounts.google.com\\\"\"), \")\\n    .setClientID(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"clientId\\\"\"), \"),\\n  res -\u003e {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (res.succeeded()) {\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// the setup call succeeded.\"), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// at this moment your auth is ready to use and\"), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// google signature keys are loaded so tokens can be decoded and verified.\"), \"\\n    } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// the setup failed.\"), \"\\n    }\\n});\\n\")), mdx(\"p\", null, \"If you know your \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"cli\\xADen\\xADtId\"), \" and your provider server URL (of course), all the re\\xADmain\\xADing en\\xADdoints, key sig\\xADna\\xADture al\\xADgo\\xADrithms and \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"JSON Web Keys\"), \" are \\u201Cdis\\xADcov\\xADered\\u201D for you and\\ncon\\xADfig\\xADured to the auth provider.\"), mdx(\"h4\", {\n    \"id\": \"password-hashing-strategy\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#password-hashing-strategy\"\n  })), \"Password Hashing strategy\"), mdx(\"p\", null, \"Vert.x auth com\\xADpo\\xADnents now sup\\xADport user de\\xADfined pass\\xADword hash\\xADing strate\\xADgies, If you\\u2019re not happy with the pro\\xADvided im\\xADple\\xADmen\\xADta\\xADtions: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SHA512\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"PKDBF2\"), \" you can now pro\\xADvide your own strat\\xADegy\\nso it can be used with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JDBC\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Mongo\"), \" auth.\"), mdx(\"p\", null, \"The hash ver\\xADi\\xADfi\\xADca\\xADtion al\\xADgo\\xADrithm has been im\\xADproved to be time con\\xADstant, re\\xADgard\\xADless of the re\\xADsult, which pro\\xADtects Vert.x\\nap\\xADpli\\xADca\\xADtions from hash tim\\xADing at\\xADtacks.\"), mdx(\"h4\", {\n    \"id\": \"externalized-configuration-of-vertx-options\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#externalized-configuration-of-vertx-options\"\n  })), \"Externalized configuration of Vert.x options\"), mdx(\"p\", null, \"Whether you run your Vert.x app with the CLI or as an ex\\xADe\\xADcutable JAR with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Launcher\"), \", you can now pro\\xADvide Vert.x\\nop\\xADtions as a com\\xADmand line pa\\xADra\\xADme\\xADter:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-gradle\"\n  }), \"java -jar my-app.jar -\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"options\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-regexp\"\n  }), \"/path/\"), \"to\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-regexp\"\n  }), \"/my/\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"file\"), \".json\\n\")), mdx(\"p\", null, \"Or with the CLI:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-gradle\"\n  }), \"vertx run my-verticle.js -\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"options\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-regexp\"\n  }), \"/path/\"), \"to\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-regexp\"\n  }), \"/my/\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"file\"), \".json\\n\")), mdx(\"p\", null, \"This is par\\xADtic\\xADu\\xADlarly use\\xADful for com\\xADplex clus\\xADtered event-\\u200Bbus se\\xADtups (en\\xADcryp\\xADtion, pub\\xADlic host vs clus\\xADter host\\u2026).\"), mdx(\"h4\", {\n    \"id\": \"and-more\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#and-more\"\n  })), \"And more\\u2026\"), mdx(\"p\", null, \"Here are some other im\\xADpor\\xADtant im\\xADprove\\xADments you can find in this re\\xADlease:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Java 11 sup\\xADport (un\\xADless a Vert.x mod\\xADule de\\xADpends on a third-\\u200Bparty de\\xADpen\\xADdency that does not sup\\xADport it yet)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Hazel\\xADcast Clus\\xADter Man\\xADager \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/docs/vertx-hazelcast/java/#_using_lite_members\"\n  }), \"sup\\xADport for lite mem\\xADbers\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/blog/simplified-database-transaction-management-with-the-vert-x-rxjava-api/\"\n  }), \"Sim\\xADpli\\xADfied data\\xADbase trans\\xADac\\xADtion man\\xADage\\xADment\"), \" with the Vert.x \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Rx\\xADi\\xADfied\"), \" API\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Event-\\u200Bbus in\\xADter\\xADcep\\xADtors\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Doc\\xADu\\xADmen\\xADta\\xADtion im\\xADprove\\xADments\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Clus\\xADter ad\\xADmin\\xADis\\xADtra\\xADtion with \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/docs/vertx-infinispan/java/#_cluster_administration\"\n  }), \"In\\xADfin\\xADis\\xADpan\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/docs/vertx-hazelcast/java/#_cluster_administration\"\n  }), \"Hazel\\xADcast\"), \" clus\\xADter man\\xADagers\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Rx\\xADi\\xADfied\"), \" API in the Vert.x \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/docs/vertx-kafka-client/java/#_rxjava_2_api\"\n  }), \"Kafka\"), \", \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/docs/vertx-web-client/java/#_rxjava_2_api\"\n  }), \"Web\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/docs/vertx-mongo-client/java/#_rxjava_2_api\"\n  }), \"Mongo\"), \" clients\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Per\\xADfor\\xADmance im\\xADprove\\xADments\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"And ob\\xADvi\\xADously we have the usual bug fixes!\")), mdx(\"h4\", {\n    \"id\": \"finally\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#finally\"\n  })), \"Finally\"), mdx(\"p\", null, \"The \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/wiki/wiki/3.6.0-Release-Notes\"\n  }), \"3.6.0 re\\xADlease notes\"), \" can be found on the wiki, as well as the list of \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/wiki/wiki/3.6.0-Deprecations-and-breaking-changes\"\n  }), \"dep\\xADre\\xADca\\xADtions and break\\xADing changes\")), mdx(\"p\", null, \"Docker im\\xADages are avail\\xADable on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://hub.docker.com/u/vertx/\"\n  }), \"Docker Hub\"), \".\"), mdx(\"p\", null, \"The Vert.x dis\\xADtri\\xADb\\xADu\\xADtion can be down\\xADloaded on the web\\xADsite but is also avail\\xADable from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://sdkman.io/index.html\"\n  }), \"SD\\xADKMan\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://brew.sh/\"\n  }), \"Home\\xADBrew\"), \".\"), mdx(\"p\", null, \"The event bus client using the SockJS bridge is avail\\xADable from:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.npmjs.com/package/vertx3-eventbus-client\"\n  }), \"NPM\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-bus-bower\"\n  }), \"Bower\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://www.webjars.org/\"\n  }), \"We\\xADb\\xADJars\"))), mdx(\"p\", null, \"The re\\xADlease ar\\xADti\\xADfacts have been de\\xADployed to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22io.vertx%22%20AND%20v%3A%223.6.0%22\"\n  }), \"Maven Cen\\xADtral\"), \" and you can get the dis\\xADtri\\xADb\\xADu\\xADtion on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://bintray.com/vertx/downloads/distribution/3.6.0/view\"\n  }), \"Bin\\xADtray\"), \".\"), mdx(\"p\", null, \"That\\u2019s it! Happy cod\\xADing and see you soon on our user or dev \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/community\"\n  }), \"chan\\xADnels\"), \".\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eWe are pleased to an­nounce the Eclipse Vert.x 3.6.0 re­lease.\u003c/p\u003e\u003cp\u003eAs al­ways, the com­mu­nity con­tri­bu­tions have been key in achiev­ing this mile­stone.\nTo all of you who par­tic­i­pated: thank you, you are awe­some!\u003c/p\u003e\u003cp\u003eWith­out fur­ther ado, let’s take a look at some of the most ex­cit­ing new fea­tures and en­hance­ments.  \u003c/p\u003e\u003ch4 id=\"vertx-cassandra-client\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#vertx-cassandra-client\"\u003e\u003c/a\u003eVert.x Cassandra client\u003c/h4\u003e\u003cp\u003eIn this re­lease we in­tro­duce the \u003ca href=\"https://github.com/vert-x3/vertx-cassandra-client\"\u003eVert.x Cas­san­dra client\u003c/a\u003e, an ex­ten­sion for in­ter­a­tion with \u003ca href=\"http://cassandra.apache.org/\"\u003eApache Cas­san­dra\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eThe client sup­ports:\u003c/p\u003e\u003cul\u003e\u003cli\u003epre­pared queries\u003c/li\u003e\u003cli\u003ebatch­ing\u003c/li\u003e\u003cli\u003equery stream­ing\u003c/li\u003e\u003cli\u003ebulk fetch­ing\u003c/li\u003e\u003cli\u003elow level fetch­ing\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eTo give you an idea of how the API usage may looks like, we pro­vide this ex­am­ple:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003ecassandraClient.queryStream(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT my_string_col FROM my_keyspace.my_table where my_key = \u0026#x27;my_value\u0026#x27;\u0026quot;\u003c/span\u003e, queryStream -\u0026gt; {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (queryStream.succeeded()) {\n    CassandraRowStream stream = queryStream.result();\n\n    \u003cspan class=\"hljs-comment\"\u003e// resume stream when queue is ready to accept buffers again\u003c/span\u003e\n    response.drainHandler(v -\u0026gt; stream.resume());\n\n    stream.handler(row -\u0026gt; {\n        String value = row.getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;my_string_col\u0026quot;\u003c/span\u003e);\n        response.write(value);\n\n        \u003cspan class=\"hljs-comment\"\u003e// pause row stream when we buffer queue is full\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (response.writeQueueFull()) {\n        stream.pause();\n        }\n    });\n\n    \u003cspan class=\"hljs-comment\"\u003e// end request when we reached end of the stream\u003c/span\u003e\n    stream.endHandler(end -\u0026gt; response.end());\n\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    queryStream.cause().printStackTrace();\n    \u003cspan class=\"hljs-comment\"\u003e// response with internal server error if we are not able to execute given query\u003c/span\u003e\n    response\n        .setStatusCode(\u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e)\n        .end(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Unable to execute the query\u0026quot;\u003c/span\u003e);\n    }\n});\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"vertx-for-kotlin\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#vertx-for-kotlin\"\u003e\u003c/a\u003eVert.x for Kotlin\u003c/h4\u003e\u003cp\u003eVert.x for Kotlin has been up­dated to the very re­cent Kotlin 1.3 (and corou­tines 1.0).\u003c/p\u003e\u003cp\u003eVert.x 3.5 in­tro­duced a pow­er­ful way to write syn­chro­nous non-​blocking code with Kotlin corou­tines:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-kotlin\"\u003e\u003cspan class=\"hljs-keyword\"\u003eval\u003c/span\u003e result = awaitResult\u0026lt;ResultSet\u0026gt; { client.queryWithParams(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT TITLE FROM MOVIE WHERE ID=?\u0026quot;\u003c/span\u003e, json { array(id) }, it) };\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIn this re­lease, \u003ccode\u003eawaitResult\u003c/code\u003e idiom as ex­ten­sion meth­ods are pro­vided, so now you can di­rectly write:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-kotlin\"\u003e\u003cspan class=\"hljs-keyword\"\u003eval\u003c/span\u003e result = client.queryWithParamsAwait(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT TITLE FROM MOVIE WHERE ID=?\u0026quot;\u003c/span\u003e, json { array(id) })\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNote the \u003ccode\u003eAwait\u003c/code\u003e suf­fix: all Vert.x asyn­chro­nous meth­ods pro­vide now an \u003cem\u003eawait­i­fied\u003c/em\u003e ex­ten­sion.\u003c/p\u003e\u003ch4 id=\"web-api-gateways\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#web-api-gateways\"\u003e\u003c/a\u003eWeb API gateways\u003c/h4\u003e\u003cp\u003eThe new \u003ca href=\"https://vertx.io/docs/vertx-web-api-service/java/\"\u003eVert.x Web API Ser­vice\u003c/a\u003e mod­ule al­lows you to\ncre­ate \u003ca href=\"https://vertx.io/docs/vertx-web-api-contract/java/\"\u003eVert.x Web API Con­tract\u003c/a\u003e gate­ways.\u003c/p\u003e\u003cp\u003e\u003cimg src=\"/images/blog/vertx-web-api-service/vertx-web-api-service.png\" alt=\"Web API Service Architecture\"/\u003e\u003c/p\u003e\u003cp\u003e\u003ccode\u003e@WebApiServiceGen\u003c/code\u003e can an­no­tate your ser­vice in­ter­face to han­dle\n\u003ca href=\"https://www.openapis.org/\"\u003eOpe­nAPI 3\u003c/a\u003e: \u003ca href=\"https://vertx.io/docs/vertx-web-api-service/java/\"\u003eVert.x Web API Ser­vice\u003c/a\u003e\nre­quests:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-meta\"\u003e@WebApiServiceGen\u003c/span\u003e\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003einterface\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eTransactionService\u003c/span\u003e \u003c/span\u003e{\n\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetTransactionsList\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String from, String to, OperationRequest context, Handler\u0026lt;AsyncResult\u0026lt;OperationResponse\u0026gt;\u0026gt; resultHandler)\u003c/span\u003e\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eputTransaction\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(JsonObject body, OperationRequest context, Handler\u0026lt;AsyncResult\u0026lt;OperationResponse\u0026gt;\u0026gt; resultHandler)\u003c/span\u003e\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe \u003ccode\u003eOpenAPI3RouterFactory\u003c/code\u003e web router be­comes an API gate­way send­ing re­quests di­rectly to your ser­vices.\u003c/p\u003e\u003cp\u003eThese ser­vices are pow­ered by the Vert.x \u003ca href=\"https://vertx.io/docs/vertx-core/java/#event_bus\"\u003eevent bus\u003c/a\u003e and ben­e­fits\nfrom fea­tures like load bal­anc­ing and clus­ter­ing.\u003c/p\u003e\u003cp\u003eCheck the \u003ca href=\"https://vertx.io/docs/vertx-web-api-service/java/\"\u003ecom­plete doc­u­men­ta­tion\u003c/a\u003e for more de­tails (a tu­to­r­ial post is com­ing soon!)\u003c/p\u003e\u003ch4 id=\"web-client\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#web-client\"\u003e\u003c/a\u003eWeb Client\u003c/h4\u003e\u003cp\u003eOur beloved \u003ca href=\"https://vertx.io/docs/vertx-web-client/java/\"\u003eWe­b­Client\u003c/a\u003e is now ca­pa­ble of han­dling client ses­sions. The\n\u003ccode\u003eWebClientSession\u003c/code\u003e is a client ex­ten­sion that is very help­ful when you need to man­age cook­ies on the client side.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-comment\"\u003e// The session is created per user\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// from now on cookies are handled by the session\u003c/span\u003e\nWebClientSession session = WebClientSession.create(client);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eCherry on the cake, the web client is now ca­pa­ble of per­form­ing server side re­sponse checks using \u003cem\u003ere­sponse pred­i­cates\u003c/em\u003e:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .expect(ResponsePredicate.SC_SUCCESS)\n  .expect(ResponsePredicate.JSON)\n  .send(result -\u0026gt; { ... });\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe server side re­sponse must val­i­date the ex­pec­ta­tions de­fined be­fore send­ing the re­quest in order to make the re­sponse\nsuc­cess­ful, re­liev­ing the user code to per­form these checks man­u­ally. Of course many out of box ex­peca­tions are pro­vided\nand you can al­ways cre­ate your own to im­ple­ment cus­tom checks.\u003c/p\u003e\u003ch4 id=\"use-templating-everywhere\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#use-templating-everywhere\"\u003e\u003c/a\u003eUse templating everywhere\u003c/h4\u003e\u003cp\u003eTem­plate en­gines can now be used out­side the realm of Vert.x Web.\nOne great use case is to use them to gen­er­ate email con­tent:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eTemplateEngine template = ...\n\ntemplate.render(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject(), \u003cspan class=\"hljs-string\"\u003e\u0026quot;my-template.txt, res -\u0026gt; {\n   // Send result with the Vert.x Mail client\n});\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"openid-connect-discovery\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#openid-connect-discovery\"\u003e\u003c/a\u003eOpenID Connect Discovery\u003c/h4\u003e\u003cp\u003e\u003ca href=\"https://vertx.io/docs/vertx-auth-oauth2/java/\"\u003eOauth2\u003c/a\u003e has been greatly en­hanced to sup­port more of OpenID Con­nect, the most noti­ci­ble is the sup­port of \u003ccode\u003eOpenID Connect Discovery 1.0\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eWhat this means for the end user is that, con­fig­u­ra­tion is now a triv­ial task, as it is ”\u003cem\u003edis­coverd\u003c/em\u003e” from the server, e.g.:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eOpenIDConnectAuth.discover(vertx,\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e OAuth2ClientOptions()\n    .setSite(\u003cspan class=\"hljs-string\"\u003e\u0026quot;https://accounts.google.com\u0026quot;\u003c/span\u003e)\n    .setClientID(\u003cspan class=\"hljs-string\"\u003e\u0026quot;clientId\u0026quot;\u003c/span\u003e),\n  res -\u0026gt; {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n      \u003cspan class=\"hljs-comment\"\u003e// the setup call succeeded.\u003c/span\u003e\n      \u003cspan class=\"hljs-comment\"\u003e// at this moment your auth is ready to use and\u003c/span\u003e\n      \u003cspan class=\"hljs-comment\"\u003e// google signature keys are loaded so tokens can be decoded and verified.\u003c/span\u003e\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n      \u003cspan class=\"hljs-comment\"\u003e// the setup failed.\u003c/span\u003e\n    }\n});\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIf you know your \u003cstrong\u003ecli­en­tId\u003c/strong\u003e and your provider server URL (of course), all the re­main­ing en­doints, key sig­na­ture al­go­rithms and \u003cem\u003eJSON Web Keys\u003c/em\u003e are “dis­cov­ered” for you and\ncon­fig­ured to the auth provider.\u003c/p\u003e\u003ch4 id=\"password-hashing-strategy\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#password-hashing-strategy\"\u003e\u003c/a\u003ePassword Hashing strategy\u003c/h4\u003e\u003cp\u003eVert.x auth com­po­nents now sup­port user de­fined pass­word hash­ing strate­gies, If you’re not happy with the pro­vided im­ple­men­ta­tions: \u003ccode\u003eSHA512\u003c/code\u003e or \u003ccode\u003ePKDBF2\u003c/code\u003e you can now pro­vide your own strat­egy\nso it can be used with \u003ccode\u003eJDBC\u003c/code\u003e or \u003ccode\u003eMongo\u003c/code\u003e auth.\u003c/p\u003e\u003cp\u003eThe hash ver­i­fi­ca­tion al­go­rithm has been im­proved to be time con­stant, re­gard­less of the re­sult, which pro­tects Vert.x\nap­pli­ca­tions from hash tim­ing at­tacks.\u003c/p\u003e\u003ch4 id=\"externalized-configuration-of-vertx-options\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#externalized-configuration-of-vertx-options\"\u003e\u003c/a\u003eExternalized configuration of Vert.x options\u003c/h4\u003e\u003cp\u003eWhether you run your Vert.x app with the CLI or as an ex­e­cutable JAR with the \u003ccode\u003eLauncher\u003c/code\u003e, you can now pro­vide Vert.x\nop­tions as a com­mand line pa­ra­me­ter:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-gradle\"\u003ejava -jar my-app.jar -\u003cspan class=\"hljs-keyword\"\u003eoptions\u003c/span\u003e \u003cspan class=\"hljs-regexp\"\u003e/path/\u003c/span\u003eto\u003cspan class=\"hljs-regexp\"\u003e/my/\u003c/span\u003e\u003cspan class=\"hljs-keyword\"\u003efile\u003c/span\u003e.json\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eOr with the CLI:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-gradle\"\u003evertx run my-verticle.js -\u003cspan class=\"hljs-keyword\"\u003eoptions\u003c/span\u003e \u003cspan class=\"hljs-regexp\"\u003e/path/\u003c/span\u003eto\u003cspan class=\"hljs-regexp\"\u003e/my/\u003c/span\u003e\u003cspan class=\"hljs-keyword\"\u003efile\u003c/span\u003e.json\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis is par­tic­u­larly use­ful for com­plex clus­tered event-​bus se­tups (en­cryp­tion, pub­lic host vs clus­ter host…).\u003c/p\u003e\u003ch4 id=\"and-more\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#and-more\"\u003e\u003c/a\u003eAnd more…\u003c/h4\u003e\u003cp\u003eHere are some other im­por­tant im­prove­ments you can find in this re­lease:\u003c/p\u003e\u003cul\u003e\u003cli\u003eJava 11 sup­port (un­less a Vert.x mod­ule de­pends on a third-​party de­pen­dency that does not sup­port it yet)\u003c/li\u003e\u003cli\u003eHazel­cast Clus­ter Man­ager \u003ca href=\"/docs/vertx-hazelcast/java/#_using_lite_members\"\u003esup­port for lite mem­bers\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"/blog/simplified-database-transaction-management-with-the-vert-x-rxjava-api/\"\u003eSim­pli­fied data­base trans­ac­tion man­age­ment\u003c/a\u003e with the Vert.x \u003cem\u003eRx­i­fied\u003c/em\u003e API\u003c/li\u003e\u003cli\u003eEvent-​bus in­ter­cep­tors\u003c/li\u003e\u003cli\u003eDoc­u­men­ta­tion im­prove­ments\u003cul\u003e\u003cli\u003eClus­ter ad­min­is­tra­tion with \u003ca href=\"/docs/vertx-infinispan/java/#_cluster_administration\"\u003eIn­fin­is­pan\u003c/a\u003e and \u003ca href=\"/docs/vertx-hazelcast/java/#_cluster_administration\"\u003eHazel­cast\u003c/a\u003e clus­ter man­agers\u003c/li\u003e\u003cli\u003e\u003cem\u003eRx­i­fied\u003c/em\u003e API in the Vert.x \u003ca href=\"/docs/vertx-kafka-client/java/#_rxjava_2_api\"\u003eKafka\u003c/a\u003e, \u003ca href=\"/docs/vertx-web-client/java/#_rxjava_2_api\"\u003eWeb\u003c/a\u003e and \u003ca href=\"/docs/vertx-mongo-client/java/#_rxjava_2_api\"\u003eMongo\u003c/a\u003e clients\u003c/li\u003e\u003c/ul\u003e\u003c/li\u003e\u003cli\u003ePer­for­mance im­prove­ments\u003c/li\u003e\u003cli\u003eAnd ob­vi­ously we have the usual bug fixes!\u003c/li\u003e\u003c/ul\u003e\u003ch4 id=\"finally\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#finally\"\u003e\u003c/a\u003eFinally\u003c/h4\u003e\u003cp\u003eThe \u003ca href=\"https://github.com/vert-x3/wiki/wiki/3.6.0-Release-Notes\"\u003e3.6.0 re­lease notes\u003c/a\u003e can be found on the wiki, as well as the list of \u003ca href=\"https://github.com/vert-x3/wiki/wiki/3.6.0-Deprecations-and-breaking-changes\"\u003edep­re­ca­tions and break­ing changes\u003c/a\u003e\u003c/p\u003e\u003cp\u003eDocker im­ages are avail­able on \u003ca href=\"https://hub.docker.com/u/vertx/\"\u003eDocker Hub\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eThe Vert.x dis­tri­b­u­tion can be down­loaded on the web­site but is also avail­able from \u003ca href=\"http://sdkman.io/index.html\"\u003eSD­KMan\u003c/a\u003e and \u003ca href=\"http://brew.sh/\"\u003eHome­Brew\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eThe event bus client using the SockJS bridge is avail­able from:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://www.npmjs.com/package/vertx3-eventbus-client\"\u003eNPM\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://github.com/vert-x3/vertx-bus-bower\"\u003eBower\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"http://www.webjars.org/\"\u003eWe­b­Jars\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThe re­lease ar­ti­facts have been de­ployed to \u003ca href=\"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22io.vertx%22%20AND%20v%3A%223.6.0%22\"\u003eMaven Cen­tral\u003c/a\u003e and you can get the dis­tri­b­u­tion on \u003ca href=\"https://bintray.com/vertx/downloads/distribution/3.6.0/view\"\u003eBin­tray\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eThat’s it! Happy cod­ing and see you soon on our user or dev \u003ca href=\"https://vertx.io/community\"\u003echan­nels\u003c/a\u003e.\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"client","tf":10},{"term":"web","tf":10},{"term":"provid","tf":9},{"term":"api","tf":8},{"term":"us","tf":8},{"term":"support","tf":7},{"term":"releas","tf":6},{"term":"cluster","tf":6},{"term":"servic","tf":5},{"term":"extens","tf":4},{"term":"kotlin","tf":4},{"term":"event","tf":4},{"term":"bu","tf":4},{"term":"check","tf":4},{"term":"manag","tf":4},{"term":"server","tf":4},{"term":"respons","tf":4},{"term":"user","tf":4},{"term":"hash","tf":4},{"term":"improv","tf":4},{"term":"kei","tf":3},{"term":"cassandra","tf":3},{"term":"code","tf":3},{"term":"gatewai","tf":3},{"term":"request","tf":3}]},{"filename":"blog/2018-10-03-eclipse-vert-x-3-5-4.mdx","date":"2018-10-03","slug":"eclipse-vert-x-3-5-4","meta":{"title":"Eclipse Vert.x 3.5.4","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We have just released Vert.x 3.5.4, a bug fix release of Vert.x 3.5.x."},"readingTime":{"text":"1 min read","minutes":0.65,"time":39000,"words":130},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"We have just re\\xADleased Vert.x 3.5.4, a bug fix re\\xADlease of Vert.x 3.5.x.\"), mdx(\"p\", null, \"Since the re\\xADlease of Vert.x 3.5.3, quite a few bugs have been re\\xADported. We would like to thank you all for re\\xADport\\xADing these is\\xADsues.\"), mdx(\"p\", null, \"Three CVE have also been re\\xADported and fixed in this re\\xADlease:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/eclipse-vertx/vert.x/issues/2648\"\n  }), \"CVE-2018-12541\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-web/issues/1025\"\n  }), \"CVE-2018-12542\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-web/issues/1021\"\n  }), \"CVE-2018-12544\"))), mdx(\"p\", null, \"Vert.x 3.5.4 re\\xADlease notes:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/wiki/wiki/3.5.4-Release-Notes\"\n  }), \"https://github.com/vert-\\u200Bx3/wiki/wiki/3.5.4-\\u200BRelease-Notes\"))), mdx(\"p\", null, \"The event bus client using the SockJS bridge are avail\\xADable from NPM, Bower and as a We\\xADb\\xADJar:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.npmjs.com/package/vertx3-eventbus-client\"\n  }), \"https://www.npmjs.com/pack\\xADage/vertx3-\\u200Beventbus-client\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-bus-bower\"\n  }), \"https://github.com/vert-\\u200Bx3/vertx-\\u200Bbus-bower\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://www.webjars.org/\"\n  }), \"http://www.we\\xADb\\xADjars.org/\"))), mdx(\"p\", null, \"Docker im\\xADages are also avail\\xADable on the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://hub.docker.com/u/vertx/\"\n  }), \"Docker Hub\"), \". The Vert.x dis\\xADtri\\xADb\\xADu\\xADtion is also avail\\xADable from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://sdkman.io/index.html\"\n  }), \"SD\\xADKMan\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://brew.sh/\"\n  }), \"Home\\xADBrew\"), \".\"), mdx(\"p\", null, \"The ar\\xADti\\xADfacts have been de\\xADployed to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22io.vertx%22%20AND%20v%3A%223.5.4%22\"\n  }), \"Maven Cen\\xADtral\"), \" and you can get the dis\\xADtri\\xADb\\xADu\\xADtion on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://bintray.com/vertx/downloads/distribution/3.5.4/view\"\n  }), \"Bin\\xADtray\"), \".\"), mdx(\"p\", null, \"Happy cod\\xADing and see you soon on our user or dev \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/community\"\n  }), \"chan\\xADnels\"), \".\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eWe have just re­leased Vert.x 3.5.4, a bug fix re­lease of Vert.x 3.5.x.\u003c/p\u003e\u003cp\u003eSince the re­lease of Vert.x 3.5.3, quite a few bugs have been re­ported. We would like to thank you all for re­port­ing these is­sues.\u003c/p\u003e\u003cp\u003eThree CVE have also been re­ported and fixed in this re­lease:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://github.com/eclipse-vertx/vert.x/issues/2648\"\u003eCVE-2018-12541\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://github.com/vert-x3/vertx-web/issues/1025\"\u003eCVE-2018-12542\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://github.com/vert-x3/vertx-web/issues/1021\"\u003eCVE-2018-12544\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eVert.x 3.5.4 re­lease notes:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://github.com/vert-x3/wiki/wiki/3.5.4-Release-Notes\"\u003ehttps://github.com/vert-​x3/wiki/wiki/3.5.4-​Release-Notes\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThe event bus client using the SockJS bridge are avail­able from NPM, Bower and as a We­b­Jar:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://www.npmjs.com/package/vertx3-eventbus-client\"\u003ehttps://www.npmjs.com/pack­age/vertx3-​eventbus-client\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://github.com/vert-x3/vertx-bus-bower\"\u003ehttps://github.com/vert-​x3/vertx-​bus-bower\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"http://www.webjars.org/\"\u003ehttp://www.we­b­jars.org/\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eDocker im­ages are also avail­able on the \u003ca href=\"https://hub.docker.com/u/vertx/\"\u003eDocker Hub\u003c/a\u003e. The Vert.x dis­tri­b­u­tion is also avail­able from \u003ca href=\"http://sdkman.io/index.html\"\u003eSD­KMan\u003c/a\u003e and \u003ca href=\"http://brew.sh/\"\u003eHome­Brew\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eThe ar­ti­facts have been de­ployed to \u003ca href=\"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22io.vertx%22%20AND%20v%3A%223.5.4%22\"\u003eMaven Cen­tral\u003c/a\u003e and you can get the dis­tri­b­u­tion on \u003ca href=\"https://bintray.com/vertx/downloads/distribution/3.5.4/view\"\u003eBin­tray\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eHappy cod­ing and see you soon on our user or dev \u003ca href=\"https://vertx.io/community\"\u003echan­nels\u003c/a\u003e.\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"releas","tf":6},{"term":"cve","tf":4},{"term":"http","tf":4},{"term":"2018","tf":3},{"term":"report","tf":3},{"term":"com","tf":3},{"term":"avail","tf":3},{"term":"bug","tf":2},{"term":"fix","tf":2},{"term":"note","tf":2},{"term":"github","tf":2},{"term":"x3","tf":2},{"term":"wiki","tf":2},{"term":"bu","tf":2},{"term":"client","tf":2},{"term":"bower","tf":2},{"term":"webjar","tf":2},{"term":"www","tf":2},{"term":"docker","tf":2},{"term":"distribut","tf":2},{"term":"12541","tf":1},{"term":"12542","tf":1},{"term":"12544","tf":1},{"term":"just","tf":1},{"term":"quit","tf":1}]},{"filename":"blog/2018-09-05-the-rss-reader-tutorial-step-2.mdx","date":"2018-09-05","slug":"the-rss-reader-tutorial-step-2","meta":{"title":"The RSS reader tutorial (Step 2)","category":"guides","authors":[{"name":"Pavel Drankov","github_id":"Sammers21"}],"summary":"In this second installment of our Vert.x Cassandra Client tutorial, we will add an endpoint that produces an array of RSS channels for a given user ID."},"readingTime":{"text":"3 min read","minutes":2.39,"time":143400,"words":478},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In \", mdx(Link, {\n    href: \"/blog/[[...slug]]\",\n    as: \"/blog/the-rss-reader-tutorial/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", null, \"the pre\\xADvi\\xADous step\")), \", we have suc\\xADcess\\xADfully im\\xADple\\xADmented the first end\\xADpoint\\nof the RSS reader app.\"), mdx(\"p\", null, \"The RSS reader ex\\xADam\\xADple as\\xADsumes im\\xADple\\xADment\\xADing 3 end\\xADpoints. This ar\\xADti\\xADcle is ded\\xADi\\xADcated to im\\xADple\\xADment\\xADing the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GET /user/{user_id}/rss_channels\"), \" end\\xADpoint.\"), mdx(\"p\", null, \"Be\\xADfore com\\xADplet\\xADing this step, make sure your are in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"step_2\"), \" git branch:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-better-shell\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"$\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"bash\"\n  }), \" git checkout step_2\"), \"\\n\")), mdx(\"h2\", {\n    \"id\": \"implementing-the-second-endpoint\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#implementing-the-second-endpoint\"\n  })), \"Implementing the second endpoint\"), mdx(\"p\", null, \"The sec\\xADond end\\xADpoint pro\\xADduces an array of RSS chan\\xADnels by given \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"user_id\"), \".\"), mdx(\"p\", null, \"We need to ex\\xADe\\xADcute the two fol\\xADlow\\xADing queries to:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Fetch RSS links for a given user:\", mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-sql\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"SELECT\"), \" rss_link \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"FROM\"), \" rss_by_user \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"WHERE\"), \" login = GIVEN_USER_ID ;\\n\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Fetch RSS chan\\xADnel de\\xADtails for a given link:\", mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-sql\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"SELECT\"), \" description, title, site_link, rss_link \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"FROM\"), \" channel_info_by_rss_link \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"WHERE\"), \" rss_link = GIVEN_LINK ;\\n\")))), mdx(\"h2\", {\n    \"id\": \"implementation\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#implementation\"\n  })), \"Implementation\"), mdx(\"p\", null, \"The end\\xADpoint al\\xADlows the the front-\\u200Bend app to dis\\xADplay the list of RSS feeds a user sub\\xADscribed on. When the end\\xADpoint is ac\\xADcessed, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AppVerticle#getRssChannels\"), \" method is called. We can im\\xADple\\xADment this method in this way:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"getRssChannels\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(RoutingContext ctx)\"), \" \"), \"{\\n    String userId = ctx.request().getParam(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"user_id\\\"\"), \");\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (userId == \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"null\"), \") {\\n        responseWithInvalidRequest(ctx);\\n    } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n        Future\u003cList\u003cRow\u003e\u003e future = Future.future();\\n        client.executeWithFullFetch(selectRssLinksByLogin.bind(userId), future);\\n        future.compose(rows -\u003e {\\n            List\u003cString\u003e links = rows.stream()\\n                    .map(row -\u003e row.getString(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"0\"), \"))\\n                    .collect(Collectors.toList());\\n\\n            \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" CompositeFuture.all(\\n                    links.stream().map(selectChannelInfo::bind).map(statement -\u003e {\\n                        Future\u003cList\u003cRow\u003e\u003e channelInfoRow = Future.future();\\n                        client.executeWithFullFetch(statement, channelInfoRow);\\n                        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" channelInfoRow;\\n                    }).collect(Collectors.toList())\\n            );\\n        }).setHandler(h -\u003e {\\n            \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (h.succeeded()) {\\n                CompositeFuture result = h.result();\\n                List\u003cList\u003cRow\u003e\u003e results = result.list();\\n                List\u003cRow\u003e list = results.stream()\\n                        .flatMap(List::stream)\\n                        .collect(Collectors.toList());\\n                JsonObject responseJson = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject();\\n                JsonArray channels = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonArray();\\n\\n                list.forEach(eachRow -\u003e channels.add(\\n                        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject()\\n                                .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"description\\\"\"), \", eachRow.getString(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"0\"), \"))\\n                                .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"title\\\"\"), \", eachRow.getString(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"1\"), \"))\\n                                .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"link\\\"\"), \", eachRow.getString(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"2\"), \"))\\n                                .put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"rss_link\\\"\"), \", eachRow.getString(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"3\"), \"))\\n                ));\\n\\n                responseJson.put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"channels\\\"\"), \", channels);\\n                ctx.response().end(responseJson.toString());\\n            } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n                log.error(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"failed to get rss channels\\\"\"), \", h.cause());\\n                ctx.response().setStatusCode(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"500\"), \").end(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Unable to retrieve the info from C*\\\"\"), \");\\n            }\\n        });\\n    }\\n}\\n\")), mdx(\"p\", null, \"Also, this method uses \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"selectChannelInfo\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"selectRssLinksByLogin\"), \" fields, they should be ini\\xADtial\\xADized in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AppVerticle#prepareNecessaryQueries\"), \" method:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" Future\u003cVoid\u003e \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"prepareNecessaryQueries\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n    Future\u003cPreparedStatement\u003e selectChannelInfoPrepFuture = Future.future();\\n    client.prepare(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"SELECT description, title, site_link, rss_link FROM channel_info_by_rss_link WHERE rss_link = ? ;\\\"\"), \", selectChannelInfoPrepFuture);\\n\\n    Future\u003cPreparedStatement\u003e selectRssLinkByLoginPrepFuture = Future.future();\\n    client.prepare(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"SELECT rss_link FROM rss_by_user WHERE login = ? ;\\\"\"), \", selectRssLinkByLoginPrepFuture);\\n\\n    Future\u003cPreparedStatement\u003e insertNewLinkForUserPrepFuture = Future.future();\\n    client.prepare(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO rss_by_user (login , rss_link ) VALUES ( ?, ?);\\\"\"), \", insertNewLinkForUserPrepFuture);\\n\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" CompositeFuture.all(\\n            selectChannelInfoPrepFuture.compose(preparedStatement -\u003e {\\n                selectChannelInfo = preparedStatement;\\n                \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" Future.succeededFuture();\\n            }),\\n            selectRssLinkByLoginPrepFuture.compose(preparedStatement -\u003e {\\n                selectRssLinksByLogin = preparedStatement;\\n                \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" Future.succeededFuture();\\n            }),\\n            insertNewLinkForUserPrepFuture.compose(preparedStatement -\u003e {\\n                insertNewLinkForUser = preparedStatement;\\n                \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" Future.succeededFuture();\\n            })\\n    ).mapEmpty();\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"conclusion\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#conclusion\"\n  })), \"Conclusion\"), mdx(\"p\", null, \"In this part, we have suc\\xADcess\\xADfully im\\xADple\\xADmented the sec\\xADond end\\xADpoint, which al\\xADlows the browser app to ob\\xADtain chan\\xADnels in\\xADfor\\xADma\\xADtion for a spe\\xADcific user. To en\\xADsure that it is work\\xADing fine, point your browser to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"localhost:8080\"), \" and click to the re\\xADfresh but\\xADton. Chan\\xADnel list should ap\\xADpear im\\xADme\\xADdi\\xADately.\"), mdx(\"p\", null, \"If you have any prob\\xADlems with com\\xADplet\\xADing this step you can check\\xADout to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"step_3\"), \", where you can find all changes made for com\\xADplet\\xADing this step:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-better-shell\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"$\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"bash\"\n  }), \" git checkout step_3\"), \"\\n\")), mdx(\"p\", null, \"Thanks for read\\xADing this. I hope you en\\xADjoyed read\\xADing this ar\\xADti\\xADcle. See you soon on our \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://gitter.im/eclipse-vertx/vertx-users\"\n  }), \"Git\\xADter chan\\xADnel\"), \"!\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eIn \u003ca href=\"/blog/the-rss-reader-tutorial/\"\u003ethe pre­vi­ous step\u003c/a\u003e, we have suc­cess­fully im­ple­mented the first end­point\nof the RSS reader app.\u003c/p\u003e\u003cp\u003eThe RSS reader ex­am­ple as­sumes im­ple­ment­ing 3 end­points. This ar­ti­cle is ded­i­cated to im­ple­ment­ing the \u003ccode\u003eGET /user/{user_id}/rss_channels\u003c/code\u003e end­point.\u003c/p\u003e\u003cp\u003eBe­fore com­plet­ing this step, make sure your are in the \u003ccode\u003estep_2\u003c/code\u003e git branch:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-better-shell\"\u003e\u003cspan class=\"hljs-meta\"\u003e$\u003c/span\u003e\u003cspan class=\"bash\"\u003e git checkout step_2\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"implementing-the-second-endpoint\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#implementing-the-second-endpoint\"\u003e\u003c/a\u003eImplementing the second endpoint\u003c/h2\u003e\u003cp\u003eThe sec­ond end­point pro­duces an array of RSS chan­nels by given \u003ccode\u003euser_id\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eWe need to ex­e­cute the two fol­low­ing queries to:\u003c/p\u003e\u003col\u003e\u003cli\u003eFetch RSS links for a given user:\u003cpre\u003e\u003ccode class=\"hljs language-sql\"\u003e\u003cspan class=\"hljs-keyword\"\u003eSELECT\u003c/span\u003e rss_link \u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e rss_by_user \u003cspan class=\"hljs-keyword\"\u003eWHERE\u003c/span\u003e login = GIVEN_USER_ID ;\n\u003c/code\u003e\u003c/pre\u003e\u003c/li\u003e\u003cli\u003eFetch RSS chan­nel de­tails for a given link:\u003cpre\u003e\u003ccode class=\"hljs language-sql\"\u003e\u003cspan class=\"hljs-keyword\"\u003eSELECT\u003c/span\u003e description, title, site_link, rss_link \u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e channel_info_by_rss_link \u003cspan class=\"hljs-keyword\"\u003eWHERE\u003c/span\u003e rss_link = GIVEN_LINK ;\n\u003c/code\u003e\u003c/pre\u003e\u003c/li\u003e\u003c/ol\u003e\u003ch2 id=\"implementation\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#implementation\"\u003e\u003c/a\u003eImplementation\u003c/h2\u003e\u003cp\u003eThe end­point al­lows the the front-​end app to dis­play the list of RSS feeds a user sub­scribed on. When the end­point is ac­cessed, the \u003ccode\u003eAppVerticle#getRssChannels\u003c/code\u003e method is called. We can im­ple­ment this method in this way:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetRssChannels\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(RoutingContext ctx)\u003c/span\u003e \u003c/span\u003e{\n    String userId = ctx.request().getParam(\u003cspan class=\"hljs-string\"\u003e\u0026quot;user_id\u0026quot;\u003c/span\u003e);\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (userId == \u003cspan class=\"hljs-keyword\"\u003enull\u003c/span\u003e) {\n        responseWithInvalidRequest(ctx);\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n        Future\u0026lt;List\u0026lt;Row\u0026gt;\u0026gt; future = Future.future();\n        client.executeWithFullFetch(selectRssLinksByLogin.bind(userId), future);\n        future.compose(rows -\u0026gt; {\n            List\u0026lt;String\u0026gt; links = rows.stream()\n                    .map(row -\u0026gt; row.getString(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n                    .collect(Collectors.toList());\n\n            \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e CompositeFuture.all(\n                    links.stream().map(selectChannelInfo::bind).map(statement -\u0026gt; {\n                        Future\u0026lt;List\u0026lt;Row\u0026gt;\u0026gt; channelInfoRow = Future.future();\n                        client.executeWithFullFetch(statement, channelInfoRow);\n                        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e channelInfoRow;\n                    }).collect(Collectors.toList())\n            );\n        }).setHandler(h -\u0026gt; {\n            \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (h.succeeded()) {\n                CompositeFuture result = h.result();\n                List\u0026lt;List\u0026lt;Row\u0026gt;\u0026gt; results = result.list();\n                List\u0026lt;Row\u0026gt; list = results.stream()\n                        .flatMap(List::stream)\n                        .collect(Collectors.toList());\n                JsonObject responseJson = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject();\n                JsonArray channels = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonArray();\n\n                list.forEach(eachRow -\u0026gt; channels.add(\n                        \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n                                .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;description\u0026quot;\u003c/span\u003e, eachRow.getString(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n                                .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;title\u0026quot;\u003c/span\u003e, eachRow.getString(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e))\n                                .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;link\u0026quot;\u003c/span\u003e, eachRow.getString(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e))\n                                .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;rss_link\u0026quot;\u003c/span\u003e, eachRow.getString(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e))\n                ));\n\n                responseJson.put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;channels\u0026quot;\u003c/span\u003e, channels);\n                ctx.response().end(responseJson.toString());\n            } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n                log.error(\u003cspan class=\"hljs-string\"\u003e\u0026quot;failed to get rss channels\u0026quot;\u003c/span\u003e, h.cause());\n                ctx.response().setStatusCode(\u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e).end(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Unable to retrieve the info from C*\u0026quot;\u003c/span\u003e);\n            }\n        });\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAlso, this method uses \u003ccode\u003eselectChannelInfo\u003c/code\u003e and \u003ccode\u003eselectRssLinksByLogin\u003c/code\u003e fields, they should be ini­tial­ized in the \u003ccode\u003eAppVerticle#prepareNecessaryQueries\u003c/code\u003e method:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e Future\u0026lt;Void\u0026gt; \u003cspan class=\"hljs-title\"\u003eprepareNecessaryQueries\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    Future\u0026lt;PreparedStatement\u0026gt; selectChannelInfoPrepFuture = Future.future();\n    client.prepare(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT description, title, site_link, rss_link FROM channel_info_by_rss_link WHERE rss_link = ? ;\u0026quot;\u003c/span\u003e, selectChannelInfoPrepFuture);\n\n    Future\u0026lt;PreparedStatement\u0026gt; selectRssLinkByLoginPrepFuture = Future.future();\n    client.prepare(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT rss_link FROM rss_by_user WHERE login = ? ;\u0026quot;\u003c/span\u003e, selectRssLinkByLoginPrepFuture);\n\n    Future\u0026lt;PreparedStatement\u0026gt; insertNewLinkForUserPrepFuture = Future.future();\n    client.prepare(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO rss_by_user (login , rss_link ) VALUES ( ?, ?);\u0026quot;\u003c/span\u003e, insertNewLinkForUserPrepFuture);\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e CompositeFuture.all(\n            selectChannelInfoPrepFuture.compose(preparedStatement -\u0026gt; {\n                selectChannelInfo = preparedStatement;\n                \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.succeededFuture();\n            }),\n            selectRssLinkByLoginPrepFuture.compose(preparedStatement -\u0026gt; {\n                selectRssLinksByLogin = preparedStatement;\n                \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.succeededFuture();\n            }),\n            insertNewLinkForUserPrepFuture.compose(preparedStatement -\u0026gt; {\n                insertNewLinkForUser = preparedStatement;\n                \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.succeededFuture();\n            })\n    ).mapEmpty();\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"conclusion\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#conclusion\"\u003e\u003c/a\u003eConclusion\u003c/h2\u003e\u003cp\u003eIn this part, we have suc­cess­fully im­ple­mented the sec­ond end­point, which al­lows the browser app to ob­tain chan­nels in­for­ma­tion for a spe­cific user. To en­sure that it is work­ing fine, point your browser to \u003ccode\u003elocalhost:8080\u003c/code\u003e and click to the re­fresh but­ton. Chan­nel list should ap­pear im­me­di­ately.\u003c/p\u003e\u003cp\u003eIf you have any prob­lems with com­plet­ing this step you can check­out to \u003ccode\u003estep_3\u003c/code\u003e, where you can find all changes made for com­plet­ing this step:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-better-shell\"\u003e\u003cspan class=\"hljs-meta\"\u003e$\u003c/span\u003e\u003cspan class=\"bash\"\u003e git checkout step_3\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThanks for read­ing this. I hope you en­joyed read­ing this ar­ti­cle. See you soon on our \u003ca href=\"https://gitter.im/eclipse-vertx/vertx-users\"\u003eGit­ter chan­nel\u003c/a\u003e!\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"endpoint","tf":8},{"term":"implement","tf":7},{"term":"rss","tf":6},{"term":"channel","tf":5},{"term":"step","tf":4},{"term":"method","tf":4},{"term":"app","tf":3},{"term":"complet","tf":3},{"term":"second","tf":3},{"term":"given","tf":3},{"term":"user","tf":3},{"term":"successfulli","tf":2},{"term":"reader","tf":2},{"term":"articl","tf":2},{"term":"fetch","tf":2},{"term":"link","tf":2},{"term":"allow","tf":2},{"term":"list","tf":2},{"term":"browser","tf":2},{"term":"read","tf":2},{"term":"previou","tf":1},{"term":"first","tf":1},{"term":"exampl","tf":1},{"term":"assum","tf":1},{"term":"dedic","tf":1}]},{"filename":"blog/2018-08-20-the-rss-reader-tutorial.mdx","date":"2018-08-20","slug":"the-rss-reader-tutorial","meta":{"title":"The RSS reader tutorial","category":"guides","authors":[{"name":"Pavel Drankov","github_id":"Sammers21"}],"summary":"In this tutorial, you will learn how to use the Eclipse Vert.x Cassandra client in practice. We will develop an RSS reader with three HTTP endpoints."},"readingTime":{"text":"7 min read","minutes":6.2,"time":372000,"words":1240},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"This tu\\xADto\\xADr\\xADial is ded\\xADi\\xADcated for users who\\u2019d like to know how to use the Eclipse Vert.x Cas\\xADsan\\xADdra client in prac\\xADtice.\"), mdx(\"h2\", {\n    \"id\": \"before-you-start-this-tutorial\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#before-you-start-this-tutorial\"\n  })), \"Before you start this tutorial\"), mdx(\"p\", null, \"Be\\xADfore start\\xADing, you should\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"be fa\\xADmil\\xADiar with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/\"\n  }), \"Eclipse Vert.x\"), \". If you are not, here is the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/docs/guide-for-java-devs/\"\n  }), \"guide for Java de\\xADvel\\xADop\\xADers\"), \".\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"have some basic un\\xADder\\xADstand\\xADing of data\\xADbases. Ex\\xADtended knowl\\xADedge of Cas\\xADsan\\xADdra is not re\\xADquired.\"))), mdx(\"p\", null, \"You also may find it use\\xADful to read \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://validator.w3.org/feed/docs/rss2.html\"\n  }), \"the RSS 2.0\"), \" spec\\xADi\\xADfi\\xADca\\xADtion, be\\xADcause the re\\xADsulted app is, ba\\xADsi\\xADcally, a stor\\xADage of RSS 2.0 feeds.\"), mdx(\"p\", null, \"To give you an idea of what the App is about, here is how it looks like from the fronted side:\"), mdx(\"img\", {\n    src: \"https://i.imgur.com/2V954zx.png\",\n    alt: \"see how it looks\",\n    className: \"img-fluid\"\n  }), mdx(\"p\", null, \"In the image, we see that browser space is split into 2 parts:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Saved feed names\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"List of ar\\xADti\\xADcles for the se\\xADlected feed\")), mdx(\"p\", null, \"Here you also can enter a link to a new feed, so the App will fetch and parse the feed.\\nAfter that, it will ap\\xADpear in the left col\\xADumn along with other saved feeds.\"), mdx(\"h2\", {\n    \"id\": \"requirements\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#requirements\"\n  })), \"Requirements\"), mdx(\"p\", null, \"For com\\xADplet\\xADing this tu\\xADto\\xADr\\xADial you need:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Java 8 or higher\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Git\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"1 hour of your time\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You fa\\xADvorite code ed\\xADi\\xADtor\")), mdx(\"p\", null, \"For run\\xADning the ex\\xADam\\xADple you should en\\xADsure that Cas\\xADsan\\xADdra ser\\xADvice is run\\xADning lo\\xADcally on port 9042.\\nAs an op\\xADtion, you can run Cas\\xADsan\\xADdra with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/riptano/ccm#installation\"\n  }), \"ccm\"), \"(Cas\\xADsan\\xADdra Clus\\xADter Man\\xADager).\\nFol\\xADlow \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/riptano/ccm#installation\"\n  }), \"this\"), \" in\\xADstruc\\xADtions for in\\xADstalling ccm.\\nAfter in\\xADstalling you will be able to run a sin\\xADgle node clus\\xADter:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-better-shell\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"$\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"bash\"\n  }), \" ccm create rss_reader -v 3.11.2 -n 1 -s\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"$\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"bash\"\n  }), \" ccm start\"), \"\\n\")), mdx(\"p\", null, \"Be\\xADfore com\\xADplet\\xADing this step make sure that you have suc\\xADcess\\xADfully cloned the RSS reader repos\\xADi\\xADtory and checked out the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"step_1\"), \" branch:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-better-shell\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"$\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"bash\"\n  }), \" git \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"clone\"), \" https://github.com/Sammers21/rss-reader\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"$\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"bash\"\n  }), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"cd\"), \" rss-reader\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"$\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"bash\"\n  }), \" git checkout step_1\"), \"\\n\")), mdx(\"p\", null, \"Now you can try to tun this ex\\xADam\\xADple and see if it works:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-better-shell\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"$\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"bash\"\n  }), \" ./gradlew vertxRun\"), \"\\n\")), mdx(\"h2\", {\n    \"id\": \"schema\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#schema\"\n  })), \"Schema\"), mdx(\"p\", null, \"If you are fa\\xADmil\\xADiar with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://cassandra.apache.org/\"\n  }), \"Apache Cas\\xADsan\\xADdra\"), \", you\\nshould know that the way your data is stored in Cas\\xADsan\\xADdra is de\\xADpen\\xADdent on queries\\nyou are run\\xADning. It means that you need first to fig\\xADure out what kind of queries\\nyou will be run\\xADning, and then you can pro\\xADduce a stor\\xADage scheme.\"), mdx(\"p\", null, \"In our case, we\\u2019d like our ap\\xADpli\\xADca\\xADtion to have 3 end\\xADpoints:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"POST /user/{user_id}/rss_link\"), \" - for adding links to a user\\u2019s feed\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"GET /user/{user_id}/rss_channels\"), \" - for re\\xADtriev\\xADing in\\xADfor\\xADma\\xADtion about RSS chan\\xADnels a user sub\\xADscribed on\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"GET /articles/by_rss_link?link={rss_link}\"), \" - for re\\xADtriev\\xADing in\\xADfor\\xADma\\xADtion about ar\\xADti\\xADcles on a spe\\xADcific RSS chan\\xADnel\")), mdx(\"p\", null, \"For im\\xADple\\xADment\\xADing this end\\xADpoints, the schema should look as fol\\xADlows:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-sql\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"CREATE\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"TABLE\"), \" rss_by_user (login \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"text\"), \" , rss_link \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"text\"), \", PRIMARY \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"KEY\"), \" (login, rss_link));\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"CREATE\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"TABLE\"), \" articles_by_rss_link(rss_link \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"text\"), \", pubDate \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"timestamp\"), \", title \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"text\"), \", article_link \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"text\"), \", description \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"text\"), \", PRIMARY \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"KEY\"), \" ( rss_link , pubDate , article_link));\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"CREATE\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"TABLE\"), \" channel_info_by_rss_link(rss_link \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"text\"), \", last_fetch_time \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"timestamp\"), \",title \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"text\"), \", site_link \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"text\"), \", description \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-built_in\"\n  }), \"text\"), \", PRIMARY \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"KEY\"), \"(rss_link));\\n\")), mdx(\"h2\", {\n    \"id\": \"what-to-do-in-this-step\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#what-to-do-in-this-step\"\n  })), \"What to do in this step\"), mdx(\"p\", null, \"In this step, we will im\\xADple\\xADment only the first end\\xADpoint\"), mdx(\"h2\", {\n    \"id\": \"project-overview\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#project-overview\"\n  })), \"Project overview\"), mdx(\"p\", null, \"There are two no\\xADtable classes in the project: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AppVerticle\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FetchVerticle\"), \". The first one is a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/docs/vertx-core/java/#_verticles\"\n  }), \"Ver\\xADti\\xADcle\"), \" re\\xADspon\\xADsi\\xADble for HTTP re\\xADquest han\\xADdling and stor\\xADage schema ini\\xADtial\\xADiza\\xADtion. The sec\\xADond one is a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/docs/vertx-core/java/#_verticles\"\n  }), \"Ver\\xADti\\xADcle\"), \" as well, but re\\xADspon\\xADsi\\xADble for RSS feeds fetch\\xADing.\"), mdx(\"p\", null, \"The idea is sim\\xADple. When the ap\\xADpli\\xADca\\xADtion is start\\xADing the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AppVerticle\"), \" is de\\xADployed, then it tries to ini\\xADtial\\xADize stor\\xADage schema, de\\xADscribed in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/main/resources/schema.cql\"), \" file by read\\xADing it and ex\\xADe\\xADcut\\xADing listed queries line by line. After the schema ini\\xADtial\\xADiza\\xADtion the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AppVerticle\"), \" de\\xADploys \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FetchVerticle\"), \" and starts a HTTP server.\"), mdx(\"h2\", {\n    \"id\": \"implementing-the-endpoint\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#implementing-the-endpoint\"\n  })), \"Implementing the endpoint\"), mdx(\"p\", null, \"Now, it is time to im\\xADple\\xADment the first end\\xADpoint. Pay at\\xADten\\xADtion to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TODO\"), \"s, they are for point\\xADing you out about where changes should be made.\"), mdx(\"p\", null, \"Now, let\\u2019s have a look at the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AppVerticle#postRssLink\"), \" method. This method is called each time the first end\\xADpoint is called, so we can fig\\xADure out what is the posted body and id of the user, who per\\xADformed the re\\xADquest, di\\xADrectly there. There are 2 main things we want to do in this method:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"No\\xADti\\xADfy\\xADing via the \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://vertx.io/docs/vertx-core/java/#event_bus\"\n  }), \"Event Bus\"), \" the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"FetchVerticle\"), \" to fetch given by user link link to an RSS feed.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"In\\xADsert\\xADing an entry to the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"rss_by_user\"), \" table.\")), mdx(\"p\", null, \"This is how the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AppVerticle#postRssLink\"), \" method should be im\\xADple\\xADmented:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"postRssLink\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(RoutingContext ctx)\"), \" \"), \"{\\n    ctx.request().bodyHandler(body -\u003e {\\n        JsonObject bodyAsJson = body.toJsonObject();\\n        String link = bodyAsJson.getString(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"link\\\"\"), \");\\n        String userId = ctx.request().getParam(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"user_id\\\"\"), \");\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (link == \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"null\"), \" || userId == \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"null\"), \") {\\n            responseWithInvalidRequest(ctx);\\n        } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n            vertx.eventBus().send(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"fetch.rss.link\\\"\"), \", link);\\n            Future\u003cResultSet\u003e future = Future.future();\\n            BoundStatement query = insertNewLinkForUser.bind(userId, link);\\n            client.execute(query, future);\\n            future.setHandler(result -\u003e {\\n                \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (result.succeeded()) {\\n                    ctx.response().end(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject().put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"message\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"The feed just added\\\"\"), \").toString());\\n                } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n                    ctx.response().setStatusCode(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"400\"), \").end(result.cause().getMessage());\\n                }\\n            });\\n        }\\n    });\\n}\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"responseWithInvalidRequest\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(RoutingContext ctx)\"), \" \"), \"{\\n    ctx.response()\\n            .setStatusCode(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"400\"), \")\\n            .putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"application/json; charset=utf-8\\\"\"), \")\\n            .end(invalidRequest().toString());\\n}\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" JsonObject \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"invalidRequest\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" JsonObject().put(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"message\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Invalid request\\\"\"), \");\\n}\\n\")), mdx(\"p\", null, \"You may no\\xADtice that \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"insertNewLinkForUser\"), \" is a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"PreparedStatement\"), \", and should be ini\\xADtial\\xADized be\\xADfore the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AppVerticle\"), \" start. Let\\u2019s do it in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AppVerticle#prepareNecessaryQueries\"), \" method:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" Future\u003cVoid\u003e \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"prepareNecessaryQueries\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n    Future\u003cPreparedStatement\u003e insertNewLinkForUserPrepFuture = Future.future();\\n    client.prepare(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO rss_by_user (login , rss_link ) VALUES ( ?, ?);\\\"\"), \", insertNewLinkForUserPrepFuture);\\n\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" insertNewLinkForUserPrepFuture.compose(preparedStatement -\u003e {\\n        insertNewLinkForUser = preparedStatement;\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" Future.succeededFuture();\\n    });\\n}\\n\")), mdx(\"p\", null, \"Also, we should not for\\xADget to fetch a RSS by the link sent to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FetchVerticle\"), \" via the Event Bus. We can do it in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FetchVerticle#startFetchEventBusConsumer\"), \" method:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"vertx.eventBus().localConsumer(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"fetch.rss.link\\\"\"), \", message -\u003e {\\n    String rssLink = (String) message.body();\\n    log.info(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"fetching \\\"\"), \" + rssLink);\\n    webClient.getAbs(rssLink).send(response -\u003e {\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (response.succeeded()) {\\n            String bodyAsString = response.result().bodyAsString(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"UTF-8\\\"\"), \");\\n            \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"try\"), \" {\\n                RssChannel rssChannel = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" RssChannel(bodyAsString);\\n\\n                BatchStatement batchStatement = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" BatchStatement();\\n                BoundStatement channelInfoInsertQuery = insertChannelInfo.bind(\\n                        rssLink, \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" Date(System.currentTimeMillis()), rssChannel.description, rssChannel.link, rssChannel.title\\n                );\\n                batchStatement.add(channelInfoInsertQuery);\\n\\n                \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"for\"), \" (Article article : rssChannel.articles) {\\n                    batchStatement.add(insertArticleInfo.bind(rssLink, article.pubDate, article.link, article.description, article.title));\\n                }\\n                Future\u003cResultSet\u003e insertArticlesFuture = Future.future();\\n                cassandraClient.execute(batchStatement, insertArticlesFuture);\\n\\n                insertArticlesFuture.compose(insertDone -\u003e Future.succeededFuture());\\n            } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"catch\"), \" (Exception e) {\\n                log.error(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Unable to fetch: \\\"\"), \" + rssLink, e);\\n            }\\n        } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n            log.error(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Unable to fetch: \\\"\"), \" + rssLink);\\n        }\\n    });\\n});\\n\")), mdx(\"p\", null, \"And, fi\\xADnally, this code would not work if \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"insertChannelInfo\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"insertArticleInfo\"), \" state\\xADments will not be ini\\xADtial\\xADized at ver\\xADti\\xADcle start. Let\\u2019s to this in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FetchVerticle#prepareNecessaryQueries\"), \" method:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" Future\u003cVoid\u003e \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"prepareNecessaryQueries\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n        Future\u003cPreparedStatement\u003e insertChannelInfoPrepFuture = Future.future();\\n        cassandraClient.prepare(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO channel_info_by_rss_link ( rss_link , last_fetch_time, description , site_link , title ) VALUES (?, ?, ?, ?, ?);\\\"\"), \", insertChannelInfoPrepFuture);\\n\\n        Future\u003cPreparedStatement\u003e insertArticleInfoPrepFuture = Future.future();\\n        cassandraClient.prepare(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO articles_by_rss_link ( rss_link , pubdate , article_link , description , title ) VALUES ( ?, ?, ?, ?, ?);\\\"\"), \", insertArticleInfoPrepFuture);\\n\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" CompositeFuture.all(\\n                insertChannelInfoPrepFuture.compose(preparedStatement -\u003e {\\n                    insertChannelInfo = preparedStatement;\\n                    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" Future.succeededFuture();\\n                }), insertArticleInfoPrepFuture.compose(preparedStatement -\u003e {\\n                    insertArticleInfo = preparedStatement;\\n                    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" Future.succeededFuture();\\n                })\\n        ).mapEmpty();\\n    }\\n\")), mdx(\"h2\", {\n    \"id\": \"observing\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#observing\"\n  })), \"Observing\"), mdx(\"p\", null, \"After all these changes, you should en\\xADsure that the first end\\xADpoint is work\\xADing cor\\xADrectly. You need to run the ap\\xADpli\\xADca\\xADtion, go to lo\\xADcal\\xADhost:8080 in\\xADsert a link to a rss feed there(\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://feeds.bbci.co.uk/news/uk/rss.xml\"\n  }), \"BBC UK feed news\"), \" for ex\\xADam\\xADple) and then click the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"ENTER\"), \" but\\xADton. Now you can con\\xADnect to your local Cas\\xADsan\\xADdra in\\xADstance, for in\\xADstance with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.datastax.com/en/cql/3.3/cql/cql_reference/cqlsh.html\"\n  }), \"cqlsh\"), \", and find out how RSS feed data had been saved in the rss_reader key\\xADspace:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-sql\"\n  }), \"cqlsh\u003e \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"SELECT\"), \" * \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"FROM\"), \" rss_reader.rss_by_user \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"limit\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"1\"), \"  ;\\n\\n login | rss_link\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"-------+-----------------------------------------\"), \"\\n Pavel | http://feeds.bbci.co.uk/news/uk/rss.xml\\n\\n(1 rows)\\ncqlsh\u003e \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"SELECT\"), \" description \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"FROM\"), \" rss_reader.articles_by_rss_link  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"limit\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"1\"), \";\\n\\n description\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"-------------------------------------\"), \"\\n BBC coverage of latest developments\\n\\n(1 rows)\\n\")), mdx(\"h2\", {\n    \"id\": \"conclusion\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#conclusion\"\n  })), \"Conclusion\"), mdx(\"p\", null, \"In this ar\\xADti\\xADcle we fig\\xADured out how to im\\xADple\\xADment the first end\\xADpoint of RSS-\\u200Breader app. If you have any prob\\xADlems with com\\xADplet\\xADing this step you can check\\xADout to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"step_2\"), \", where you can find all changes made for com\\xADplet\\xADing this step:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-better-shell\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"$\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"bash\"\n  }), \" git checkout step_2\"), \"\\n\")), mdx(\"p\", null, \"Thanks for read\\xADing this. I hope you en\\xADjoyed read\\xADing this ar\\xADti\\xADcle. See you soon on our \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://gitter.im/eclipse-vertx/vertx-users\"\n  }), \"Git\\xADter chan\\xADnel\"), \"!\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eThis tu­to­r­ial is ded­i­cated for users who’d like to know how to use the Eclipse Vert.x Cas­san­dra client in prac­tice.\u003c/p\u003e\u003ch2 id=\"before-you-start-this-tutorial\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#before-you-start-this-tutorial\"\u003e\u003c/a\u003eBefore you start this tutorial\u003c/h2\u003e\u003cp\u003eBe­fore start­ing, you should\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003ebe fa­mil­iar with \u003ca href=\"https://vertx.io/\"\u003eEclipse Vert.x\u003c/a\u003e. If you are not, here is the \u003ca href=\"https://vertx.io/docs/guide-for-java-devs/\"\u003eguide for Java de­vel­op­ers\u003c/a\u003e.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003ehave some basic un­der­stand­ing of data­bases. Ex­tended knowl­edge of Cas­san­dra is not re­quired.\u003c/p\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eYou also may find it use­ful to read \u003ca href=\"https://validator.w3.org/feed/docs/rss2.html\"\u003ethe RSS 2.0\u003c/a\u003e spec­i­fi­ca­tion, be­cause the re­sulted app is, ba­si­cally, a stor­age of RSS 2.0 feeds.\u003c/p\u003e\u003cp\u003eTo give you an idea of what the App is about, here is how it looks like from the fronted side:\u003c/p\u003e\u003cimg src=\"https://i.imgur.com/2V954zx.png\" alt=\"see how it looks\" class=\"img-fluid\"/\u003e\u003cp\u003eIn the image, we see that browser space is split into 2 parts:\u003c/p\u003e\u003col\u003e\u003cli\u003eSaved feed names\u003c/li\u003e\u003cli\u003eList of ar­ti­cles for the se­lected feed\u003c/li\u003e\u003c/ol\u003e\u003cp\u003eHere you also can enter a link to a new feed, so the App will fetch and parse the feed.\nAfter that, it will ap­pear in the left col­umn along with other saved feeds.\u003c/p\u003e\u003ch2 id=\"requirements\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#requirements\"\u003e\u003c/a\u003eRequirements\u003c/h2\u003e\u003cp\u003eFor com­plet­ing this tu­to­r­ial you need:\u003c/p\u003e\u003cul\u003e\u003cli\u003eJava 8 or higher\u003c/li\u003e\u003cli\u003eGit\u003c/li\u003e\u003cli\u003e1 hour of your time\u003c/li\u003e\u003cli\u003eYou fa­vorite code ed­i­tor\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eFor run­ning the ex­am­ple you should en­sure that Cas­san­dra ser­vice is run­ning lo­cally on port 9042.\nAs an op­tion, you can run Cas­san­dra with \u003ca href=\"https://github.com/riptano/ccm#installation\"\u003eccm\u003c/a\u003e(Cas­san­dra Clus­ter Man­ager).\nFol­low \u003ca href=\"https://github.com/riptano/ccm#installation\"\u003ethis\u003c/a\u003e in­struc­tions for in­stalling ccm.\nAfter in­stalling you will be able to run a sin­gle node clus­ter:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-better-shell\"\u003e\u003cspan class=\"hljs-meta\"\u003e$\u003c/span\u003e\u003cspan class=\"bash\"\u003e ccm create rss_reader -v 3.11.2 -n 1 -s\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e$\u003c/span\u003e\u003cspan class=\"bash\"\u003e ccm start\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eBe­fore com­plet­ing this step make sure that you have suc­cess­fully cloned the RSS reader repos­i­tory and checked out the \u003ccode\u003estep_1\u003c/code\u003e branch:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-better-shell\"\u003e\u003cspan class=\"hljs-meta\"\u003e$\u003c/span\u003e\u003cspan class=\"bash\"\u003e git \u003cspan class=\"hljs-built_in\"\u003eclone\u003c/span\u003e https://github.com/Sammers21/rss-reader\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e$\u003c/span\u003e\u003cspan class=\"bash\"\u003e \u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e rss-reader\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e$\u003c/span\u003e\u003cspan class=\"bash\"\u003e git checkout step_1\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow you can try to tun this ex­am­ple and see if it works:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-better-shell\"\u003e\u003cspan class=\"hljs-meta\"\u003e$\u003c/span\u003e\u003cspan class=\"bash\"\u003e ./gradlew vertxRun\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"schema\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#schema\"\u003e\u003c/a\u003eSchema\u003c/h2\u003e\u003cp\u003eIf you are fa­mil­iar with \u003ca href=\"http://cassandra.apache.org/\"\u003eApache Cas­san­dra\u003c/a\u003e, you\nshould know that the way your data is stored in Cas­san­dra is de­pen­dent on queries\nyou are run­ning. It means that you need first to fig­ure out what kind of queries\nyou will be run­ning, and then you can pro­duce a stor­age scheme.\u003c/p\u003e\u003cp\u003eIn our case, we’d like our ap­pli­ca­tion to have 3 end­points:\u003c/p\u003e\u003col\u003e\u003cli\u003e\u003ccode\u003ePOST /user/{user_id}/rss_link\u003c/code\u003e - for adding links to a user’s feed\u003c/li\u003e\u003cli\u003e\u003ccode\u003eGET /user/{user_id}/rss_channels\u003c/code\u003e - for re­triev­ing in­for­ma­tion about RSS chan­nels a user sub­scribed on\u003c/li\u003e\u003cli\u003e\u003ccode\u003eGET /articles/by_rss_link?link={rss_link}\u003c/code\u003e - for re­triev­ing in­for­ma­tion about ar­ti­cles on a spe­cific RSS chan­nel\u003c/li\u003e\u003c/ol\u003e\u003cp\u003eFor im­ple­ment­ing this end­points, the schema should look as fol­lows:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-sql\"\u003e\u003cspan class=\"hljs-keyword\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eTABLE\u003c/span\u003e rss_by_user (login \u003cspan class=\"hljs-built_in\"\u003etext\u003c/span\u003e , rss_link \u003cspan class=\"hljs-built_in\"\u003etext\u003c/span\u003e, PRIMARY \u003cspan class=\"hljs-keyword\"\u003eKEY\u003c/span\u003e (login, rss_link));\n\u003cspan class=\"hljs-keyword\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eTABLE\u003c/span\u003e articles_by_rss_link(rss_link \u003cspan class=\"hljs-built_in\"\u003etext\u003c/span\u003e, pubDate \u003cspan class=\"hljs-built_in\"\u003etimestamp\u003c/span\u003e, title \u003cspan class=\"hljs-built_in\"\u003etext\u003c/span\u003e, article_link \u003cspan class=\"hljs-built_in\"\u003etext\u003c/span\u003e, description \u003cspan class=\"hljs-built_in\"\u003etext\u003c/span\u003e, PRIMARY \u003cspan class=\"hljs-keyword\"\u003eKEY\u003c/span\u003e ( rss_link , pubDate , article_link));\n\u003cspan class=\"hljs-keyword\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eTABLE\u003c/span\u003e channel_info_by_rss_link(rss_link \u003cspan class=\"hljs-built_in\"\u003etext\u003c/span\u003e, last_fetch_time \u003cspan class=\"hljs-built_in\"\u003etimestamp\u003c/span\u003e,title \u003cspan class=\"hljs-built_in\"\u003etext\u003c/span\u003e, site_link \u003cspan class=\"hljs-built_in\"\u003etext\u003c/span\u003e, description \u003cspan class=\"hljs-built_in\"\u003etext\u003c/span\u003e, PRIMARY \u003cspan class=\"hljs-keyword\"\u003eKEY\u003c/span\u003e(rss_link));\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"what-to-do-in-this-step\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#what-to-do-in-this-step\"\u003e\u003c/a\u003eWhat to do in this step\u003c/h2\u003e\u003cp\u003eIn this step, we will im­ple­ment only the first end­point\u003c/p\u003e\u003ch2 id=\"project-overview\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#project-overview\"\u003e\u003c/a\u003eProject overview\u003c/h2\u003e\u003cp\u003eThere are two no­table classes in the project: \u003ccode\u003eAppVerticle\u003c/code\u003e and \u003ccode\u003eFetchVerticle\u003c/code\u003e. The first one is a \u003ca href=\"https://vertx.io/docs/vertx-core/java/#_verticles\"\u003eVer­ti­cle\u003c/a\u003e re­spon­si­ble for HTTP re­quest han­dling and stor­age schema ini­tial­iza­tion. The sec­ond one is a \u003ca href=\"https://vertx.io/docs/vertx-core/java/#_verticles\"\u003eVer­ti­cle\u003c/a\u003e as well, but re­spon­si­ble for RSS feeds fetch­ing.\u003c/p\u003e\u003cp\u003eThe idea is sim­ple. When the ap­pli­ca­tion is start­ing the \u003ccode\u003eAppVerticle\u003c/code\u003e is de­ployed, then it tries to ini­tial­ize stor­age schema, de­scribed in \u003ccode\u003esrc/main/resources/schema.cql\u003c/code\u003e file by read­ing it and ex­e­cut­ing listed queries line by line. After the schema ini­tial­iza­tion the \u003ccode\u003eAppVerticle\u003c/code\u003e de­ploys \u003ccode\u003eFetchVerticle\u003c/code\u003e and starts a HTTP server.\u003c/p\u003e\u003ch2 id=\"implementing-the-endpoint\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#implementing-the-endpoint\"\u003e\u003c/a\u003eImplementing the endpoint\u003c/h2\u003e\u003cp\u003eNow, it is time to im­ple­ment the first end­point. Pay at­ten­tion to \u003ccode\u003eTODO\u003c/code\u003es, they are for point­ing you out about where changes should be made.\u003c/p\u003e\u003cp\u003eNow, let’s have a look at the \u003ccode\u003eAppVerticle#postRssLink\u003c/code\u003e method. This method is called each time the first end­point is called, so we can fig­ure out what is the posted body and id of the user, who per­formed the re­quest, di­rectly there. There are 2 main things we want to do in this method:\u003c/p\u003e\u003col\u003e\u003cli\u003eNo­ti­fy­ing via the \u003ca href=\"https://vertx.io/docs/vertx-core/java/#event_bus\"\u003eEvent Bus\u003c/a\u003e the \u003ccode\u003eFetchVerticle\u003c/code\u003e to fetch given by user link link to an RSS feed.\u003c/li\u003e\u003cli\u003eIn­sert­ing an entry to the \u003ccode\u003erss_by_user\u003c/code\u003e table.\u003c/li\u003e\u003c/ol\u003e\u003cp\u003eThis is how the \u003ccode\u003eAppVerticle#postRssLink\u003c/code\u003e method should be im­ple­mented:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003epostRssLink\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(RoutingContext ctx)\u003c/span\u003e \u003c/span\u003e{\n    ctx.request().bodyHandler(body -\u0026gt; {\n        JsonObject bodyAsJson = body.toJsonObject();\n        String link = bodyAsJson.getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;link\u0026quot;\u003c/span\u003e);\n        String userId = ctx.request().getParam(\u003cspan class=\"hljs-string\"\u003e\u0026quot;user_id\u0026quot;\u003c/span\u003e);\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (link == \u003cspan class=\"hljs-keyword\"\u003enull\u003c/span\u003e || userId == \u003cspan class=\"hljs-keyword\"\u003enull\u003c/span\u003e) {\n            responseWithInvalidRequest(ctx);\n        } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n            vertx.eventBus().send(\u003cspan class=\"hljs-string\"\u003e\u0026quot;fetch.rss.link\u0026quot;\u003c/span\u003e, link);\n            Future\u0026lt;ResultSet\u0026gt; future = Future.future();\n            BoundStatement query = insertNewLinkForUser.bind(userId, link);\n            client.execute(query, future);\n            future.setHandler(result -\u0026gt; {\n                \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (result.succeeded()) {\n                    ctx.response().end(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;message\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;The feed just added\u0026quot;\u003c/span\u003e).toString());\n                } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n                    ctx.response().setStatusCode(\u003cspan class=\"hljs-number\"\u003e400\u003c/span\u003e).end(result.cause().getMessage());\n                }\n            });\n        }\n    });\n}\n\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eresponseWithInvalidRequest\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(RoutingContext ctx)\u003c/span\u003e \u003c/span\u003e{\n    ctx.response()\n            .setStatusCode(\u003cspan class=\"hljs-number\"\u003e400\u003c/span\u003e)\n            .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;application/json; charset=utf-8\u0026quot;\u003c/span\u003e)\n            .end(invalidRequest().toString());\n}\n\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e JsonObject \u003cspan class=\"hljs-title\"\u003einvalidRequest\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;message\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Invalid request\u0026quot;\u003c/span\u003e);\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eYou may no­tice that \u003ccode\u003einsertNewLinkForUser\u003c/code\u003e is a \u003ccode\u003ePreparedStatement\u003c/code\u003e, and should be ini­tial­ized be­fore the \u003ccode\u003eAppVerticle\u003c/code\u003e start. Let’s do it in the \u003ccode\u003eAppVerticle#prepareNecessaryQueries\u003c/code\u003e method:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e Future\u0026lt;Void\u0026gt; \u003cspan class=\"hljs-title\"\u003eprepareNecessaryQueries\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    Future\u0026lt;PreparedStatement\u0026gt; insertNewLinkForUserPrepFuture = Future.future();\n    client.prepare(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO rss_by_user (login , rss_link ) VALUES ( ?, ?);\u0026quot;\u003c/span\u003e, insertNewLinkForUserPrepFuture);\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e insertNewLinkForUserPrepFuture.compose(preparedStatement -\u0026gt; {\n        insertNewLinkForUser = preparedStatement;\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.succeededFuture();\n    });\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAlso, we should not for­get to fetch a RSS by the link sent to \u003ccode\u003eFetchVerticle\u003c/code\u003e via the Event Bus. We can do it in the \u003ccode\u003eFetchVerticle#startFetchEventBusConsumer\u003c/code\u003e method:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003evertx.eventBus().localConsumer(\u003cspan class=\"hljs-string\"\u003e\u0026quot;fetch.rss.link\u0026quot;\u003c/span\u003e, message -\u0026gt; {\n    String rssLink = (String) message.body();\n    log.info(\u003cspan class=\"hljs-string\"\u003e\u0026quot;fetching \u0026quot;\u003c/span\u003e + rssLink);\n    webClient.getAbs(rssLink).send(response -\u0026gt; {\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (response.succeeded()) {\n            String bodyAsString = response.result().bodyAsString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;UTF-8\u0026quot;\u003c/span\u003e);\n            \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n                RssChannel rssChannel = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e RssChannel(bodyAsString);\n\n                BatchStatement batchStatement = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e BatchStatement();\n                BoundStatement channelInfoInsertQuery = insertChannelInfo.bind(\n                        rssLink, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e Date(System.currentTimeMillis()), rssChannel.description, rssChannel.link, rssChannel.title\n                );\n                batchStatement.add(channelInfoInsertQuery);\n\n                \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (Article article : rssChannel.articles) {\n                    batchStatement.add(insertArticleInfo.bind(rssLink, article.pubDate, article.link, article.description, article.title));\n                }\n                Future\u0026lt;ResultSet\u0026gt; insertArticlesFuture = Future.future();\n                cassandraClient.execute(batchStatement, insertArticlesFuture);\n\n                insertArticlesFuture.compose(insertDone -\u0026gt; Future.succeededFuture());\n            } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (Exception e) {\n                log.error(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Unable to fetch: \u0026quot;\u003c/span\u003e + rssLink, e);\n            }\n        } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n            log.error(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Unable to fetch: \u0026quot;\u003c/span\u003e + rssLink);\n        }\n    });\n});\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAnd, fi­nally, this code would not work if \u003ccode\u003einsertChannelInfo\u003c/code\u003e and \u003ccode\u003einsertArticleInfo\u003c/code\u003e state­ments will not be ini­tial­ized at ver­ti­cle start. Let’s to this in the \u003ccode\u003eFetchVerticle#prepareNecessaryQueries\u003c/code\u003e method:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e Future\u0026lt;Void\u0026gt; \u003cspan class=\"hljs-title\"\u003eprepareNecessaryQueries\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n        Future\u0026lt;PreparedStatement\u0026gt; insertChannelInfoPrepFuture = Future.future();\n        cassandraClient.prepare(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO channel_info_by_rss_link ( rss_link , last_fetch_time, description , site_link , title ) VALUES (?, ?, ?, ?, ?);\u0026quot;\u003c/span\u003e, insertChannelInfoPrepFuture);\n\n        Future\u0026lt;PreparedStatement\u0026gt; insertArticleInfoPrepFuture = Future.future();\n        cassandraClient.prepare(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO articles_by_rss_link ( rss_link , pubdate , article_link , description , title ) VALUES ( ?, ?, ?, ?, ?);\u0026quot;\u003c/span\u003e, insertArticleInfoPrepFuture);\n\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e CompositeFuture.all(\n                insertChannelInfoPrepFuture.compose(preparedStatement -\u0026gt; {\n                    insertChannelInfo = preparedStatement;\n                    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.succeededFuture();\n                }), insertArticleInfoPrepFuture.compose(preparedStatement -\u0026gt; {\n                    insertArticleInfo = preparedStatement;\n                    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.succeededFuture();\n                })\n        ).mapEmpty();\n    }\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"observing\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#observing\"\u003e\u003c/a\u003eObserving\u003c/h2\u003e\u003cp\u003eAfter all these changes, you should en­sure that the first end­point is work­ing cor­rectly. You need to run the ap­pli­ca­tion, go to lo­cal­host:8080 in­sert a link to a rss feed there(\u003ca href=\"http://feeds.bbci.co.uk/news/uk/rss.xml\"\u003eBBC UK feed news\u003c/a\u003e for ex­am­ple) and then click the \u003cem\u003eENTER\u003c/em\u003e but­ton. Now you can con­nect to your local Cas­san­dra in­stance, for in­stance with \u003ca href=\"https://docs.datastax.com/en/cql/3.3/cql/cql_reference/cqlsh.html\"\u003ecqlsh\u003c/a\u003e, and find out how RSS feed data had been saved in the rss_reader key­space:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-sql\"\u003ecqlsh\u0026gt; \u003cspan class=\"hljs-keyword\"\u003eSELECT\u003c/span\u003e * \u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e rss_reader.rss_by_user \u003cspan class=\"hljs-keyword\"\u003elimit\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e  ;\n\n login | rss_link\n\u003cspan class=\"hljs-comment\"\u003e-------+-----------------------------------------\u003c/span\u003e\n Pavel | http://feeds.bbci.co.uk/news/uk/rss.xml\n\n(1 rows)\ncqlsh\u0026gt; \u003cspan class=\"hljs-keyword\"\u003eSELECT\u003c/span\u003e description \u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e rss_reader.articles_by_rss_link  \u003cspan class=\"hljs-keyword\"\u003elimit\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e;\n\n description\n\u003cspan class=\"hljs-comment\"\u003e-------------------------------------\u003c/span\u003e\n BBC coverage of latest developments\n\n(1 rows)\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"conclusion\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#conclusion\"\u003e\u003c/a\u003eConclusion\u003c/h2\u003e\u003cp\u003eIn this ar­ti­cle we fig­ured out how to im­ple­ment the first end­point of RSS-​reader app. If you have any prob­lems with com­plet­ing this step you can check­out to \u003ccode\u003estep_2\u003c/code\u003e, where you can find all changes made for com­plet­ing this step:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-better-shell\"\u003e\u003cspan class=\"hljs-meta\"\u003e$\u003c/span\u003e\u003cspan class=\"bash\"\u003e git checkout step_2\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThanks for read­ing this. I hope you en­joyed read­ing this ar­ti­cle. See you soon on our \u003ca href=\"https://gitter.im/eclipse-vertx/vertx-users\"\u003eGit­ter chan­nel\u003c/a\u003e!\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"feed","tf":12},{"term":"rss","tf":11},{"term":"cassandra","tf":8},{"term":"endpoint","tf":8},{"term":"run","tf":7},{"term":"first","tf":7},{"term":"method","tf":7},{"term":"start","tf":6},{"term":"link","tf":6},{"term":"will","tf":6},{"term":"implement","tf":6},{"term":"user","tf":5},{"term":"not","tf":5},{"term":"step","tf":5},{"term":"schema","tf":5},{"term":"initi","tf":5},{"term":"read","tf":4},{"term":"app","tf":4},{"term":"storag","tf":4},{"term":"articl","tf":4},{"term":"fetch","tf":4},{"term":"complet","tf":4},{"term":"tutori","tf":3},{"term":"find","tf":3},{"term":"look","tf":3}]}],"numPages":16},"__N_SSG":true},"page":"/blog/[[...slug]]","query":{"slug":["page","5"]},"buildId":"C_I4gGOFTI-4fY_eV8SrD","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-5a9a91c546a2d4fb4cc4.js"></script><script src="/_next/static/chunks/main-79fb140702e98d221643.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/framework.4df82c4704a0136f6a4b.js" async=""></script><script src="/_next/static/chunks/commons.7726cd762eacbba73350.js" async=""></script><script src="/_next/static/chunks/styles.8577696c4e17514af975.js" async=""></script><script src="/_next/static/chunks/pages/_app-8beb549608891d89d2f4.js" async=""></script><script src="/_next/static/chunks/4f16b6dee4e09daf8bf4ac98169064eb9dcaeaf1.72e9236f86e8a2b5e7a0.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-3cd5466df6cee536d361.js" async=""></script><script src="/_next/static/C_I4gGOFTI-4fY_eV8SrD/_buildManifest.js" async=""></script><script src="/_next/static/C_I4gGOFTI-4fY_eV8SrD/_ssgManifest.js" async=""></script></body></html>