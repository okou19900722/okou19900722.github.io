<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><title>Page 6 | Blog | Eclipse Vert.x</title><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/styles.176b8cb6.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.176b8cb6.chunk.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-79fb140702e98d221643.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.4df82c4704a0136f6a4b.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.7726cd762eacbba73350.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.8577696c4e17514af975.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-8beb549608891d89d2f4.js" as="script"/><link rel="preload" href="/_next/static/chunks/4f16b6dee4e09daf8bf4ac98169064eb9dcaeaf1.72e9236f86e8a2b5e7a0.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-3cd5466df6cee536d361.js" as="script"/></head><body><div id="__next"><main class="page"><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><a class="navbar-menu-item" href="/introduction-to-vertx-and-reactive/">Intro</a><a class="navbar-menu-item" href="/docs/">Docs</a><a class="navbar-menu-item" href="/faq/">FAQ</a><a class="navbar-menu-item" href="/blog/">Blog</a><a class="navbar-menu-item" href="/community/">Community</a></div><div class="navbar-social"><div class="dropdown"><a class="dropdown-title">v4.0.0<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"><a href="/docs/"><li class="dropdown-item active"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dropdown-check-icon"><polyline points="20 6 9 17 4 12"></polyline></svg>Latest (v<!-- -->4.0.0<!-- -->)</li></a><a href="/docs/3.9.2"><li class="dropdown-item">v<!-- -->3.9.2</li></a><a href="/docs/3.9.1"><li class="dropdown-item">v<!-- -->3.9.1</li></a><a href="/docs/3.9.0"><li class="dropdown-item">v<!-- -->3.9.0</li></a></ul></div><a href="https://github.com/vert-x3/vertx-awesome" class="navbar-social-link" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M23.996 10.648l-6.153-5.644-.865.944 5.127 4.7H1.895l5.127-4.705L6.157 5 .004 10.648H0v3.72c0 1.682 1.62 3.052 3.61 3.052h3.794c1.99 0 3.61-1.37 3.61-3.051v-2.445h1.968v2.445c0 1.681 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.72z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" class="navbar-social-link" title="Stack Overflow" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>Stack Overflow</title><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" class="navbar-social-link" title="YouTube" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>YouTube</title><path d="M23.495 6.205a3.007 3.007 0 0 0-2.088-2.088c-1.87-.501-9.396-.501-9.396-.501s-7.507-.01-9.396.501A3.007 3.007 0 0 0 .527 6.205a31.247 31.247 0 0 0-.522 5.805 31.247 31.247 0 0 0 .522 5.783 3.007 3.007 0 0 0 2.088 2.088c1.868.502 9.396.502 9.396.502s7.506 0 9.396-.502a3.007 3.007 0 0 0 2.088-2.088 31.247 31.247 0 0 0 .5-5.783 31.247 31.247 0 0 0-.5-5.805zM9.609 15.601V8.408l6.264 3.602z"></path></svg></a><a href="https://gitter.im/eclipse-vertx/vertx-users" class="navbar-social-link" title="Gitter" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Gitter"><title>Gitter</title><path d="M8.501 4.001H10.5V24H8.501V4.001zm6.999 0V24h-2V4.001h2zM3.5 0h2.001v15H3.5V0zm15 4.001h2V15h-2V4.001z"></path></svg></a></div></div></div></div></header><div class="page-content"><div class="container"><div class="blog"><div class="blog-navbar"><h2>Blog</h2><ul><li><a href="/blog/">All posts</a></li><li><a href="/blog/category/releases/">releases</a></li><li><a href="/blog/category/guides/">guides</a></li><li><a href="/blog/category/news/">news</a></li></ul></div><div class="blog-entries"><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">13 July 2018</span><a class="blog-entry-category" href="/blog/category/releases/">releases</a></div><h3><a href="/blog/eclipse-vert-x-3-5-3/">Eclipse Vert.x 3.5.3</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/vietj.png?size=50"/><a href="https://github.com/vietj" target="_blank" rel="noopener noreferrer">Julien Viet</a></li></ul></span><p class="blog-entry-summary">We have just released Vert.x 3.5.3, a bug fix release of Vert.x 3.5.x.</p><span class="read-more-link"><a href="/blog/eclipse-vert-x-3-5-3/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">2 July 2018</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/simplified-database-transaction-management-with-the-vert-x-rxjava-api/">Simplified database transaction management with the Vert.x RxJava API</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/tsegismont.png?size=50"/><a href="https://github.com/tsegismont" target="_blank" rel="noopener noreferrer">Thomas Segismont</a></li></ul></span><p class="blog-entry-summary">As of Vert.x 3.5, managing database transactions requires a lot of boilerplate code. Vert.x 3.6 provides helpers to easily make a reactive flow transactional.</p><span class="read-more-link"><a href="/blog/simplified-database-transaction-management-with-the-vert-x-rxjava-api/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">8 June 2018</span><a class="blog-entry-category" href="/blog/category/releases/">releases</a></div><h3><a href="/blog/eclipse-vert-x-3-5-2/">Eclipse Vert.x 3.5.2</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/vietj.png?size=50"/><a href="https://github.com/vietj" target="_blank" rel="noopener noreferrer">Julien Viet</a></li></ul></span><p class="blog-entry-summary">We have just released Vert.x 3.5.2, a bug fix release of Vert.x 3.5.x.</p><span class="read-more-link"><a href="/blog/eclipse-vert-x-3-5-2/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">4 June 2018</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/eclipse-vert-x-goes-native/">Eclipse Vert.x goes Native</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/jotschi.png?size=50"/><a href="https://github.com/jotschi" target="_blank" rel="noopener noreferrer">Johannes Schüth</a></li></ul></span><p class="blog-entry-summary">This blog post introduces native image generation of Vert.x applications with GraalVM. Generated executables can be run without a JVM.</p><span class="read-more-link"><a href="/blog/eclipse-vert-x-goes-native/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">23 April 2018</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/eclipse-vert-x-rabbitmq-client-gets-a-new-consumer-api/">Eclipse Vert.x RabbitMQ client gets a new consumer API!</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/Sammers21.png?size=50"/><a href="https://github.com/Sammers21" target="_blank" rel="noopener noreferrer">Pavel Drankov</a></li></ul></span><p class="blog-entry-summary">In this blog post, we present the new consumer API of the RabbitMQ client that will be released with Eclipse Vert.x 3.6.0.</p><span class="read-more-link"><a href="/blog/eclipse-vert-x-rabbitmq-client-gets-a-new-consumer-api/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">13 April 2018</span><a class="blog-entry-category" href="/blog/category/news/">news</a></div><h3><a href="/blog/new-community-channels/">New community channels</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/tsegismont.png?size=50"/><a href="https://github.com/tsegismont" target="_blank" rel="noopener noreferrer">Thomas Segismont</a></li></ul></span><p class="blog-entry-summary">In order to better support the community, we (the core team and module maintainers) now also provide help on Stack Overflow and Gitter.</p><span class="read-more-link"><a href="/blog/new-community-channels/">Read more</a></span></div></div><div class="pagination"><div class="pagination-page"><a href="/blog/page/5/">«</a></div><div class="pagination-page"><a href="/blog/">1</a></div><div class="pagination-page disabled">…</div><div class="pagination-page"><a href="/blog/page/5/">5</a></div><div class="pagination-page active"><a href="/blog/page/6/">6</a></div><div class="pagination-page"><a href="/blog/page/7/">7</a></div><div class="pagination-page"><a href="/blog/page/8/">8</a></div><div class="pagination-page"><a href="/blog/page/9/">9</a></div><div class="pagination-page disabled">…</div><div class="pagination-page"><a href="/blog/page/16/">16</a></div><div class="pagination-page"><a href="/blog/page/7/">»</a></div></div></div></div></div><footer><div class="container"><div class="footer-nav-section"><div class="footer-nav-list footer-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="footer-nav-list"><h5>Eclipse Vert.x</h5><ul class=""><li><a class="navbar-menu-item" href="/docs/">Docs</a></li><li><a href="/faq/">FAQ</a></li><li><a href="/blog/">Blog</a></li><li><a href="/community/">Community</a></li></ul></div><div class="footer-nav-list"><h5>Eclipse</h5><ul class=""><li><a href="https://www.eclipse.org/">Eclipse Foundation</a></li><li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li><li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li><li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li><li><a href="https://www.eclipse.org/legal/">Legal Resources</a></li></ul></div></div><div class="footer-copyright"><div class="footer-copyright-remarks">© <!-- -->2020<!-- --> Eclipse Vert.x<br/>Eclipse Vert.x is open source and dual-licensed under the <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer">Eclipse Public License 2.0</a> and the <a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer">Apache License 2.0</a>. <br class="footer-copyright-break"/>Website design by <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer">Michel Krämer</a>.</div><div class="footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0TDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"categories":["releases","guides","news"],"page":6,"posts":[{"filename":"blog/2018-07-13-eclipse-vert-x-3-5-3.mdx","date":"2018-07-13","slug":"eclipse-vert-x-3-5-3","meta":{"title":"Eclipse Vert.x 3.5.3","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We have just released Vert.x 3.5.3, a bug fix release of Vert.x 3.5.x."},"readingTime":{"text":"1 min read","minutes":0.565,"time":33900,"words":113},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"We have just re\\xADleased Vert.x 3.5.3, a bug fix re\\xADlease of Vert.x 3.5.x.\"), mdx(\"p\", null, \"Since the re\\xADlease of Vert.x 3.5.2, quite a few bugs have been re\\xADported. We would like to thank you all for re\\xADport\\xADing these is\\xADsues.\"), mdx(\"p\", null, \"Vert.x 3.5.3 re\\xADlease notes:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/wiki/wiki/3.5.3-Release-Notes\"\n  }), \"https://github.com/vert-\\u200Bx3/wiki/wiki/3.5.3-\\u200BRelease-Notes\"))), mdx(\"p\", null, \"The event bus client using the SockJS bridge are avail\\xADable from NPM, Bower and as a We\\xADb\\xADJar:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.npmjs.com/package/vertx3-eventbus-client\"\n  }), \"https://www.npmjs.com/pack\\xADage/vertx3-\\u200Beventbus-client\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-bus-bower\"\n  }), \"https://github.com/vert-\\u200Bx3/vertx-\\u200Bbus-bower\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://www.webjars.org/\"\n  }), \"http://www.we\\xADb\\xADjars.org/\"))), mdx(\"p\", null, \"Docker im\\xADages are also avail\\xADable on the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://hub.docker.com/u/vertx/\"\n  }), \"Docker Hub\"), \". The Vert.x dis\\xADtri\\xADb\\xADu\\xADtion is also avail\\xADable from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://sdkman.io/index.html\"\n  }), \"SD\\xADKMan\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://brew.sh/\"\n  }), \"Home\\xADBrew\"), \".\"), mdx(\"p\", null, \"The ar\\xADti\\xADfacts have been de\\xADployed to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22io.vertx%22%20AND%20v%3A%223.5.2%22\"\n  }), \"Maven Cen\\xADtral\"), \" and you can get the dis\\xADtri\\xADb\\xADu\\xADtion on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://bintray.com/vertx/downloads/distribution/3.5.2/view\"\n  }), \"Bin\\xADtray\"), \".\"), mdx(\"p\", null, \"Happy cod\\xADing and see you soon on our user or dev \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/community\"\n  }), \"chan\\xADnels\"), \".\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eWe have just re­leased Vert.x 3.5.3, a bug fix re­lease of Vert.x 3.5.x.\u003c/p\u003e\u003cp\u003eSince the re­lease of Vert.x 3.5.2, quite a few bugs have been re­ported. We would like to thank you all for re­port­ing these is­sues.\u003c/p\u003e\u003cp\u003eVert.x 3.5.3 re­lease notes:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://github.com/vert-x3/wiki/wiki/3.5.3-Release-Notes\"\u003ehttps://github.com/vert-​x3/wiki/wiki/3.5.3-​Release-Notes\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThe event bus client using the SockJS bridge are avail­able from NPM, Bower and as a We­b­Jar:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://www.npmjs.com/package/vertx3-eventbus-client\"\u003ehttps://www.npmjs.com/pack­age/vertx3-​eventbus-client\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://github.com/vert-x3/vertx-bus-bower\"\u003ehttps://github.com/vert-​x3/vertx-​bus-bower\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"http://www.webjars.org/\"\u003ehttp://www.we­b­jars.org/\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eDocker im­ages are also avail­able on the \u003ca href=\"https://hub.docker.com/u/vertx/\"\u003eDocker Hub\u003c/a\u003e. The Vert.x dis­tri­b­u­tion is also avail­able from \u003ca href=\"http://sdkman.io/index.html\"\u003eSD­KMan\u003c/a\u003e and \u003ca href=\"http://brew.sh/\"\u003eHome­Brew\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eThe ar­ti­facts have been de­ployed to \u003ca href=\"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22io.vertx%22%20AND%20v%3A%223.5.2%22\"\u003eMaven Cen­tral\u003c/a\u003e and you can get the dis­tri­b­u­tion on \u003ca href=\"https://bintray.com/vertx/downloads/distribution/3.5.2/view\"\u003eBin­tray\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eHappy cod­ing and see you soon on our user or dev \u003ca href=\"https://vertx.io/community\"\u003echan­nels\u003c/a\u003e.\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"releas","tf":5},{"term":"http","tf":4},{"term":"com","tf":3},{"term":"avail","tf":3},{"term":"bug","tf":2},{"term":"report","tf":2},{"term":"note","tf":2},{"term":"github","tf":2},{"term":"x3","tf":2},{"term":"wiki","tf":2},{"term":"bu","tf":2},{"term":"client","tf":2},{"term":"bower","tf":2},{"term":"webjar","tf":2},{"term":"www","tf":2},{"term":"docker","tf":2},{"term":"distribut","tf":2},{"term":"just","tf":1},{"term":"fix","tf":1},{"term":"quit","tf":1},{"term":"thank","tf":1},{"term":"issu","tf":1},{"term":"event","tf":1},{"term":"us","tf":1},{"term":"sockj","tf":1}]},{"filename":"blog/2018-07-02-simplified-database-transaction-management-with-the-vert-x-rxjava-api.mdx","date":"2018-07-02","slug":"simplified-database-transaction-management-with-the-vert-x-rxjava-api","meta":{"title":"Simplified database transaction management with the Vert.x RxJava API","category":"guides","authors":[{"name":"Thomas Segismont","github_id":"tsegismont"}],"summary":"As of Vert.x 3.5, managing database transactions requires a lot of boilerplate code. Vert.x 3.6 provides helpers to easily make a reactive flow transactional."},"readingTime":{"text":"4 min read","minutes":3.235,"time":194100,"words":647},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"TL;DR As of 3.5, man\\xADag\\xADing data\\xADbase trans\\xADac\\xADtions with Vert.x re\\xADquires a lot of boil\\xADer\\xADplate code.\"), \"\\n\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Vert.x 3.6 will pro\\xADvide helpers and \", mdx(\"inlineCode\", {\n    parentName: \"em\"\n  }, \"Observable\"), \" trans\\xADform\\xADers to eas\\xADily make a re\\xADac\\xADtive flow trans\\xADac\\xADtional.\")), mdx(\"h2\", {\n    \"id\": \"simple-queries-with-the-rxified-api\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#simple-queries-with-the-rxified-api\"\n  })), \"Simple queries with the \", mdx(\"em\", {\n    parentName: \"h2\"\n  }, \"\\u201CRxified\\u201D\"), \" API\"), mdx(\"p\", null, \"The \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/docs/vertx-rx/java2/\"\n  }), \"Vert.x API for Rx\\xADJava\"), \" is one of the most pop\\xADu\\xADlar mod\\xADules in the Vert.x stack.\"), mdx(\"p\", null, \"So we make sure the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u201CRx\\xADi\\xADfied\\u201D\"), \" API is easy to use for com\\xADmon pro\\xADgram\\xADming tasks, such as read\\xADing rows from a re\\xADla\\xADtional data\\xADbase and send\\xADing the re\\xADsult to the client:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"dbClient.rxQuery(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"SELECT name, duration FROM tracks WHERE album = 'The Israelites'\\\"\"), \")\\n  .map(ResultSet::getResults)\\n  .map(rows -\u003e {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Transform DB rows into a client-friendly JSON object\"), \"\\n  })\\n  .subscribe(json -\u003e {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Send JSON to the client\"), \"\\n  }, t -\u003e {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Send error to the client\"), \"\\n  });\\n\")), mdx(\"h2\", {\n    \"id\": \"managing-transactions-with-vertx-35\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#managing-transactions-with-vertx-35\"\n  })), \"Managing transactions with Vert.x 3.5\"), mdx(\"p\", null, \"But very often, de\\xADvel\\xADop\\xADers have to im\\xADple\\xADment com\\xADplex in\\xADter\\xADac\\xADtions with the data\\xADbase, run\\xADning in\\xADside a sin\\xADgle trans\\xADac\\xADtion.\\nTo do so, the im\\xADple\\xADmen\\xADta\\xADtion must fol\\xADlow this process:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"get a con\\xADnec\\xADtion from the pool,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"start a trans\\xADac\\xADtion,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"ex\\xADe\\xADcute queries,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"if all queries suc\\xADceed, com\\xADmit the trans\\xADac\\xADtion,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"oth\\xADer\\xADwise, roll\\xADback the changes.\")), mdx(\"p\", null, \"How does that trans\\xADlate to code?\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Get a connection from the pool\"), \"\\ndbClient.rxGetConnection().flatMap(sqlConnection -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Setting auto-commit mode to false implicitely starts a transaction\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" sqlConnection.rxSetAutoCommit(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"false\"), \")\\n    .andThen(\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Database queries\"), \"\\n      sqlConnection.rxExecute(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO albums (name) VALUES ('The Israelites')\\\"\"), \")\\n        .andThen(sqlConnection.rxExecute(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO tracks (album, name) VALUES ('The Israelites', 'Israelites')\\\"\"), \"))\\n        .andThen(sqlConnection.rxExecute(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO tracks (album, name) VALUES ('The Israelites', 'Too Much Too Soon')\\\"\"), \"))\\n        .andThen(sqlConnection.rxQuery(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"SELECT name FROM tracks WHERE album = 'The Israelites'\\\"\"), \").map(ResultSet::getResults))\\n    )\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Commit if all queries succeed\"), \"\\n    .flatMap(rows -\u003e sqlConnection.rxCommit().andThen(Single.just(rows)))\\n    .onErrorResumeNext(throwable -\u003e {\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// On error, rollback the changes\"), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" sqlConnection.rxRollback().onErrorComplete()\\n        .andThen(sqlConnection.rxSetAutoCommit(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"true\"), \").onErrorComplete())\\n        .andThen(Single.error(throwable));\\n    }).flatMap(rows -\u003e sqlConnection.rxSetAutoCommit(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"true\"), \").andThen(Single.just(rows)))\\n    .doFinally(sqlConnection::close);\\n}).map(rows -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Transform DB rows into a client-friendly JSON object\"), \"\\n}).subscribe(json -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Send JSON to the client\"), \"\\n}, t -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Send error to the client\"), \"\\n});\\n\")), mdx(\"p\", null, \"That is a lot of boil\\xADer\\xADplate around the spe\\xADcific data\\xADbase queries\\u2026\\nIt would be bet\\xADter to re\\xADlieve the de\\xADvel\\xADoper from main\\xADtain\\xADing it.\"), mdx(\"h2\", {\n    \"id\": \"vertx-36-tools-for-transaction-management\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#vertx-36-tools-for-transaction-management\"\n  })), \"Vert.x 3.6 tools for transaction management\"), mdx(\"p\", null, \"That is why Vert.x 3.6 will pro\\xADvide \", mdx(\"em\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"em\"\n  }, \"Observable\"), \" trans\\xADform\\xADers\"), \" that can be ap\\xADplied to re\\xADac\\xADtive flows with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://reactivex.io/RxJava/javadoc/io/reactivex/Flowable.html#compose-io.reactivex.FlowableTransformer-\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"compose\")), \" to make them trans\\xADac\\xADtional:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"SQLClientHelper#txFlowableTransformer\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"SQLClientHelper#txObservableTransformer\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"SQLClientHelper#txSingleTransformer\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"SQLClientHelper#txMaybeTransformer\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"SQLClientHelper#txCompletableTransformer\"))), mdx(\"p\", null, \"These \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"trans\\xADform\\xADers\"), \" wrap the cor\\xADre\\xADspond\\xADing source of events with SQL trans\\xADac\\xADtion man\\xADage\\xADment.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"dbClient.rxGetConnection().flatMap(sqlConnection -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" sqlConnection.rxExecute(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO albums (name) VALUES ('The Israelites')\\\"\"), \")\\n    .andThen(sqlConnection.rxExecute(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO tracks (album, name) VALUES ('The Israelites', 'Israelites')\\\"\"), \"))\\n    .andThen(sqlConnection.rxExecute(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO tracks (album, name) VALUES ('The Israelites', 'Too Much Too Soon')\\\"\"), \"))\\n    .andThen(sqlConnection.rxQuery(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"SELECT name FROM tracks WHERE album = 'The Israelites'\\\"\"), \").map(ResultSet::getResults))\\n    .compose(SQLClientHelper.txSingleTransformer(sqlConnection))\\n    .doFinally(sqlConnection::close);\\n}).map(rows -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Transform DB rows into a client-friendly JSON object\"), \"\\n}).subscribe(json -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Send JSON to the client\"), \"\\n}, t -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Send error to the client\"), \"\\n});\\n\")), mdx(\"p\", null, \"Source \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"trans\\xADform\\xADers\"), \" pro\\xADvide max\\xADi\\xADmum flex\\xADi\\xADbil\\xADity: you are still able to ex\\xADe\\xADcute op\\xADer\\xADa\\xADtions with the con\\xADnec\\xADtion after the trans\\xADac\\xADtion com\\xADpletes.\"), mdx(\"p\", null, \"How\\xADever, you usu\\xADally do not need the con\\xADnec\\xADtion after the changes are \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"com\\xADmited\"), \" or \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"roll\\xADbacked\"), \".\\nIn this case, you may sim\\xADply cre\\xADate you source ob\\xADserv\\xADable with one of the trans\\xADac\\xADtional helper meth\\xADods in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"io.vertx.reactivex.ext.sql.SQLClientHelper\"), \".\"), mdx(\"p\", null, \"Let\\u2019s rewrite the pre\\xADvi\\xADous ex\\xADam\\xADple:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"SQLClientHelper.inTransactionSingle(client, sqlConnection -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" sqlConnection.rxExecute(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO albums (name) VALUES ('The Israelites')\\\"\"), \")\\n    .andThen(sqlConnection.rxExecute(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO tracks (album, name) VALUES ('The Israelites', 'Israelites')\\\"\"), \"))\\n    .andThen(sqlConnection.rxExecute(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"INSERT INTO tracks (album, name) VALUES ('The Israelites', 'Too Much Too Soon')\\\"\"), \"))\\n    .andThen(sqlConnection.rxQuery(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"SELECT name FROM tracks WHERE album = 'The Israelites'\\\"\"), \").map(ResultSet::getResults))\\n}).map(rows -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Transform DB rows into a client-friendly JSON object\"), \"\\n}).subscribe(json -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Send JSON to the client\"), \"\\n}, t -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Send error to the client\"), \"\\n});\\n\")), mdx(\"h2\", {\n    \"id\": \"give-it-a-try\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#give-it-a-try\"\n  })), \"Give it a try\"), mdx(\"p\", null, \"Vert.x 3.6 is ex\\xADpected around fall, but the code is al\\xADready in mas\\xADter and \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"snap\\xADshots\"), \" are reg\\xADu\\xADlarly pub\\xADlished to Sonatype\\u2019s OSS repos.\"), mdx(\"p\", null, \"So give it a try and feel free to pro\\xADvide your fee\\xADback on our user or dev \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/community\"\n  }), \"chan\\xADnels\"), \".\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003e\u003cem\u003eTL;DR As of 3.5, man­ag­ing data­base trans­ac­tions with Vert.x re­quires a lot of boil­er­plate code.\u003c/em\u003e\n\u003cem\u003eVert.x 3.6 will pro­vide helpers and \u003ccode\u003eObservable\u003c/code\u003e trans­form­ers to eas­ily make a re­ac­tive flow trans­ac­tional.\u003c/em\u003e\u003c/p\u003e\u003ch2 id=\"simple-queries-with-the-rxified-api\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#simple-queries-with-the-rxified-api\"\u003e\u003c/a\u003eSimple queries with the \u003cem\u003e“Rxified”\u003c/em\u003e API\u003c/h2\u003e\u003cp\u003eThe \u003ca href=\"https://vertx.io/docs/vertx-rx/java2/\"\u003eVert.x API for Rx­Java\u003c/a\u003e is one of the most pop­u­lar mod­ules in the Vert.x stack.\u003c/p\u003e\u003cp\u003eSo we make sure the \u003cem\u003e“Rx­i­fied”\u003c/em\u003e API is easy to use for com­mon pro­gram­ming tasks, such as read­ing rows from a re­la­tional data­base and send­ing the re­sult to the client:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003edbClient.rxQuery(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT name, duration FROM tracks WHERE album = \u0026#x27;The Israelites\u0026#x27;\u0026quot;\u003c/span\u003e)\n  .map(ResultSet::getResults)\n  .map(rows -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// Transform DB rows into a client-friendly JSON object\u003c/span\u003e\n  })\n  .subscribe(json -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// Send JSON to the client\u003c/span\u003e\n  }, t -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// Send error to the client\u003c/span\u003e\n  });\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"managing-transactions-with-vertx-35\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#managing-transactions-with-vertx-35\"\u003e\u003c/a\u003eManaging transactions with Vert.x 3.5\u003c/h2\u003e\u003cp\u003eBut very often, de­vel­op­ers have to im­ple­ment com­plex in­ter­ac­tions with the data­base, run­ning in­side a sin­gle trans­ac­tion.\nTo do so, the im­ple­men­ta­tion must fol­low this process:\u003c/p\u003e\u003cul\u003e\u003cli\u003eget a con­nec­tion from the pool,\u003c/li\u003e\u003cli\u003estart a trans­ac­tion,\u003c/li\u003e\u003cli\u003eex­e­cute queries,\u003c/li\u003e\u003cli\u003eif all queries suc­ceed, com­mit the trans­ac­tion,\u003c/li\u003e\u003cli\u003eoth­er­wise, roll­back the changes.\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eHow does that trans­late to code?\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-comment\"\u003e// Get a connection from the pool\u003c/span\u003e\ndbClient.rxGetConnection().flatMap(sqlConnection -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Setting auto-commit mode to false implicitely starts a transaction\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e sqlConnection.rxSetAutoCommit(\u003cspan class=\"hljs-keyword\"\u003efalse\u003c/span\u003e)\n    .andThen(\n      \u003cspan class=\"hljs-comment\"\u003e// Database queries\u003c/span\u003e\n      sqlConnection.rxExecute(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO albums (name) VALUES (\u0026#x27;The Israelites\u0026#x27;)\u0026quot;\u003c/span\u003e)\n        .andThen(sqlConnection.rxExecute(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO tracks (album, name) VALUES (\u0026#x27;The Israelites\u0026#x27;, \u0026#x27;Israelites\u0026#x27;)\u0026quot;\u003c/span\u003e))\n        .andThen(sqlConnection.rxExecute(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO tracks (album, name) VALUES (\u0026#x27;The Israelites\u0026#x27;, \u0026#x27;Too Much Too Soon\u0026#x27;)\u0026quot;\u003c/span\u003e))\n        .andThen(sqlConnection.rxQuery(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT name FROM tracks WHERE album = \u0026#x27;The Israelites\u0026#x27;\u0026quot;\u003c/span\u003e).map(ResultSet::getResults))\n    )\n    \u003cspan class=\"hljs-comment\"\u003e// Commit if all queries succeed\u003c/span\u003e\n    .flatMap(rows -\u0026gt; sqlConnection.rxCommit().andThen(Single.just(rows)))\n    .onErrorResumeNext(throwable -\u0026gt; {\n      \u003cspan class=\"hljs-comment\"\u003e// On error, rollback the changes\u003c/span\u003e\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e sqlConnection.rxRollback().onErrorComplete()\n        .andThen(sqlConnection.rxSetAutoCommit(\u003cspan class=\"hljs-keyword\"\u003etrue\u003c/span\u003e).onErrorComplete())\n        .andThen(Single.error(throwable));\n    }).flatMap(rows -\u0026gt; sqlConnection.rxSetAutoCommit(\u003cspan class=\"hljs-keyword\"\u003etrue\u003c/span\u003e).andThen(Single.just(rows)))\n    .doFinally(sqlConnection::close);\n}).map(rows -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Transform DB rows into a client-friendly JSON object\u003c/span\u003e\n}).subscribe(json -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Send JSON to the client\u003c/span\u003e\n}, t -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Send error to the client\u003c/span\u003e\n});\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThat is a lot of boil­er­plate around the spe­cific data­base queries…\nIt would be bet­ter to re­lieve the de­vel­oper from main­tain­ing it.\u003c/p\u003e\u003ch2 id=\"vertx-36-tools-for-transaction-management\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#vertx-36-tools-for-transaction-management\"\u003e\u003c/a\u003eVert.x 3.6 tools for transaction management\u003c/h2\u003e\u003cp\u003eThat is why Vert.x 3.6 will pro­vide \u003cem\u003e\u003ccode\u003eObservable\u003c/code\u003e trans­form­ers\u003c/em\u003e that can be ap­plied to re­ac­tive flows with \u003ca href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Flowable.html#compose-io.reactivex.FlowableTransformer-\"\u003e\u003ccode\u003ecompose\u003c/code\u003e\u003c/a\u003e to make them trans­ac­tional:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ccode\u003eSQLClientHelper#txFlowableTransformer\u003c/code\u003e\u003c/li\u003e\u003cli\u003e\u003ccode\u003eSQLClientHelper#txObservableTransformer\u003c/code\u003e\u003c/li\u003e\u003cli\u003e\u003ccode\u003eSQLClientHelper#txSingleTransformer\u003c/code\u003e\u003c/li\u003e\u003cli\u003e\u003ccode\u003eSQLClientHelper#txMaybeTransformer\u003c/code\u003e\u003c/li\u003e\u003cli\u003e\u003ccode\u003eSQLClientHelper#txCompletableTransformer\u003c/code\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThese \u003cem\u003etrans­form­ers\u003c/em\u003e wrap the cor­re­spond­ing source of events with SQL trans­ac­tion man­age­ment.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003edbClient.rxGetConnection().flatMap(sqlConnection -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e sqlConnection.rxExecute(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO albums (name) VALUES (\u0026#x27;The Israelites\u0026#x27;)\u0026quot;\u003c/span\u003e)\n    .andThen(sqlConnection.rxExecute(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO tracks (album, name) VALUES (\u0026#x27;The Israelites\u0026#x27;, \u0026#x27;Israelites\u0026#x27;)\u0026quot;\u003c/span\u003e))\n    .andThen(sqlConnection.rxExecute(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO tracks (album, name) VALUES (\u0026#x27;The Israelites\u0026#x27;, \u0026#x27;Too Much Too Soon\u0026#x27;)\u0026quot;\u003c/span\u003e))\n    .andThen(sqlConnection.rxQuery(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT name FROM tracks WHERE album = \u0026#x27;The Israelites\u0026#x27;\u0026quot;\u003c/span\u003e).map(ResultSet::getResults))\n    .compose(SQLClientHelper.txSingleTransformer(sqlConnection))\n    .doFinally(sqlConnection::close);\n}).map(rows -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Transform DB rows into a client-friendly JSON object\u003c/span\u003e\n}).subscribe(json -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Send JSON to the client\u003c/span\u003e\n}, t -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Send error to the client\u003c/span\u003e\n});\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSource \u003cem\u003etrans­form­ers\u003c/em\u003e pro­vide max­i­mum flex­i­bil­ity: you are still able to ex­e­cute op­er­a­tions with the con­nec­tion after the trans­ac­tion com­pletes.\u003c/p\u003e\u003cp\u003eHow­ever, you usu­ally do not need the con­nec­tion after the changes are \u003cem\u003ecom­mited\u003c/em\u003e or \u003cem\u003eroll­backed\u003c/em\u003e.\nIn this case, you may sim­ply cre­ate you source ob­serv­able with one of the trans­ac­tional helper meth­ods in \u003ccode\u003eio.vertx.reactivex.ext.sql.SQLClientHelper\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eLet’s rewrite the pre­vi­ous ex­am­ple:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eSQLClientHelper.inTransactionSingle(client, sqlConnection -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e sqlConnection.rxExecute(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO albums (name) VALUES (\u0026#x27;The Israelites\u0026#x27;)\u0026quot;\u003c/span\u003e)\n    .andThen(sqlConnection.rxExecute(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO tracks (album, name) VALUES (\u0026#x27;The Israelites\u0026#x27;, \u0026#x27;Israelites\u0026#x27;)\u0026quot;\u003c/span\u003e))\n    .andThen(sqlConnection.rxExecute(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO tracks (album, name) VALUES (\u0026#x27;The Israelites\u0026#x27;, \u0026#x27;Too Much Too Soon\u0026#x27;)\u0026quot;\u003c/span\u003e))\n    .andThen(sqlConnection.rxQuery(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT name FROM tracks WHERE album = \u0026#x27;The Israelites\u0026#x27;\u0026quot;\u003c/span\u003e).map(ResultSet::getResults))\n}).map(rows -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Transform DB rows into a client-friendly JSON object\u003c/span\u003e\n}).subscribe(json -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Send JSON to the client\u003c/span\u003e\n}, t -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Send error to the client\u003c/span\u003e\n});\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"give-it-a-try\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#give-it-a-try\"\u003e\u003c/a\u003eGive it a try\u003c/h2\u003e\u003cp\u003eVert.x 3.6 is ex­pected around fall, but the code is al­ready in mas­ter and \u003cem\u003esnap­shots\u003c/em\u003e are reg­u­larly pub­lished to Sonatype’s OSS repos.\u003c/p\u003e\u003cp\u003eSo give it a try and feel free to pro­vide your fee­back on our user or dev \u003ca href=\"https://vertx.io/community\"\u003echan­nels\u003c/a\u003e.\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"transact","tf":11},{"term":"manag","tf":4},{"term":"databas","tf":4},{"term":"provid","tf":4},{"term":"transform","tf":4},{"term":"queri","tf":4},{"term":"code","tf":3},{"term":"api","tf":3},{"term":"connect","tf":3},{"term":"sourc","tf":3},{"term":"lot","tf":2},{"term":"boilerpl","tf":2},{"term":"will","tf":2},{"term":"helper","tf":2},{"term":"reactiv","tf":2},{"term":"flow","tf":2},{"term":"rxifi","tf":2},{"term":"on","tf":2},{"term":"develop","tf":2},{"term":"implement","tf":2},{"term":"execut","tf":2},{"term":"commit","tf":2},{"term":"rollback","tf":2},{"term":"chang","tf":2},{"term":"around","tf":2}]},{"filename":"blog/2018-06-08-eclipse-vert-x-3-5-2.mdx","date":"2018-06-08","slug":"eclipse-vert-x-3-5-2","meta":{"title":"Eclipse Vert.x 3.5.2","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We have just released Vert.x 3.5.2, a bug fix release of Vert.x 3.5.x."},"readingTime":{"text":"1 min read","minutes":0.52,"time":31200.000000000004,"words":104},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"We have just re\\xADleased Vert.x 3.5.2, a bug fix re\\xADlease of Vert.x 3.5.x.\"), mdx(\"p\", null, \"Since the re\\xADlease of Vert.x 3.5.1, quite a few bugs have been re\\xADported. We would like to thank you all for re\\xADport\\xADing these is\\xADsues.\"), mdx(\"p\", null, \"Vert.x 3.5.2 re\\xADlease notes:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/wiki/wiki/3.5.2-Release-Notes\"\n  }), \"https://github.com/vert-\\u200Bx3/wiki/wiki/3.5.2-\\u200BRelease-Notes\"))), mdx(\"p\", null, \"The event bus client using the SockJS bridge are avail\\xADable from NPM, Bower and as a We\\xADb\\xADJar:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.npmjs.com/package/vertx3-eventbus-client\"\n  }), \"https://www.npmjs.com/pack\\xADage/vertx3-\\u200Beventbus-client\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/vertx-bus-bower\"\n  }), \"https://github.com/vert-\\u200Bx3/vertx-\\u200Bbus-bower\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://www.webjars.org/\"\n  }), \"http://www.we\\xADb\\xADjars.org/\"))), mdx(\"p\", null, \"Docker im\\xADages are also avail\\xADable on the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://hub.docker.com/u/vertx/\"\n  }), \"Docker Hub\"), \". The Vert.x dis\\xADtri\\xADb\\xADu\\xADtion is also avail\\xADable from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://sdkman.io/index.html\"\n  }), \"SD\\xADKMan\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://brew.sh/\"\n  }), \"Home\\xADBrew\"), \".\"), mdx(\"p\", null, \"The ar\\xADti\\xADfacts have been de\\xADployed to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22io.vertx%22%20AND%20v%3A%223.5.2%22\"\n  }), \"Maven Cen\\xADtral\"), \" and you can get the dis\\xADtri\\xADb\\xADu\\xADtion on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://bintray.com/vertx/downloads/distribution/3.5.2/view\"\n  }), \"Bin\\xADtray\"), \".\"), mdx(\"p\", null, \"Happy cod\\xADing !\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eWe have just re­leased Vert.x 3.5.2, a bug fix re­lease of Vert.x 3.5.x.\u003c/p\u003e\u003cp\u003eSince the re­lease of Vert.x 3.5.1, quite a few bugs have been re­ported. We would like to thank you all for re­port­ing these is­sues.\u003c/p\u003e\u003cp\u003eVert.x 3.5.2 re­lease notes:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://github.com/vert-x3/wiki/wiki/3.5.2-Release-Notes\"\u003ehttps://github.com/vert-​x3/wiki/wiki/3.5.2-​Release-Notes\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThe event bus client using the SockJS bridge are avail­able from NPM, Bower and as a We­b­Jar:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://www.npmjs.com/package/vertx3-eventbus-client\"\u003ehttps://www.npmjs.com/pack­age/vertx3-​eventbus-client\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://github.com/vert-x3/vertx-bus-bower\"\u003ehttps://github.com/vert-​x3/vertx-​bus-bower\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"http://www.webjars.org/\"\u003ehttp://www.we­b­jars.org/\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eDocker im­ages are also avail­able on the \u003ca href=\"https://hub.docker.com/u/vertx/\"\u003eDocker Hub\u003c/a\u003e. The Vert.x dis­tri­b­u­tion is also avail­able from \u003ca href=\"http://sdkman.io/index.html\"\u003eSD­KMan\u003c/a\u003e and \u003ca href=\"http://brew.sh/\"\u003eHome­Brew\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eThe ar­ti­facts have been de­ployed to \u003ca href=\"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22io.vertx%22%20AND%20v%3A%223.5.2%22\"\u003eMaven Cen­tral\u003c/a\u003e and you can get the dis­tri­b­u­tion on \u003ca href=\"https://bintray.com/vertx/downloads/distribution/3.5.2/view\"\u003eBin­tray\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eHappy cod­ing !\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"releas","tf":5},{"term":"http","tf":4},{"term":"com","tf":3},{"term":"avail","tf":3},{"term":"bug","tf":2},{"term":"report","tf":2},{"term":"note","tf":2},{"term":"github","tf":2},{"term":"x3","tf":2},{"term":"wiki","tf":2},{"term":"bu","tf":2},{"term":"client","tf":2},{"term":"bower","tf":2},{"term":"webjar","tf":2},{"term":"www","tf":2},{"term":"docker","tf":2},{"term":"distribut","tf":2},{"term":"just","tf":1},{"term":"fix","tf":1},{"term":"quit","tf":1},{"term":"thank","tf":1},{"term":"issu","tf":1},{"term":"event","tf":1},{"term":"us","tf":1},{"term":"sockj","tf":1}]},{"filename":"blog/2018-06-04-eclipse-vert-x-goes-native.mdx","date":"2018-06-04","slug":"eclipse-vert-x-goes-native","meta":{"title":"Eclipse Vert.x goes Native","category":"guides","authors":[{"name":"Johannes Schüth","github_id":"jotschi"}],"summary":"This blog post introduces native image generation of Vert.x applications with GraalVM. Generated executables can be run without a JVM."},"readingTime":{"text":"5 min read","minutes":4.235,"time":254100.00000000003,"words":847},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"I this blog post, I would like to give you a pre\\xADview on na\\xADtive image gen\\xADer\\xADa\\xADtion of Vert.x ap\\xADpli\\xADca\\xADtions using GraalVM.\"), mdx(\"p\", null, \"With \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.graalvm.org/\"\n  }), \"GraalVM\"), \" it is pos\\xADsi\\xADble to gen\\xADer\\xADate na\\xADtive ex\\xADe\\xADcuta\\xADbles.\\nThese ex\\xADe\\xADcuta\\xADbles can be di\\xADrectly run with\\xADout the need of an in\\xADstalled JVM.\"), mdx(\"h2\", {\n    \"id\": \"benefits\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#benefits\"\n  })), \"Benefits\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"The start up time is way faster. It is no longer re\\xADquired to wait for the start up of the JVM. The ap\\xADpli\\xADca\\xADtion is usu\\xADally up and run\\xADning in a mat\\xADter of mil\\xADlisec\\xADonds.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Re\\xADduced mem\\xADory foot\\xADprint. I mea\\xADsured 40 MB mem\\xADory usage (RSS) for the Vert.x Web ap\\xADpli\\xADca\\xADtion which I\\u2019m going to show\\xADcase.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Smaller Con\\xADtain\\xADers. No JVM means no over\\xADhead. All the needed parts are al\\xADready con\\xADtained within the ex\\xADe\\xADcutable. This can be very ben\\xADe\\xADfi\\xADcial when build\\xADing de\\xADploy\\xADable con\\xADtainer im\\xADages.\"))), mdx(\"h2\", {\n    \"id\": \"demo-project\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#demo-project\"\n  })), \"Demo Project\"), mdx(\"p\", null, \"For the demo ap\\xADpli\\xADca\\xADtion I choose a very basic hello world \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/docs/vertx-web/java/\"\n  }), \"Vert.x Web\"), \" server.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"package\"), \" de.jotschi.examples;\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"import\"), \" java.io.File;\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"import\"), \" io.vertx.core.Vertx;\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"import\"), \" io.vertx.core.logging.Logger;\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"import\"), \" io.vertx.core.logging.LoggerFactory;\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"import\"), \" io.vertx.core.logging.SLF4JLogDelegateFactory;\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"import\"), \" io.vertx.ext.web.Router;\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"class\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"Runner\"), \" \"), \"{\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"static\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"main\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(String[] args)\"), \" \"), \"{\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Use logback for logging\"), \"\\n    File logbackFile = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" File(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"config\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"logback.xml\\\"\"), \");\\n    System.setProperty(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"logback.configurationFile\\\"\"), \", logbackFile.getAbsolutePath());\\n    System.setProperty(LoggerFactory.LOGGER_DELEGATE_FACTORY_CLASS_NAME, SLF4JLogDelegateFactory.class.getName());\\n    Logger log = LoggerFactory.getLogger(Runner.class);\\n\\n    // Setup the http server\\n    log.info(\\\"Starting server \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"for\"), \": http://localhost:\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \"/hello\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\");\\n    Vertx vertx = Vertx.vertx();\\n    Router router = Router.router(vertx);\\n\\n    router.route(\\\"\"), \"/hello\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\").handler(rc -\u003e {\\n      log.info(\\\"\"), \"Got hello request\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\");\\n      rc.response().end(\\\"\"), \"World\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\");\\n    });\\n\\n    vertx.createHttpServer()\\n      .requestHandler(router::accept)\\n      .listen(8080);\\n\\n  }\\n\\n}\\n\"))), mdx(\"h2\", {\n    \"id\": \"graalvm\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#graalvm\"\n  })), \"GraalVM\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.graalvm.org/\"\n  }), \"GraalVM\"), \" runs a sta\\xADtic analy\\xADsis on the gen\\xADer\\xADated ap\\xADpli\\xADca\\xADtion in order to find the reach\\xADable code.\\nThis process which is run within the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/oracle/graal/tree/master/substratevm\"\n  }), \"Sub\\xADstrate VM\"), \" will lead to the gen\\xADer\\xADa\\xADtion of the na\\xADtive image.\"), mdx(\"h3\", {\n    \"id\": \"limitations\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#limitations\"\n  })), \"Limitations\"), mdx(\"p\", null, \"Due to the na\\xADture of the sta\\xADtic analy\\xADsis Sub\\xADstrate VM also has some \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/oracle/graal/blob/master/substratevm/LIMITATIONS.md\"\n  }), \"lim\\xADi\\xADta\\xADtions\"), \".\"), mdx(\"p\", null, \"Dy\\xADnamic class load\\xADing and un\\xADload\\xADing for ex\\xADam\\xADple is not sup\\xADported be\\xADcause this would in essence alter the avail\\xADable code dur\\xADing run\\xADtime. \"), mdx(\"p\", null, \"Re\\xADflec\\xADtion is only par\\xADtially sup\\xADported and re\\xADquires some man\\xADual steps which we will cover later on.\"), mdx(\"h3\", {\n    \"id\": \"patches--workarounds\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#patches--workarounds\"\n  })), \"Patches / Workarounds\"), mdx(Alert, {\n    info: true,\n    title: \"Work in progress\",\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"Next we need to apply some patches / workarounds. Keep in mind that na\\xADtive image gen\\xADer\\xADa\\xADtion is a fairly new topic and the these workarounds will hope\\xADfully no longer be re\\xADquired once the Sub\\xADstrate VM and Netty have bet\\xADter sup\\xADport for each other.\")), mdx(\"p\", null, \"I did not man\\xADage to get na\\xADtive epoll, kqueue and SSL in\\xADte\\xADgra\\xADtion to work with na\\xADtive im\\xADages.\\nThese parts are heav\\xADily op\\xADti\\xADmized within Netty and use JNI to di\\xADrectly ac\\xADcess the OS fea\\xADtures.\\nSub\\xADstrate VM sup\\xADports JNI and could in the\\xADory in\\xADte\\xADgrate these na\\xADtive li\\xADbraries. \"), mdx(\"p\", null, \"I cre\\xADated a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/Jotschi/vertx-graalvm-native-image-test/tree/netty-native-epoll\"\n  }), \"re\\xADpro\\xADducer\"), \"\\nand an \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/oracle/graal/issues/442\"\n  }), \"issue\"), \" so hope\\xADfully these prob\\xADlems can be ad\\xADdressed soon.\"), mdx(\"h3\", {\n    \"id\": \"vertx-transport\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#vertx-transport\"\n  })), \"Vert.x Transport\"), mdx(\"p\", null, \"First I needed to patch the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"io.vertx.core.net.impl.transport.Transport\"), \" class in order to pre\\xADvent the load\\xADing of EPoll and KQueue na\\xADtive sup\\xADport. Oth\\xADer\\xADwise Sub\\xADstrate VM will try to load these classes and fail.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"class\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"Transport\"), \" \"), \"{\\n\\u2026\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"/**\\n   * The native transport, it may be {\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-doctag\"\n  }), \"@code\"), \" null} or failed.\\n   */\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"static\"), \" Transport \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"nativeTransport\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Patched: I remove the native transport discovery. \"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// The imports would be picked up by substrate \"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// and cause further issues. \"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"null\"), \";\\n  }\\n\\u2026\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"netty-ssl\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#netty-ssl\"\n  })), \"Netty SSL\"), mdx(\"p\", null, \"Na\\xADtive SSL sup\\xADport is an\\xADother prob\\xADlem\\xADatic area. I cre\\xADated a patched dummy \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"io.netty.handler.ssl.ReferenceCountedOpenSslEngine\"), \" class in order to pre\\xADvent Sub\\xADstrate VM from dig\\xADging deeper into the SSL code of Netty.\"), mdx(\"p\", null, \"Next we need to set up the re\\xADflec\\xADtion con\\xADfig\\xADu\\xADra\\xADtion within \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"reflectconfigs/netty.json\"), \".\"), mdx(\"p\", null, \"Netty uses re\\xADflec\\xADtion to in\\xADstan\\xADti\\xADate the socket chan\\xADnels. This is done in the Re\\xADflec\\xADtiveChan\\xADnelFac\\xADtory. We need to tell Sub\\xADstrate VM how classes of type NioServer\\xADSock\\xADetChan\\xADnel  and NioSock\\xADetChan\\xADnel can be in\\xADstan\\xADti\\xADated. \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-json\"\n  }), \"[\\n  {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"name\\\"\"), \" : \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"io.netty.channel.socket.nio.NioSocketChannel\\\"\"), \",\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"methods\\\"\"), \" : [\\n      { \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"name\\\"\"), \" : \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"\u003cinit\u003e\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"parameterTypes\\\"\"), \" : [] }\\n    ]\\n  },\\n  {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"name\\\"\"), \" : \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"io.netty.channel.socket.nio.NioServerSocketChannel\\\"\"), \",\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"methods\\\"\"), \" : [\\n      { \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"name\\\"\"), \" : \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"\u003cinit\u003e\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"parameterTypes\\\"\"), \" : [] }\\n    ]\\n  }\\n]\\n\")), mdx(\"p\", null, \"If you want to learn more about the state of Netty and GraalVM I can rec\\xADom\\xADmend this \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://medium.com/graalvm/instant-netty-startup-using-graalvm-native-image-generation-ed6f14ff7692\"\n  }), \"GraalVM Blog\\xADpost\"), \" by Co\\xADdrut Stancu.\"), mdx(\"h2\", {\n    \"id\": \"building\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#building\"\n  })), \"Building\"), mdx(\"p\", null, \"Fi\\xADnally we can build our maven project to gen\\xADer\\xADate a shaded jar.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"mvn clean package\\n\")), mdx(\"p\", null, \"Next we need the GraalVM pack\\xADage. You can down\\xADload it from the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.graalvm.org/\"\n  }), \"GraalVM web\\xADsite\"), \".\"), mdx(\"p\", null, \"We use the shaded jar as the input source for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"native-image\"), \" com\\xADmand which will gen\\xADer\\xADate the ex\\xADe\\xADcutable.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-variable\"\n  }), \"$GRAALVMDIR\"), \"/bin/native-image \\\\\\n --verbose \\\\\\n --no-server \\\\\\n -Dio.netty.noUnsafe=\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-literal\"\n  }), \"true\"), \"  \\\\\\n -H:ReflectionConfigurationFiles=./reflectconfigs/netty.json \\\\\\n -H:+ReportUnsupportedElementsAtRuntime \\\\\\n -Dfile.encoding=UTF-8 \\\\\\n -jar target/vertx-graalvm-native-image-test-0.0.1-SNAPSHOT.jar\\n\")), mdx(\"h2\", {\n    \"id\": \"result\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#result\"\n  })), \"Result\"), mdx(\"p\", null, \"Fi\\xADnally we end up with an 27 MB \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-graalvm-native-image-test-0.0.1-SNAPSHOT\"), \" ex\\xADe\\xADcutable which we can run.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"$ ldd vertx-graalvm-native-image-test-0.0.1-SNAPSHOT \\n  linux-vdso.so.1 (0x00007ffc65be8000)\\n  libdl.so.2 =\u003e /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f8e892f0000)\\n  libpthread.so.0 =\u003e /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f8e890d3000)\\n  libz.so.1 =\u003e /lib/x86_64-linux-gnu/libz.so.1 (0x00007f8e88eb9000)\\n  librt.so.1 =\u003e /lib/x86_64-linux-gnu/librt.so.1 (0x00007f8e88cb1000)\\n  libcrypt.so.1 =\u003e /lib/x86_64-linux-gnu/libcrypt.so.1 (0x00007f8e88a79000)\\n  libc.so.6 =\u003e /lib/x86_64-linux-gnu/libc.so.6 (0x00007f8e886da000)\\n  /lib64/ld-linux-x86-64.so.2 (0x00007f8e8afb7000)\\n\")), mdx(\"h3\", {\n    \"id\": \"memory\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#memory\"\n  })), \"Memory\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"/usr/bin/time -f \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"\\\\nmaxRSS\\\\t%MkB\\\"\"), \" java -jar target/vertx-graalvm-native-image-test-0.0.1-SNAPSHOT.jar \\n/usr/bin/time -f \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"\\\\nmaxRSS\\\\t%MkB\\\"\"), \" ./vertx-graalvm-native-image-test-0.0.1-SNAPSHOT \\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Na\\xADtive Image: 40 MB\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Java 10: 125 MB\")), mdx(\"p\", null, \"The full project can be found on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/Jotschi/vertx-graalvm-native-image-test\"\n  }), \"GitHub\"), \".\"), mdx(\"p\", null, \"If you want to read more on the topic I can also rec\\xADom\\xADmend \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://sites.google.com/a/athaydes.com/renato-athaydes/posts/a7mbnative-imagejavaappthatrunsin30msandusesonly4mbofram\"\n  }), \"this ar\\xADti\\xADcle\"), \" by Re\\xADnato Athay\\xADdes in which he demon\\xADstrates how to cre\\xADate a very small light weight low mem\\xADory ap\\xADpli\\xADca\\xADtion using GraalVM.\"), mdx(\"p\", null, \"Thanks for read\\xADing. If you have any fur\\xADther ques\\xADtions or feed\\xADback don\\u2019t hes\\xADi\\xADtate to send me a tweet to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/Jotschi/\"\n  }), \"@Jotschi\"), \".\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eI this blog post, I would like to give you a pre­view on na­tive image gen­er­a­tion of Vert.x ap­pli­ca­tions using GraalVM.\u003c/p\u003e\u003cp\u003eWith \u003ca href=\"https://www.graalvm.org/\"\u003eGraalVM\u003c/a\u003e it is pos­si­ble to gen­er­ate na­tive ex­e­cuta­bles.\nThese ex­e­cuta­bles can be di­rectly run with­out the need of an in­stalled JVM.\u003c/p\u003e\u003ch2 id=\"benefits\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#benefits\"\u003e\u003c/a\u003eBenefits\u003c/h2\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003eThe start up time is way faster. It is no longer re­quired to wait for the start up of the JVM. The ap­pli­ca­tion is usu­ally up and run­ning in a mat­ter of mil­lisec­onds.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eRe­duced mem­ory foot­print. I mea­sured 40 MB mem­ory usage (RSS) for the Vert.x Web ap­pli­ca­tion which I’m going to show­case.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eSmaller Con­tain­ers. No JVM means no over­head. All the needed parts are al­ready con­tained within the ex­e­cutable. This can be very ben­e­fi­cial when build­ing de­ploy­able con­tainer im­ages.\u003c/p\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch2 id=\"demo-project\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#demo-project\"\u003e\u003c/a\u003eDemo Project\u003c/h2\u003e\u003cp\u003eFor the demo ap­pli­ca­tion I choose a very basic hello world \u003ca href=\"https://vertx.io/docs/vertx-web/java/\"\u003eVert.x Web\u003c/a\u003e server.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epackage\u003c/span\u003e de.jotschi.examples;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e java.io.File;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e io.vertx.core.Vertx;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e io.vertx.core.logging.Logger;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e io.vertx.core.logging.LoggerFactory;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e io.vertx.core.logging.SLF4JLogDelegateFactory;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e io.vertx.ext.web.Router;\n\n\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eRunner\u003c/span\u003e \u003c/span\u003e{\n\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003emain\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String[] args)\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-comment\"\u003e// Use logback for logging\u003c/span\u003e\n    File logbackFile = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e File(\u003cspan class=\"hljs-string\"\u003e\u0026quot;config\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;logback.xml\u0026quot;\u003c/span\u003e);\n    System.setProperty(\u003cspan class=\"hljs-string\"\u003e\u0026quot;logback.configurationFile\u0026quot;\u003c/span\u003e, logbackFile.getAbsolutePath());\n    System.setProperty(LoggerFactory.LOGGER_DELEGATE_FACTORY_CLASS_NAME, SLF4JLogDelegateFactory.class.getName());\n    Logger log = LoggerFactory.getLogger(Runner.class);\n\n    // Setup the http server\n    log.info(\u0026quot;Starting server \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e: http://localhost:\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e/hello\u003cspan class=\"hljs-string\"\u003e\u0026quot;);\n    Vertx vertx = Vertx.vertx();\n    Router router = Router.router(vertx);\n\n    router.route(\u0026quot;\u003c/span\u003e/hello\u003cspan class=\"hljs-string\"\u003e\u0026quot;).handler(rc -\u0026gt; {\n      log.info(\u0026quot;\u003c/span\u003eGot hello request\u003cspan class=\"hljs-string\"\u003e\u0026quot;);\n      rc.response().end(\u0026quot;\u003c/span\u003eWorld\u003cspan class=\"hljs-string\"\u003e\u0026quot;);\n    });\n\n    vertx.createHttpServer()\n      .requestHandler(router::accept)\n      .listen(8080);\n\n  }\n\n}\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"graalvm\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#graalvm\"\u003e\u003c/a\u003eGraalVM\u003c/h2\u003e\u003cp\u003e\u003ca href=\"https://www.graalvm.org/\"\u003eGraalVM\u003c/a\u003e runs a sta­tic analy­sis on the gen­er­ated ap­pli­ca­tion in order to find the reach­able code.\nThis process which is run within the \u003ca href=\"https://github.com/oracle/graal/tree/master/substratevm\"\u003eSub­strate VM\u003c/a\u003e will lead to the gen­er­a­tion of the na­tive image.\u003c/p\u003e\u003ch3 id=\"limitations\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#limitations\"\u003e\u003c/a\u003eLimitations\u003c/h3\u003e\u003cp\u003eDue to the na­ture of the sta­tic analy­sis Sub­strate VM also has some \u003ca href=\"https://github.com/oracle/graal/blob/master/substratevm/LIMITATIONS.md\"\u003elim­i­ta­tions\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eDy­namic class load­ing and un­load­ing for ex­am­ple is not sup­ported be­cause this would in essence alter the avail­able code dur­ing run­time. \u003c/p\u003e\u003cp\u003eRe­flec­tion is only par­tially sup­ported and re­quires some man­ual steps which we will cover later on.\u003c/p\u003e\u003ch3 id=\"patches--workarounds\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#patches--workarounds\"\u003e\u003c/a\u003ePatches / Workarounds\u003c/h3\u003e\u003cdiv class=\"alert info\"\u003e\u003cdiv class=\"alert-title\"\u003eWork in progress\u003c/div\u003e\u003cp\u003eNext we need to apply some patches / workarounds. Keep in mind that na­tive image gen­er­a­tion is a fairly new topic and the these workarounds will hope­fully no longer be re­quired once the Sub­strate VM and Netty have bet­ter sup­port for each other.\u003c/p\u003e\u003c/div\u003e\u003cp\u003eI did not man­age to get na­tive epoll, kqueue and SSL in­te­gra­tion to work with na­tive im­ages.\nThese parts are heav­ily op­ti­mized within Netty and use JNI to di­rectly ac­cess the OS fea­tures.\nSub­strate VM sup­ports JNI and could in the­ory in­te­grate these na­tive li­braries. \u003c/p\u003e\u003cp\u003eI cre­ated a \u003ca href=\"https://github.com/Jotschi/vertx-graalvm-native-image-test/tree/netty-native-epoll\"\u003ere­pro­ducer\u003c/a\u003e\nand an \u003ca href=\"https://github.com/oracle/graal/issues/442\"\u003eissue\u003c/a\u003e so hope­fully these prob­lems can be ad­dressed soon.\u003c/p\u003e\u003ch3 id=\"vertx-transport\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#vertx-transport\"\u003e\u003c/a\u003eVert.x Transport\u003c/h3\u003e\u003cp\u003eFirst I needed to patch the \u003ccode\u003eio.vertx.core.net.impl.transport.Transport\u003c/code\u003e class in order to pre­vent the load­ing of EPoll and KQueue na­tive sup­port. Oth­er­wise Sub­strate VM will try to load these classes and fail.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eTransport\u003c/span\u003e \u003c/span\u003e{\n…\n  \u003cspan class=\"hljs-comment\"\u003e/**\n   * The native transport, it may be {\u003cspan class=\"hljs-doctag\"\u003e@code\u003c/span\u003e null} or failed.\n   */\u003c/span\u003e\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e Transport \u003cspan class=\"hljs-title\"\u003enativeTransport\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-comment\"\u003e// Patched: I remove the native transport discovery. \u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// The imports would be picked up by substrate \u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// and cause further issues. \u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enull\u003c/span\u003e;\n  }\n…\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"netty-ssl\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#netty-ssl\"\u003e\u003c/a\u003eNetty SSL\u003c/h3\u003e\u003cp\u003eNa­tive SSL sup­port is an­other prob­lem­atic area. I cre­ated a patched dummy \u003ccode\u003eio.netty.handler.ssl.ReferenceCountedOpenSslEngine\u003c/code\u003e class in order to pre­vent Sub­strate VM from dig­ging deeper into the SSL code of Netty.\u003c/p\u003e\u003cp\u003eNext we need to set up the re­flec­tion con­fig­u­ra­tion within \u003ccode\u003ereflectconfigs/netty.json\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eNetty uses re­flec­tion to in­stan­ti­ate the socket chan­nels. This is done in the Re­flec­tiveChan­nelFac­tory. We need to tell Sub­strate VM how classes of type NioServer­Sock­etChan­nel  and NioSock­etChan­nel can be in­stan­ti­ated. \u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e[\n  {\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e\u0026quot;io.netty.channel.socket.nio.NioSocketChannel\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;methods\u0026quot;\u003c/span\u003e : [\n      { \u003cspan class=\"hljs-attr\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026lt;init\u0026gt;\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003e\u0026quot;parameterTypes\u0026quot;\u003c/span\u003e : [] }\n    ]\n  },\n  {\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e\u0026quot;io.netty.channel.socket.nio.NioServerSocketChannel\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;methods\u0026quot;\u003c/span\u003e : [\n      { \u003cspan class=\"hljs-attr\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026lt;init\u0026gt;\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003e\u0026quot;parameterTypes\u0026quot;\u003c/span\u003e : [] }\n    ]\n  }\n]\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIf you want to learn more about the state of Netty and GraalVM I can rec­om­mend this \u003ca href=\"https://medium.com/graalvm/instant-netty-startup-using-graalvm-native-image-generation-ed6f14ff7692\"\u003eGraalVM Blog­post\u003c/a\u003e by Co­drut Stancu.\u003c/p\u003e\u003ch2 id=\"building\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#building\"\u003e\u003c/a\u003eBuilding\u003c/h2\u003e\u003cp\u003eFi­nally we can build our maven project to gen­er­ate a shaded jar.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003emvn clean package\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNext we need the GraalVM pack­age. You can down­load it from the \u003ca href=\"https://www.graalvm.org/\"\u003eGraalVM web­site\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eWe use the shaded jar as the input source for the \u003ccode\u003enative-image\u003c/code\u003e com­mand which will gen­er­ate the ex­e­cutable.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e\u003cspan class=\"hljs-variable\"\u003e$GRAALVMDIR\u003c/span\u003e/bin/native-image \\\n --verbose \\\n --no-server \\\n -Dio.netty.noUnsafe=\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e  \\\n -H:ReflectionConfigurationFiles=./reflectconfigs/netty.json \\\n -H:+ReportUnsupportedElementsAtRuntime \\\n -Dfile.encoding=UTF-8 \\\n -jar target/vertx-graalvm-native-image-test-0.0.1-SNAPSHOT.jar\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"result\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#result\"\u003e\u003c/a\u003eResult\u003c/h2\u003e\u003cp\u003eFi­nally we end up with an 27 MB \u003ccode\u003evertx-graalvm-native-image-test-0.0.1-SNAPSHOT\u003c/code\u003e ex­e­cutable which we can run.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ ldd vertx-graalvm-native-image-test-0.0.1-SNAPSHOT \n  linux-vdso.so.1 (0x00007ffc65be8000)\n  libdl.so.2 =\u0026gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f8e892f0000)\n  libpthread.so.0 =\u0026gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f8e890d3000)\n  libz.so.1 =\u0026gt; /lib/x86_64-linux-gnu/libz.so.1 (0x00007f8e88eb9000)\n  librt.so.1 =\u0026gt; /lib/x86_64-linux-gnu/librt.so.1 (0x00007f8e88cb1000)\n  libcrypt.so.1 =\u0026gt; /lib/x86_64-linux-gnu/libcrypt.so.1 (0x00007f8e88a79000)\n  libc.so.6 =\u0026gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f8e886da000)\n  /lib64/ld-linux-x86-64.so.2 (0x00007f8e8afb7000)\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"memory\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#memory\"\u003e\u003c/a\u003eMemory\u003c/h3\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e/usr/bin/time -f \u003cspan class=\"hljs-string\"\u003e\u0026quot;\\nmaxRSS\\t%MkB\u0026quot;\u003c/span\u003e java -jar target/vertx-graalvm-native-image-test-0.0.1-SNAPSHOT.jar \n/usr/bin/time -f \u003cspan class=\"hljs-string\"\u003e\u0026quot;\\nmaxRSS\\t%MkB\u0026quot;\u003c/span\u003e ./vertx-graalvm-native-image-test-0.0.1-SNAPSHOT \n\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\u003cli\u003eNa­tive Image: 40 MB\u003c/li\u003e\u003cli\u003eJava 10: 125 MB\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThe full project can be found on \u003ca href=\"https://github.com/Jotschi/vertx-graalvm-native-image-test\"\u003eGitHub\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eIf you want to read more on the topic I can also rec­om­mend \u003ca href=\"https://sites.google.com/a/athaydes.com/renato-athaydes/posts/a7mbnative-imagejavaappthatrunsin30msandusesonly4mbofram\"\u003ethis ar­ti­cle\u003c/a\u003e by Re­nato Athay­des in which he demon­strates how to cre­ate a very small light weight low mem­ory ap­pli­ca­tion using GraalVM.\u003c/p\u003e\u003cp\u003eThanks for read­ing. If you have any fur­ther ques­tions or feed­back don’t hes­i­tate to send me a tweet to \u003ca href=\"https://twitter.com/Jotschi/\"\u003e@Jotschi\u003c/a\u003e.\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"nativ","tf":10},{"term":"graalvm","tf":9},{"term":"gener","tf":7},{"term":"need","tf":7},{"term":"substrat","tf":7},{"term":"vm","tf":7},{"term":"imag","tf":6},{"term":"applic","tf":6},{"term":"support","tf":6},{"term":"netti","tf":6},{"term":"us","tf":5},{"term":"execut","tf":5},{"term":"run","tf":5},{"term":"will","tf":5},{"term":"class","tf":5},{"term":"no","tf":4},{"term":"memori","tf":4},{"term":"mb","tf":4},{"term":"within","tf":4},{"term":"patch","tf":4},{"term":"ssl","tf":4},{"term":"jvm","tf":3},{"term":"requir","tf":3},{"term":"contain","tf":3},{"term":"build","tf":3}]},{"filename":"blog/2018-04-23-eclipse-vert-x-rabbitmq-client-gets-a-new-consumer-api.mdx","date":"2018-04-23","slug":"eclipse-vert-x-rabbitmq-client-gets-a-new-consumer-api","meta":{"title":"Eclipse Vert.x RabbitMQ client gets a new consumer API!","category":"guides","authors":[{"name":"Pavel Drankov","github_id":"Sammers21"}],"summary":"In this blog post, we present the new consumer API of the RabbitMQ client that will be released with Eclipse Vert.x 3.6.0."},"readingTime":{"text":"3 min read","minutes":2.245,"time":134700.00000000003,"words":449},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In Eclipse Vert.x 3.6.0, the Rab\\xADbitMQ client will get a new con\\xADsumer API. In this post we are going to show\\nthe im\\xADprove\\xADments since the pre\\xADvi\\xADous API and how easy it is to use now.\"), mdx(\"p\", null, \"Be\\xADfore dig\\xADging into the new API let\\u2019s find out what were the lim\\xADi\\xADta\\xADtions of the ac\\xADtual one:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The API uses the event bus in such lim\\xADit\\xADing the con\\xADtrol of the con\\xADsumer over the Rab\\xADbitMQ queue.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The mes\\xADsage API is based on \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"JsonObject\"), \" which does not pro\\xADvide a typed API\")), mdx(\"h2\", {\n    \"id\": \"the-new-api-at-a-glance\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#the-new-api-at-a-glance\"\n  })), \"The new API at a glance\"), mdx(\"p\", null, \"Here is how sim\\xADple queue con\\xADsump\\xADtion looks like with the new API:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"RabbitMQClient client = RabbitMQClient.create(vertx, \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" RabbitMQOptions());\\n\\nclient.basicConsumer(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"my.queue\\\"\"), \", res -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (res.succeeded()) {\\n    System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"RabbitMQ consumer created !\\\"\"), \");\\n    RabbitMQConsumer mqConsumer = res.result();\\n    mqConsumer.handler((RabbitMQMessage message) -\u003e {\\n        System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Got message: \\\"\"), \" + message.body().toString());\\n    });\\n  } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Oups something went wrong\"), \"\\n    res.cause().printStackTrace();\\n  }\\n});\\n\")), mdx(\"p\", null, \"Now to cre\\xADate a queue you sim\\xADply call the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"basicConsumer\"), \" method and you ob\\xADtain asyn\\xADchro\\xADnously\\na \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RabbitMQConsumer\"), \".\"), mdx(\"p\", null, \"Then you need to pro\\xADvide a han\\xADdler called for each mes\\xADsage con\\xADsumed via \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Rab\\xADbit\\xADMQ\\xADCon\\xADsumer#han\\xADdler\"), \" which\\nis the id\\xADiomatic way to con\\xADsumer stream in Vert.x\"), mdx(\"p\", null, \"You may also note that when we a mes\\xADsage ar\\xADrives, it has the type of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RabbitMQMessage\"), \", this is a typed\\nmes\\xADsage rep\\xADre\\xADsen\\xADta\\xADtion.\"), mdx(\"p\", null, \"Since \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RabbitMQConsumer\"), \" is a stream, you also al\\xADlowed to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pause\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"resume\"), \" the stream, sub\\xADscribe to the\\nend event, get no\\xADti\\xADfied when an ex\\xADcep\\xADtion oc\\xADcurs.\"), mdx(\"p\", null, \"In ad\\xADdi\\xADtion, you can can\\xADcel the sub\\xADscrip\\xADtion by call\\xADing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RabbitMQConsumer#cancel\"), \" method.\"), mdx(\"h2\", {\n    \"id\": \"backpressure\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#backpressure\"\n  })), \"Backpressure\"), mdx(\"p\", null, \"Some\\xADtimes you can have more in\\xADcom\\xADing mes\\xADsages than you can han\\xADdle.\"), mdx(\"p\", null, \"The new con\\xADsumer API al\\xADlows you to con\\xADtrol this and lets you store ar\\xADrived mes\\xADsages in the in\\xADter\\xADnal queue\\nbe\\xADfore they are de\\xADliv\\xADered to the ap\\xADpli\\xADca\\xADtion. In\\xADdeed, you can con\\xADfig\\xADure the queue size.\"), mdx(\"p\", null, \"Here is how you can limit the in\\xADter\\xADnal queue size:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Limit to max 300 messages\"), \"\\nQueueOptions options = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" QueueOptions()\\n  .setMaxInternalQueueSize(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"300\"), \");\\n\\nRabbitMQClient client = RabbitMQClient.create(vertx, \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" RabbitMQOptions());\\n\\nclient.basicConsumer(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"my.queue\\\"\"), \", options, res -\u003e {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (res.succeeded()) {\\n    System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"RabbitMQ consumer created !\\\"\"), \");\\n    RabbitMQConsumer mqConsumer = res.result();\\n    mqConsumer.handler((RabbitMQMessage message) -\u003e {\\n      System.out.println(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Got message: \\\"\"), \" + message.body().toString());\\n    });\\n  } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n    res.cause().printStackTrace();\\n  }\\n});\\n\")), mdx(\"p\", null, \"When the in\\xADten\\xADral queue queue ca\\xADpac\\xADity is ex\\xADceeded, the new mes\\xADsage will be sim\\xADply dropped.\"), mdx(\"p\", null, \"An al\\xADter\\xADna\\xADtive op\\xADtion is to drop the old\\xADest mes\\xADsage in the queue.\"), mdx(\"p\", null, \"In order to achieve this, you should spec\\xADify the be\\xADhav\\xADior by call\\xADing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"QueueOptions#setKeepMostRecent\"), \" method.\"), mdx(\"h2\", {\n    \"id\": \"finally\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#finally\"\n  })), \"Finally\"), mdx(\"p\", null, \"The new Vert.x Rab\\xADbitMQ client con\\xADsumer API is way more id\\xADiomatic and mod\\xADern way to con\\xADsume mes\\xADsages from a queue.\"), mdx(\"p\", null, \"This API is going to pro\\xADvided in the 3.6.0 re\\xADlease, while the old will be dep\\xADre\\xADcated.\"), mdx(\"p\", null, \"I hope you en\\xADjoyed read\\xADing this ar\\xADti\\xADcle. See you soon on our \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://gitter.im/eclipse-vertx/vertx-users\"\n  }), \"Git\\xADter chan\\xADnel\"), \"!\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eIn Eclipse Vert.x 3.6.0, the Rab­bitMQ client will get a new con­sumer API. In this post we are going to show\nthe im­prove­ments since the pre­vi­ous API and how easy it is to use now.\u003c/p\u003e\u003cp\u003eBe­fore dig­ging into the new API let’s find out what were the lim­i­ta­tions of the ac­tual one:\u003c/p\u003e\u003col\u003e\u003cli\u003eThe API uses the event bus in such lim­it­ing the con­trol of the con­sumer over the Rab­bitMQ queue.\u003c/li\u003e\u003cli\u003eThe mes­sage API is based on \u003ccode\u003eJsonObject\u003c/code\u003e which does not pro­vide a typed API\u003c/li\u003e\u003c/ol\u003e\u003ch2 id=\"the-new-api-at-a-glance\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#the-new-api-at-a-glance\"\u003e\u003c/a\u003eThe new API at a glance\u003c/h2\u003e\u003cp\u003eHere is how sim­ple queue con­sump­tion looks like with the new API:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003eRabbitMQClient client = RabbitMQClient.create(vertx, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e RabbitMQOptions());\n\nclient.basicConsumer(\u003cspan class=\"hljs-string\"\u003e\u0026quot;my.queue\u0026quot;\u003c/span\u003e, res -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;RabbitMQ consumer created !\u0026quot;\u003c/span\u003e);\n    RabbitMQConsumer mqConsumer = res.result();\n    mqConsumer.handler((RabbitMQMessage message) -\u0026gt; {\n        System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Got message: \u0026quot;\u003c/span\u003e + message.body().toString());\n    });\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// Oups something went wrong\u003c/span\u003e\n    res.cause().printStackTrace();\n  }\n});\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow to cre­ate a queue you sim­ply call the \u003ccode\u003ebasicConsumer\u003c/code\u003e method and you ob­tain asyn­chro­nously\na \u003ccode\u003eRabbitMQConsumer\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eThen you need to pro­vide a han­dler called for each mes­sage con­sumed via \u003cem\u003eRab­bit­MQ­Con­sumer#han­dler\u003c/em\u003e which\nis the id­iomatic way to con­sumer stream in Vert.x\u003c/p\u003e\u003cp\u003eYou may also note that when we a mes­sage ar­rives, it has the type of \u003ccode\u003eRabbitMQMessage\u003c/code\u003e, this is a typed\nmes­sage rep­re­sen­ta­tion.\u003c/p\u003e\u003cp\u003eSince \u003ccode\u003eRabbitMQConsumer\u003c/code\u003e is a stream, you also al­lowed to \u003ccode\u003epause\u003c/code\u003e and \u003ccode\u003eresume\u003c/code\u003e the stream, sub­scribe to the\nend event, get no­ti­fied when an ex­cep­tion oc­curs.\u003c/p\u003e\u003cp\u003eIn ad­di­tion, you can can­cel the sub­scrip­tion by call­ing \u003ccode\u003eRabbitMQConsumer#cancel\u003c/code\u003e method.\u003c/p\u003e\u003ch2 id=\"backpressure\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#backpressure\"\u003e\u003c/a\u003eBackpressure\u003c/h2\u003e\u003cp\u003eSome­times you can have more in­com­ing mes­sages than you can han­dle.\u003c/p\u003e\u003cp\u003eThe new con­sumer API al­lows you to con­trol this and lets you store ar­rived mes­sages in the in­ter­nal queue\nbe­fore they are de­liv­ered to the ap­pli­ca­tion. In­deed, you can con­fig­ure the queue size.\u003c/p\u003e\u003cp\u003eHere is how you can limit the in­ter­nal queue size:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\n\u003cspan class=\"hljs-comment\"\u003e// Limit to max 300 messages\u003c/span\u003e\nQueueOptions options = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e QueueOptions()\n  .setMaxInternalQueueSize(\u003cspan class=\"hljs-number\"\u003e300\u003c/span\u003e);\n\nRabbitMQClient client = RabbitMQClient.create(vertx, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e RabbitMQOptions());\n\nclient.basicConsumer(\u003cspan class=\"hljs-string\"\u003e\u0026quot;my.queue\u0026quot;\u003c/span\u003e, options, res -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;RabbitMQ consumer created !\u0026quot;\u003c/span\u003e);\n    RabbitMQConsumer mqConsumer = res.result();\n    mqConsumer.handler((RabbitMQMessage message) -\u0026gt; {\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Got message: \u0026quot;\u003c/span\u003e + message.body().toString());\n    });\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    res.cause().printStackTrace();\n  }\n});\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWhen the in­ten­ral queue queue ca­pac­ity is ex­ceeded, the new mes­sage will be sim­ply dropped.\u003c/p\u003e\u003cp\u003eAn al­ter­na­tive op­tion is to drop the old­est mes­sage in the queue.\u003c/p\u003e\u003cp\u003eIn order to achieve this, you should spec­ify the be­hav­ior by call­ing \u003ccode\u003eQueueOptions#setKeepMostRecent\u003c/code\u003e method.\u003c/p\u003e\u003ch2 id=\"finally\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#finally\"\u003e\u003c/a\u003eFinally\u003c/h2\u003e\u003cp\u003eThe new Vert.x Rab­bitMQ client con­sumer API is way more id­iomatic and mod­ern way to con­sume mes­sages from a queue.\u003c/p\u003e\u003cp\u003eThis API is going to pro­vided in the 3.6.0 re­lease, while the old will be dep­re­cated.\u003c/p\u003e\u003cp\u003eI hope you en­joyed read­ing this ar­ti­cle. See you soon on our \u003ca href=\"https://gitter.im/eclipse-vertx/vertx-users\"\u003eGit­ter chan­nel\u003c/a\u003e!\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"api","tf":11},{"term":"queue","tf":10},{"term":"messag","tf":9},{"term":"new","tf":7},{"term":"consum","tf":7},{"term":"call","tf":4},{"term":"rabbitmq","tf":3},{"term":"will","tf":3},{"term":"limit","tf":3},{"term":"provid","tf":3},{"term":"type","tf":3},{"term":"method","tf":3},{"term":"stream","tf":3},{"term":"client","tf":2},{"term":"go","tf":2},{"term":"us","tf":2},{"term":"let","tf":2},{"term":"event","tf":2},{"term":"control","tf":2},{"term":"simpli","tf":2},{"term":"handler","tf":2},{"term":"idiomat","tf":2},{"term":"arriv","tf":2},{"term":"allow","tf":2},{"term":"intern","tf":2}]},{"filename":"blog/2018-04-13-new-community-channels.mdx","date":"2018-04-13","slug":"new-community-channels","meta":{"title":"New community channels","category":"news","authors":[{"name":"Thomas Segismont","github_id":"tsegismont"}],"summary":"In order to better support the community, we (the core team and module maintainers) now also provide help on Stack Overflow and Gitter."},"readingTime":{"text":"2 min read","minutes":1.325,"time":79500,"words":265},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"If you vis\\xADited the Eclipse Vert.x web\\xADsite re\\xADcently, you might have no\\xADticed a cou\\xADple of nov\\xADel\\xADties on the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx.io/community\"\n  }), \"com\\xADmu\\xADnity\"), \" page:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"the Stack Over\\xADflow \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://stackoverflow.com/questions/tagged/vert.x?sort=newest\u0026pageSize=15\"\n  }), \"vert.x\"), \" tag for user ques\\xADtions\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"the \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://gitter.im/eclipse-vertx/vertx-users\"\n  }), \"vertx-\\u200Busers\"), \" Git\\xADter chan\\xADnel to chat with other users and mod\\xADule main\\xADtain\\xADers\")), mdx(\"p\", null, \"Won\\xADder\\xADing why?\"), mdx(\"h2\", {\n    \"id\": \"answering-questions-wherever-they-are-asked\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#answering-questions-wherever-they-are-asked\"\n  })), \"Answering questions wherever they are asked\"), mdx(\"p\", null, \"In order to help us sup\\xADport the com\\xADmu\\xADnity, we (the core team and mod\\xADule main\\xADtain\\xADers) have tried so far to stick to a few rules:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://groups.google.com/forum/?fromgroups#!forum/vertx\"\n  }), \"user group\"), \" for ques\\xADtions\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"IRC to chat\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"bugs and is\\xADsues re\\xADported on GitHub\")), mdx(\"p\", null, \"These rules were doc\\xADu\\xADmented on the web\\xADsite, but ad\\xADmit\\xADtedly they are hard (if pos\\xADsi\\xADble at all) to en\\xADforce.\\nAnd let\\u2019s face it: many new users like to ask ques\\xADtions on Stack\\xADover\\xADflow and GitHub.\"), mdx(\"p\", null, \"So we now an\\xADswer ques\\xADtions wher\\xADever they are asked.\\nWe keep the user group as the main chan\\xADnel though: some con\\xADver\\xADsa\\xADtions just don\\u2019t fit the Stack Over\\xADflow model, and not every\\xADone in the com\\xADmu\\xADnity watches the GitHub repos\\xADi\\xADto\\xADries.\"), mdx(\"h2\", {\n    \"id\": \"moving-from-irc-to-gitter\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#moving-from-irc-to-gitter\"\n  })), \"Moving from IRC to Gitter\"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"#vertx\"), \" chan\\xADnel is recorded on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"echelog\"), \" but it\\u2019s not con\\xADve\\xADnient to search or browse.\\nAnd shar\\xADing code, logs, is\\xADsues is sim\\xADply awful com\\xADpared to mod\\xADern al\\xADter\\xADna\\xADtives like Git\\xADter or Slack.\"), mdx(\"p\", null, \"Git\\xADter got our pref\\xADer\\xADence be\\xADcause:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"it\\u2019s free, with\\xADout lim\\xADits\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"it\\u2019s not re\\xADsource hun\\xADgry (on a browser at least)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"it\\u2019s well in\\xADte\\xADgrated with GitHub\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"it sup\\xADports ad\\xADvanced for\\xADmat\\xADting\")), mdx(\"p\", null, \"Since the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://gitter.im/eclipse-vertx/vertx-users\"\n  }), \"chan\\xADnel\"), \" was opened, new peo\\xADple are join\\xADing every day.\\nAt the time of writ\\xADing, there are 74 peo\\xADple reg\\xADis\\xADtered al\\xADready.\\nWe hope you will be the next one!\"), mdx(\"p\", null, \"See you soon on\\xADline.\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eIf you vis­ited the Eclipse Vert.x web­site re­cently, you might have no­ticed a cou­ple of nov­el­ties on the \u003ca href=\"https://vertx.io/community\"\u003ecom­mu­nity\u003c/a\u003e page:\u003c/p\u003e\u003cul\u003e\u003cli\u003ethe Stack Over­flow \u003ca href=\"https://stackoverflow.com/questions/tagged/vert.x?sort=newest\u0026amp;pageSize=15\"\u003evert.x\u003c/a\u003e tag for user ques­tions\u003c/li\u003e\u003cli\u003ethe \u003ca href=\"https://gitter.im/eclipse-vertx/vertx-users\"\u003evertx-​users\u003c/a\u003e Git­ter chan­nel to chat with other users and mod­ule main­tain­ers\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eWon­der­ing why?\u003c/p\u003e\u003ch2 id=\"answering-questions-wherever-they-are-asked\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#answering-questions-wherever-they-are-asked\"\u003e\u003c/a\u003eAnswering questions wherever they are asked\u003c/h2\u003e\u003cp\u003eIn order to help us sup­port the com­mu­nity, we (the core team and mod­ule main­tain­ers) have tried so far to stick to a few rules:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"https://groups.google.com/forum/?fromgroups#!forum/vertx\"\u003euser group\u003c/a\u003e for ques­tions\u003c/li\u003e\u003cli\u003eIRC to chat\u003c/li\u003e\u003cli\u003ebugs and is­sues re­ported on GitHub\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThese rules were doc­u­mented on the web­site, but ad­mit­tedly they are hard (if pos­si­ble at all) to en­force.\nAnd let’s face it: many new users like to ask ques­tions on Stack­over­flow and GitHub.\u003c/p\u003e\u003cp\u003eSo we now an­swer ques­tions wher­ever they are asked.\nWe keep the user group as the main chan­nel though: some con­ver­sa­tions just don’t fit the Stack Over­flow model, and not every­one in the com­mu­nity watches the GitHub repos­i­to­ries.\u003c/p\u003e\u003ch2 id=\"moving-from-irc-to-gitter\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#moving-from-irc-to-gitter\"\u003e\u003c/a\u003eMoving from IRC to Gitter\u003c/h2\u003e\u003cp\u003eThe \u003ccode\u003e#vertx\u003c/code\u003e chan­nel is recorded on \u003ccode\u003eechelog\u003c/code\u003e but it’s not con­ve­nient to search or browse.\nAnd shar­ing code, logs, is­sues is sim­ply awful com­pared to mod­ern al­ter­na­tives like Git­ter or Slack.\u003c/p\u003e\u003cp\u003eGit­ter got our pref­er­ence be­cause:\u003c/p\u003e\u003cul\u003e\u003cli\u003eit’s free, with­out lim­its\u003c/li\u003e\u003cli\u003eit’s not re­source hun­gry (on a browser at least)\u003c/li\u003e\u003cli\u003eit’s well in­te­grated with GitHub\u003c/li\u003e\u003cli\u003eit sup­ports ad­vanced for­mat­ting\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eSince the \u003ca href=\"https://gitter.im/eclipse-vertx/vertx-users\"\u003echan­nel\u003c/a\u003e was opened, new peo­ple are join­ing every day.\nAt the time of writ­ing, there are 74 peo­ple reg­is­tered al­ready.\nWe hope you will be the next one!\u003c/p\u003e\u003cp\u003eSee you soon on­line.\u003c/p\u003e","scope":{}},"tfIdfTerms":[{"term":"user","tf":6},{"term":"question","tf":5},{"term":"gitter","tf":4},{"term":"channel","tf":4},{"term":"github","tf":4},{"term":"commun","tf":3},{"term":"ask","tf":3},{"term":"not","tf":3},{"term":"websit","tf":2},{"term":"stack","tf":2},{"term":"overflow","tf":2},{"term":"chat","tf":2},{"term":"modul","tf":2},{"term":"maintain","tf":2},{"term":"answer","tf":2},{"term":"wherev","tf":2},{"term":"support","tf":2},{"term":"rule","tf":2},{"term":"group","tf":2},{"term":"irc","tf":2},{"term":"issu","tf":2},{"term":"new","tf":2},{"term":"peopl","tf":2},{"term":"74","tf":1},{"term":"visit","tf":1}]}],"numPages":16},"__N_SSG":true},"page":"/blog/[[...slug]]","query":{"slug":["page","6"]},"buildId":"C_I4gGOFTI-4fY_eV8SrD","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-5a9a91c546a2d4fb4cc4.js"></script><script src="/_next/static/chunks/main-79fb140702e98d221643.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/framework.4df82c4704a0136f6a4b.js" async=""></script><script src="/_next/static/chunks/commons.7726cd762eacbba73350.js" async=""></script><script src="/_next/static/chunks/styles.8577696c4e17514af975.js" async=""></script><script src="/_next/static/chunks/pages/_app-8beb549608891d89d2f4.js" async=""></script><script src="/_next/static/chunks/4f16b6dee4e09daf8bf4ac98169064eb9dcaeaf1.72e9236f86e8a2b5e7a0.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-3cd5466df6cee536d361.js" async=""></script><script src="/_next/static/C_I4gGOFTI-4fY_eV8SrD/_buildManifest.js" async=""></script><script src="/_next/static/C_I4gGOFTI-4fY_eV8SrD/_ssgManifest.js" async=""></script></body></html>