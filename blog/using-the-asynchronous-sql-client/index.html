<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><title>Using the asynchronous SQL client | Blog | Eclipse Vert.x</title><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/styles.3958b262.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.3958b262.chunk.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-79fb140702e98d221643.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.4df82c4704a0136f6a4b.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.7726cd762eacbba73350.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.a818060475ab2f7b1a67.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-8beb549608891d89d2f4.js" as="script"/><link rel="preload" href="/_next/static/chunks/4f16b6dee4e09daf8bf4ac98169064eb9dcaeaf1.72e9236f86e8a2b5e7a0.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-5e8bbd33e5bb0ab8dfba.js" as="script"/></head><body><div id="__next"><main class="page"><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><a class="navbar-menu-item" href="/introduction-to-vertx-and-reactive/">Intro</a><a class="navbar-menu-item" href="/docs/">Docs</a><a class="navbar-menu-item" href="/faq/">FAQ</a><a class="navbar-menu-item" href="/blog/">Blog</a><a class="navbar-menu-item" href="/community/">Community</a></div><div class="navbar-social"><div class="dropdown"><a class="dropdown-title">v4.0.0<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"><a href="/docs/"><li class="dropdown-item active"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dropdown-check-icon"><polyline points="20 6 9 17 4 12"></polyline></svg>Latest (v<!-- -->4.0.0<!-- -->)</li></a><a href="/docs/3.9.2"><li class="dropdown-item">v<!-- -->3.9.2</li></a><a href="/docs/3.9.1"><li class="dropdown-item">v<!-- -->3.9.1</li></a><a href="/docs/3.9.0"><li class="dropdown-item">v<!-- -->3.9.0</li></a></ul></div><a href="https://github.com/vert-x3/vertx-awesome" class="navbar-social-link" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M23.996 10.648l-6.153-5.644-.865.944 5.127 4.7H1.895l5.127-4.705L6.157 5 .004 10.648H0v3.72c0 1.682 1.62 3.052 3.61 3.052h3.794c1.99 0 3.61-1.37 3.61-3.051v-2.445h1.968v2.445c0 1.681 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.72z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" class="navbar-social-link" title="Stack Overflow" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>Stack Overflow</title><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" class="navbar-social-link" title="YouTube" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>YouTube</title><path d="M23.495 6.205a3.007 3.007 0 0 0-2.088-2.088c-1.87-.501-9.396-.501-9.396-.501s-7.507-.01-9.396.501A3.007 3.007 0 0 0 .527 6.205a31.247 31.247 0 0 0-.522 5.805 31.247 31.247 0 0 0 .522 5.783 3.007 3.007 0 0 0 2.088 2.088c1.868.502 9.396.502 9.396.502s7.506 0 9.396-.502a3.007 3.007 0 0 0 2.088-2.088 31.247 31.247 0 0 0 .5-5.783 31.247 31.247 0 0 0-.5-5.805zM9.609 15.601V8.408l6.264 3.602z"></path></svg></a><a href="https://gitter.im/eclipse-vertx/vertx-users" class="navbar-social-link" title="Gitter" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Gitter"><title>Gitter</title><path d="M8.501 4.001H10.5V24H8.501V4.001zm6.999 0V24h-2V4.001h2zM3.5 0h2.001v15H3.5V0zm15 4.001h2V15h-2V4.001z"></path></svg></a></div></div></div></div></header><div class="page-content"><div class="container"><div class="blog-post"><div class="blog-navbar"><h2>Blog</h2><ul><li><a href="/blog/">All posts</a></li><li><a href="/blog/category/releases/">releases</a></li><li><a href="/blog/category/guides/">guides</a></li><li><a href="/blog/category/news/">news</a></li></ul></div><div class="blog-post-main"><div class="blog-post-content"><h1>Using the asynchronous SQL client</h1><p>Fi­nally, back… This post is the fifth post of the in­tro­duc­tion to vert.x blog se­ries, after a not-​that-small break. In this post we are going to see how we can use JDBC in a vert.x ap­pli­ca­tion, and this, using the asyn­chro­nous API pro­vided by the <a href="http://vertx.io/docs/vertx-jdbc-client/java/">vertx-​jdbc-client</a>.</p><h2 id="previously-in-the-introduction-to-vertx-series"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#previously-in-the-introduction-to-vertx-series"></a>Previously in the introduction to vert.x series</h2><p>As it was quite some time since the last post, let’s start by re­fresh­ing our mind about the four pre­vi­ous posts:</p><ol><li>The <a href="/blog/my-first-vert-x-3-application/">first post</a> has de­scribed how to build a vert.x ap­pli­ca­tion with Maven and ex­e­cute unit tests.</li><li>The <a href="/blog/vert-x-application-configuration/">sec­ond post</a> has de­scribed how this ap­pli­ca­tion can be­come con­fig­urable.</li><li>The <a href="/blog/some-rest-with-vert-x/">third post</a> has in­tro­duced <a href="http://vertx.io/docs/vertx-web/java/">vertx-​web</a>, and a small col­lec­tion man­age­ment ap­pli­ca­tion has been de­vel­oped. This ap­pli­ca­tion of­fers a REST API used by a HTML/JavaScript fron­tend.</li><li>The <a href="/blog/unit-and-integration-tests/">pre­vi­ous post</a> has pre­sented how you can run in­te­gra­tion tests to en­sure the be­hav­ior of your ap­pli­ca­tion.</li></ol><p>In this post, back to code. The cur­rent ap­pli­ca­tion uses an in-​memory map to store the prod­ucts. It’s time to use a data­base. In this post we are going to use <a href="http://hsqldb.org/">HSQL</a>, but you can use any data­base pro­vid­ing a JDBC dri­ver. In­ter­ac­tions with the data­base will be asyn­chro­nous and made using the <a href="http://vertx.io/docs/vertx-jdbc-client/java/">vertx-​jdbc-client</a>.</p><p>The code of this post are avail­able on this Github <a href="https://github.com/cescoffier/my-vertx-first-app">project</a>, in the <a href="https://github.com/cescoffier/my-vertx-first-app/tree/post-5">post-5 branch</a> branch.</p><h2 id="asynchronous"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#asynchronous"></a>Asynchronous?</h2><p>One of the vert.x char­ac­ter­is­tics is being asyn­chro­nous. With an asyn­chro­nous API, you don’t wait for a re­sult, but you are no­ti­fied when this re­sult is ready. Just to il­lus­trate this, let’s take a very sim­ple ex­am­ple.</p><p>Let’s imag­ine an <code>add</code> method. Tra­di­tion­ally, you would use it like this: <code>int r = add(1, 1)</code>. This is a syn­chro­nous API as you are wait­ing for the re­sult. An asyn­chro­nous ver­sion of this API would be: <code>add(1, 1, r -&gt; { /* do something with the result */ })</code>. In this ver­sion, you pass a <code>Handler</code> called when the re­sult has been com­puted. The method does not re­turn any­thing, and could be im­ple­mented as:</p><pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, Handler&lt;Integer&gt; resultHandler)</span> </span>{
    <span class="hljs-keyword">int</span> r = a + b;
    resultHandler.handle(r);
}
</code></pre><p>Just to avoid mis­con­cep­tions, asyn­chro­nous API are not about threads. As we can see in the <code>add</code> ex­am­ple, there are no threads in­volved.</p><h2 id="jdbc-yes-but-asynchronous"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#jdbc-yes-but-asynchronous"></a>JDBC yes, but asynchronous</h2><p>So, now that we have seen some ba­sics about asyn­chro­nous API, let’s have a look to the vertx-​jdbc-client. This com­po­nent lets us in­ter­act with a data­base through a JDBC dri­ver. These in­ter­ac­tions are asyn­chro­nous, so when you were doing:</p><pre><code class="hljs language-java">String sql = <span class="hljs-string">&quot;SELECT * FROM Products&quot;</span>;
ResultSet rs = stmt.executeQuery(sql);
</code></pre><p>it will be:</p><pre><code class="hljs language-java">connection.query(<span class="hljs-string">&quot;SELECT * FROM Products&quot;</span>, result -&gt; {
        <span class="hljs-comment">// do something with the result</span>
});
</code></pre><p>This model is more ef­fi­cient as it avoids wait­ing for the re­sult. You are no­ti­fied when the re­sult is avail­able.</p><p>Let’s now mod­ify our ap­pli­ca­tion to use a data­base to store our prod­ucts.</p><h2 id="some-maven-dependencies"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#some-maven-dependencies"></a>Some maven dependencies</h2><p>The first things we need to do it to de­clare two new Maven de­pen­den­cies in our <code>pom.xml</code> file:</p><pre><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-jdbc-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.hsqldb<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>hsqldb<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.3.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre><p>The first de­pen­dency pro­vides the vertx-​jdbc-client, while the sec­ond one pro­vide the HSQL JDBC dri­ver. If you want to use an­other data­base, change this de­pen­dency. You will also need to change the JDBC url and JDBC dri­ver class name later.</p><h2 id="initializing-the-jdbc-client"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#initializing-the-jdbc-client"></a>Initializing the JDBC client</h2><p>Now that we have added these de­pen­den­cies, it’s time to cre­ate our JDBC client:</p><p>In the <code>MyFirstVerticle</code> class, de­clare a new field <code>JDBCClient jdbc;</code>, and add the fol­low­ing line at the be­gin­ning of the <code>start</code> method:</p><pre><code class="hljs language-java">jdbc = JDBCClient.createShared(vertx, config(), <span class="hljs-string">&quot;My-Whisky-Collection&quot;</span>);
</code></pre><p>This cre­ates an in­stance of JDBC client, con­fig­ured with the con­fig­u­ra­tion pro­vided to the ver­ti­cle. To work cor­rectly this con­fig­u­ra­tion needs to pro­vide:</p><ul><li><em>url</em> - the JDBC url such as <code>jdbc:hsqldb:mem:db?shutdown=true</code></li><li><em>dri­ver_class</em> - the JDBC dri­ver class such as <code>org.hsqldb.jdbcDriver</code></li></ul><p>Ok, we have the client, we need a con­nec­tion to the data­base. This is achieved using the <code>jdbc.getConnection</code> that take a <code>Handler&lt;AsyncResult&lt;SQLConnection&gt;&gt;</code> as pa­ra­me­ter. Let’s have a deeper look to this type. It’s a <code>Handler</code>, so it is called when the re­sult is ready. This re­sult is an in­stance of <code>AsyncResult&lt;SQLConnection&gt;</code>. <code>AsyncResult</code> is a struc­ture pro­vided by vert.x that lets us know if the op­er­a­tion was com­pleted suc­cess­fully or failed. In case of suc­cess, it pro­vides the re­sult, here an in­stance of <code>SQLConnection</code>.</p><p>When you re­ceive an in­stance of <code>AsyncResult</code>, your code gen­er­ally looks like:</p><pre><code class="hljs language-java"><span class="hljs-keyword">if</span> (ar.failed()) {
  System.err.println(<span class="hljs-string">&quot;The operation has failed...: &quot;</span>
      + ar.cause().getMessage());
} <span class="hljs-keyword">else</span> {
  <span class="hljs-comment">// Use the result:</span>
  result = ar.result();
 }
</code></pre><p>So, let’s go back to our <code>SQLConnection</code>. We need to re­trieve it, and then start the rest of the ap­pli­ca­tion. This changes how we start the ap­pli­ca­tion, as it will be­come asyn­chro­nous. So, if we di­vide our startup se­quence into small chunks it would be some­thing like:</p><pre><code class="hljs language-java">startBackend(
 (connection) -&gt; createSomeData(connection,
     (nothing) -&gt; startWebApp(
         (http) -&gt; completeStartup(http, fut)
     ), fut
 ), fut);
</code></pre><p>with:</p><ol><li><code>startBackend</code> - re­trieves a <code>SQLConnection</code> and then calls the next step</li><li><code>createSomeData</code> - ini­tial­izes the data­base and in­serts some data. When done, it calls the next step</li><li><code>startWebApp</code> - starts our web ap­pli­ca­tion</li><li><code>completeStartup</code> - fi­nal­izes our start se­quence</li></ol><p><code>fut</code> is the com­ple­tion fu­ture passed by vert.x that let us re­port when we are started, or if an issue has been en­coun­tered while start­ing.</p><p>Let’s have a look to <code>startBackend</code>:</p><pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">startBackend</span><span class="hljs-params">(Handler&lt;AsyncResult&lt;SQLConnection&gt;&gt; next, Future&lt;Void&gt; fut)</span> </span>{
  jdbc.getConnection(ar -&gt; {
    <span class="hljs-keyword">if</span> (ar.failed()) {
      fut.fail(ar.cause());
    } <span class="hljs-keyword">else</span> {
      next.handle(Future.succeededFuture(ar.result()));
    }
  });
}
</code></pre><p>This method re­trieves a <code>SQLConnection</code>, check whether this op­er­a­tion suc­ceeded. If so, it calls the next step. In case of fail­ure, it re­ports it.</p><p>The other meth­ods fol­low the same pat­tern: 1) check if the last op­er­a­tion has suc­ceeded, 2) do the task, 3) call the next step.</p><h3 id="a-bit-of-sql"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#a-bit-of-sql"></a>A bit of SQL…</h3><p>Our client is ready, let’s now write some SQL state­ments. Let’s start by the <code>createSomeData</code> method that is part of the startup se­quence:</p><pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">createSomeData</span><span class="hljs-params">(AsyncResult&lt;SQLConnection&gt; result,
    Handler&lt;AsyncResult&lt;Void&gt;&gt; next, Future&lt;Void&gt; fut)</span> </span>{
    <span class="hljs-keyword">if</span> (result.failed()) {
      fut.fail(result.cause());
    } <span class="hljs-keyword">else</span> {
      SQLConnection connection = result.result();
      connection.execute(
          <span class="hljs-string">&quot;CREATE TABLE IF NOT EXISTS Whisky (id INTEGER IDENTITY, name varchar(100), &quot;</span> +
          <span class="hljs-string">&quot;origin varchar(100))&quot;</span>,
          ar -&gt; {
            <span class="hljs-keyword">if</span> (ar.failed()) {
              fut.fail(ar.cause());
              connection.close();
              <span class="hljs-keyword">return</span>;
            }
            connection.query(<span class="hljs-string">&quot;SELECT * FROM Whisky&quot;</span>, select -&gt; {
              <span class="hljs-keyword">if</span> (select.failed()) {
                fut.fail(ar.cause());
                connection.close();
                <span class="hljs-keyword">return</span>;
              }
              <span class="hljs-keyword">if</span> (select.result().getNumRows() == <span class="hljs-number">0</span>) {
                insert(
                    <span class="hljs-keyword">new</span> Whisky(<span class="hljs-string">&quot;Bowmore 15 Years Laimrig&quot;</span>, <span class="hljs-string">&quot;Scotland, Islay&quot;</span>),
                    connection,
                    (v) -&gt; insert(<span class="hljs-keyword">new</span> Whisky(<span class="hljs-string">&quot;Talisker 57° North&quot;</span>, <span class="hljs-string">&quot;Scotland, Island&quot;</span>),
                        connection,
                        (r) -&gt; {
                          next.handle(Future.&lt;Void&gt;succeededFuture());
                          connection.close();
                        }));                                                    
              } <span class="hljs-keyword">else</span> {
                next.handle(Future.&lt;Void&gt;succeededFuture());
                connection.close();
              }
            });
          });
    }
  }
</code></pre><p>This method checks that the <code>SQLConnection</code> is avail­able and then start ex­e­cut­ing some SQL state­ments. First, it cre­ates the ta­bles if there are not there yet. As you can see, the method called is struc­tured as fol­lows:</p><pre><code class="hljs language-java">connection.execute(
    SQL statement,
    handler called when the statement has been executed
)
</code></pre><p>The han­dler re­ceives an <code>AsyncResult&lt;Void&gt;</code>, <em>i.e.</em> a no­ti­fi­ca­tion of the com­ple­tion with­out an ac­tual re­sult.</p><div class="alert info"><div class="alert-title">Closing connection</div><p>Don’t for­get to close the SQL con­nec­tion when you are done. The con­nec­tion will be given back to the con­nec­tion pool and be reused.</p></div><p>In the code of this han­dler, we check whether or not the state­ment has been ex­e­cuted cor­rectly, and if so we check to see if the table al­ready con­tains some data, if not, it in­serts data using the <code>insert</code> method:</p><pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(Whisky whisky, SQLConnection connection, Handler&lt;AsyncResult&lt;Whisky&gt;&gt; next)</span> </span>{
  String sql = <span class="hljs-string">&quot;INSERT INTO Whisky (name, origin) VALUES ?, ?&quot;</span>;
  connection.updateWithParams(sql,
      <span class="hljs-keyword">new</span> JsonArray().add(whisky.getName()).add(whisky.getOrigin()),
      (ar) -&gt; {
        <span class="hljs-keyword">if</span> (ar.failed()) {
          next.handle(Future.failedFuture(ar.cause()));
          <span class="hljs-keyword">return</span>;
        }
        UpdateResult result = ar.result();
        <span class="hljs-comment">// Build a new whisky instance with the generated id.</span>
        Whisky w = <span class="hljs-keyword">new</span> Whisky(result.getKeys().getInteger(<span class="hljs-number">0</span>), whisky.getName(), whisky.getOrigin());
        next.handle(Future.succeededFuture(w));
      });
}
</code></pre><p>This method uses the <code>updateWithParams</code> method with an <em>IN­SERT</em> state­ment, and pass val­ues. This ap­proach avoids SQL in­jec­tion. Once the the state­ment has been ex­e­cuted, we cre­ates a new <code>Whisky</code> ob­ject with the cre­ated (auto-​generated) id.</p><h2 id="some-rest-with-a-pinch-of-sql"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#some-rest-with-a-pinch-of-sql"></a>Some REST with a pinch of SQL</h2><p>The method de­scribed  above is part of our start se­quence. But what about the method in­voked by our REST API. Let’s have a look to the <code>getAll</code> method. This method is called by the web front-​end to re­trieve all stored prod­ucts:</p><pre><code class="hljs language-java"> <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getAll</span><span class="hljs-params">(RoutingContext routingContext)</span> </span>{
    jdbc.getConnection(ar -&gt; {
      SQLConnection connection = ar.result();
      connection.query(<span class="hljs-string">&quot;SELECT * FROM Whisky&quot;</span>, result -&gt; {
        List&lt;Whisky&gt; whiskies = result.result().getRows().stream().map(Whisky::<span class="hljs-keyword">new</span>).collect(Collectors.toList());
        routingContext.response()
            .putHeader(<span class="hljs-string">&quot;content-type&quot;</span>, <span class="hljs-string">&quot;application/json; charset=utf-8&quot;</span>)
            .end(Json.encodePrettily(whiskies));
        connection.close(); <span class="hljs-comment">// Close the connection     </span>
      });
    });
  }
</code></pre><p>This method gets a <code>SQLConnection</code>, and then issue a query. Once the re­sult has been re­trieved it writes the HTTP re­sponse as be­fore. The <code>getOne</code>, <code>deleteOne</code>, <code>updateOne</code> and <code>addOne</code> meth­ods fol­low the same pat­tern. No­tice that the con­nec­tion can be closed after the re­sponse has been writ­ten.</p><p>Let’s have a look to the re­sult pro­vided to the han­dler passed to the <code>query</code> method. It gets a <code>ResultSet</code>, which con­tains the query re­sult. Each row is a <code>JsonObject</code>, so if your data ob­ject has a con­struc­tor tak­ing a <code>JsonObject</code> as unique ar­gu­ment, cre­at­ing there ob­jects is straight­for­ward.</p><h2 id="test-test-and-test-again"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#test-test-and-test-again"></a>Test, test, and test again</h2><p>We need to slightly up­date our tests to con­fig­ure the <code>JDBCClient</code>. In the <code>MyFirstVertilceTest</code> class, change the <code>DeploymentOption</code> ob­ject cre­ated in the <code>setUp</code> method to be:</p><pre><code class="hljs language-java">DeploymentOptions options = <span class="hljs-keyword">new</span> DeploymentOptions()
    .setConfig(<span class="hljs-keyword">new</span> JsonObject()
        .put(<span class="hljs-string">&quot;http.port&quot;</span>, port)
        .put(<span class="hljs-string">&quot;url&quot;</span>, <span class="hljs-string">&quot;jdbc:hsqldb:mem:test?shutdown=true&quot;</span>)
        .put(<span class="hljs-string">&quot;driver_class&quot;</span>, <span class="hljs-string">&quot;org.hsqldb.jdbcDriver&quot;</span>)
    );
</code></pre><p>In ad­di­tion to the <code>http.port</code>, we also put the JDBC url and the class of the JDBC dri­ver. We use an in-​memory data­base for tests.</p><p>The same mod­i­fi­ca­tion needs to be done in the <code>src/test/resources/my-it-config.json</code> file:</p><pre><code class="hljs language-json">{
  <span class="hljs-attr">&quot;http.port&quot;</span>: ${http.port},
  <span class="hljs-attr">&quot;url&quot;</span>: <span class="hljs-string">&quot;jdbc:hsqldb:mem:it-test?shutdown=true&quot;</span>,
  <span class="hljs-attr">&quot;driver_class&quot;</span>: <span class="hljs-string">&quot;org.hsqldb.jdbcDriver&quot;</span>
}
</code></pre><p>The <code>src/main/conf/my-application-conf.json</code> file also needs to be up­dated, not for the tests, but to run the ap­pli­ca­tion:</p><pre><code class="hljs language-json">{
  <span class="hljs-attr">&quot;http.port&quot;</span> : <span class="hljs-number">8082</span>,
  <span class="hljs-attr">&quot;url&quot;</span>: <span class="hljs-string">&quot;jdbc:hsqldb:file:db/whiskies&quot;</span>,
  <span class="hljs-attr">&quot;driver_class&quot;</span>: <span class="hljs-string">&quot;org.hsqldb.jdbcDriver&quot;</span>
}
</code></pre><p>The JDBC url is a bit dif­fer­ent in this last file, as we store the data­base on the file sys­tem.</p><h2 id="show-time"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#show-time"></a>Show time!</h2><p>Let’s now build our ap­pli­ca­tion:</p><p><code>mvn clean package</code></p><p>As we didn’t change the API (nei­ther the pub­lic java one nor the REST), test should run smoothly.</p><p>Then launch the ap­pli­ca­tion with:</p><p><code>java -jar target/my-first-app-1.0-SNAPSHOT-fat.jar -conf src/main/conf/my-application-conf.json </code></p><p>Open your browser to <code>http://localhost:8082/assets/index.html</code>, and you should see the ap­pli­ca­tion using the data­base. This time the prod­ucts are stored in a data­base per­sisted on the file sys­tem. So, if we stop and restart the ap­pli­ca­tion, the data is re­stored.</p><h2 id="conclusion"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#conclusion"></a>Conclusion</h2><p>In this post, we saw how you can use JDBC data­base with vert.x, and thus with­out too much bur­den. You may have been sur­prised by the asyn­chro­nous de­vel­op­ment model, but once you start using it, it’s hard to come back.</p><p>In the <a href="/blog/combine-vert-x-and-mongo-to-build-a-giant/">next post</a>, we see how the same ap­pli­ca­tion can use Mon­goDB in­stead of HSQL.</p><p>Stay tuned, and happy cod­ing!</p></div><div class="blog-post-sidebar"><div class="blog-post-author"><img class="blog-post-author-avatar" src="https://github.com/cescoffier.png?size=160"/><div class="blog-post-author-name">by <a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></div></div><div class="blog-post-sidebar-date">Posted on <!-- -->19 October 2015</div>in <a class="blog-post-sidebar-category" href="/blog/category/guides/">guides</a><div class="blog-post-sidebar-reading-time"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <!-- -->10 min read</div><div class="blog-post-sidebar-share-icons"><a href="https://twitter.com/intent/tweet?text=Using%20the%20asynchronous%20SQL%20client&amp;url=https%3A%2F%2Fvertx-web-site.github.io%2Fblog%2Fusing-the-asynchronous-sql-client&amp;via=vertx_project" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>Twitter</title><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"></path></svg></a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fvertx-web-site.github.io%2Fblog%2Fusing-the-asynchronous-sql-client" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fvertx-web-site.github.io%2Fblog%2Fusing-the-asynchronous-sql-client" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>Facebook</title><path d="M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z"></path></svg></a></div></div></div><div class="blog-post-next-prev"><div class="blog-post-next-prev-entry"><h5>Next post</h5><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">25 November 2015</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/vert-x-es6-back-to-the-future/">Vert.x ES6 back to the future</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/pmlopes.png?size=50"/><a href="https://github.com/pmlopes" target="_blank" rel="noopener noreferrer">Paulo Lopes</a></li></ul></span><p class="blog-entry-summary">On October 21th, 2015 we all rejoiced with the return from the past of Marty McFly with his flying car and so on, however in the Vert.x world we were quite sad about our rather old JavaScript support.</p><span class="read-more-link"><a href="/blog/vert-x-es6-back-to-the-future/">Read more</a></span></div></div><div class="blog-post-next-prev-entry"><h5>Previous post</h5><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">8 October 2015</span><a class="blog-entry-category" href="/blog/category/releases/">releases</a></div><h3><a href="/blog/vert-x-3-1-0-is-released/">Vert.x 3.1.0 is released !</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/purplefox.png?size=50"/><a href="https://github.com/purplefox" target="_blank" rel="noopener noreferrer">Tim Fox</a></li></ul></span><p class="blog-entry-summary">I&#x27;m pleased to announce the release of Vert.x 3.1!</p><span class="read-more-link"><a href="/blog/vert-x-3-1-0-is-released/">Read more</a></span></div></div></div><div class="blog-post-related"><h5>Related posts</h5><div class="blog-post-related-posts"><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">3 August 2015</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/unit-and-integration-tests/">Unit and Integration Tests</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/cescoffier.png?size=50"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="blog-entry-summary">Let’s refresh our mind about what we developed so far in the introduction to vert.x series. We forgot an important task. We didn’t test the API.</p><span class="read-more-link"><a href="/blog/unit-and-integration-tests/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">30 November 2015</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/combine-vert-x-and-mongo-to-build-a-giant/">Combine vert.x and mongo to build a giant</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/cescoffier.png?size=50"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="blog-entry-summary">This blog post is part of the introduction to Vert.x series. We are now going to replace this JDBC client by the vertx-mongo-client, and thus connect to a Mongo database.</p><span class="read-more-link"><a href="/blog/combine-vert-x-and-mongo-to-build-a-giant/">Read more</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><span class="blog-entry-date">14 July 2015</span><a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><h3><a href="/blog/my-first-vert-x-3-application/">My first Vert.x 3 Application</a></h3><span class="blog-entry-authors"><ul><li><img src="https://github.com/cescoffier.png?size=50"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="blog-entry-summary">Let&#x27;s say, you heard someone saying that Vert.x is awesome. Ok great, but you may want to try it by yourself. Well, the next natural question is “where do I start ?”</p><span class="read-more-link"><a href="/blog/my-first-vert-x-3-application/">Read more</a></span></div></div></div></div></div></div><footer><div class="container"><div class="footer-nav-section"><div class="footer-nav-list footer-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="footer-nav-list"><h5>Eclipse Vert.x</h5><ul class=""><li><a class="navbar-menu-item" href="/docs/">Docs</a></li><li><a href="/faq/">FAQ</a></li><li><a href="/blog/">Blog</a></li><li><a href="/community/">Community</a></li></ul></div><div class="footer-nav-list"><h5>Eclipse</h5><ul class=""><li><a href="https://www.eclipse.org/">Eclipse Foundation</a></li><li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li><li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li><li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li><li><a href="https://www.eclipse.org/legal/">Legal Resources</a></li></ul></div></div><div class="footer-copyright"><div class="footer-copyright-remarks">© <!-- -->2020<!-- --> Eclipse Vert.x<br/>Eclipse Vert.x is open source and dual-licensed under the <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer">Eclipse Public License 2.0</a> and the <a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer">Apache License 2.0</a>. <br class="footer-copyright-break"/>Website design by <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer">Michel Krämer</a>.</div><div class="footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0TDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"filename":"2015-10-19-using-the-asynchronous-sql-client.mdx","date":"2015-10-19","slug":"using-the-asynchronous-sql-client","meta":{"title":"Using the asynchronous SQL client","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Finally, back... This post is the fifth post of the introduction to vert.x blog series, after a not-that-small break. In this post we are going to see how we can use JDBC in a vert.x application."},"tfIdfTerms":[{"term":"us","tf":22},{"term":"jdbc","tf":20},{"term":"method","tf":19},{"term":"applic","tf":17},{"term":"let","tf":16},{"term":"post","tf":15},{"term":"databas","tf":13},{"term":"result","tf":13},{"term":"asynchron","tf":12},{"term":"start","tf":11},{"term":"api","tf":9},{"term":"provid","tf":9},{"term":"client","tf":9},{"term":"test","tf":9},{"term":"call","tf":8},{"term":"need","tf":8},{"term":"not","tf":7},{"term":"creat","tf":7},{"term":"driver","tf":6},{"term":"look","tf":6},{"term":"file","tf":6},{"term":"sql","tf":6},{"term":"back","tf":5},{"term":"time","tf":5},{"term":"configur","tf":5}],"readingTime":{"text":"10 min read","minutes":9.43,"time":565800,"words":1886},"relatedPosts":[69,62,72]},"__N_SSG":true},"page":"/blog/[[...slug]]","query":{"slug":["using-the-asynchronous-sql-client"]},"buildId":"75F_i9z6rrYlvhKJb47Ge","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-5a9a91c546a2d4fb4cc4.js"></script><script src="/_next/static/chunks/main-79fb140702e98d221643.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/framework.4df82c4704a0136f6a4b.js" async=""></script><script src="/_next/static/chunks/commons.7726cd762eacbba73350.js" async=""></script><script src="/_next/static/chunks/styles.a818060475ab2f7b1a67.js" async=""></script><script src="/_next/static/chunks/pages/_app-8beb549608891d89d2f4.js" async=""></script><script src="/_next/static/chunks/4f16b6dee4e09daf8bf4ac98169064eb9dcaeaf1.72e9236f86e8a2b5e7a0.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-5e8bbd33e5bb0ab8dfba.js" async=""></script><script src="/_next/static/75F_i9z6rrYlvhKJb47Ge/_buildManifest.js" async=""></script><script src="/_next/static/75F_i9z6rrYlvhKJb47Ge/_ssgManifest.js" async=""></script></body></html>