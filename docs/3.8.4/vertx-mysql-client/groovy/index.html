<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><title>Reactive MySQL Client | Eclipse Vert.x</title><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/styles.065337ce.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.065337ce.chunk.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-b6e20584df76f29b6f35.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.fcef98db13e2318579fb.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.5b8771ac6e8a338f82f1.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.6a5cc0a07ce13c54adf1.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-3dbbc9c041333077c167.js" as="script"/><link rel="preload" href="/_next/static/chunks/5e2acbba0c73eb7c5c0e969bcd552d3808de9969.4d0eb9c3d4239c66cc89.js" as="script"/><link rel="preload" href="/_next/static/chunks/31acfd8439b7c9eee4abe9f59c7500d6c943ee0d.46f4cf2c4741679ce3eb.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/docs/%5B%5B...slug%5D%5D-a0e26e250e9304ae7812.js" as="script"/></head><body><div id="__next"><main class="page docs"><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><a class="navbar-menu-item" href="/introduction-to-vertx-and-reactive/">Intro</a><a class="navbar-menu-item" href="/docs/">Docs</a><a class="navbar-menu-item" href="/faq/">FAQ</a><a class="navbar-menu-item" href="/blog/">Blog</a><a class="navbar-menu-item" href="/community/">Community</a></div><div class="navbar-social"><a href="https://github.com/vert-x3/vertx-awesome" class="navbar-social-link" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M24 11.438l-6.154-5.645-.865.944 5.128 4.7H1.895l5.128-4.705-.865-.943-6.154 5.649H0v3.72c0 1.683 1.62 3.053 3.61 3.053h3.795c1.99 0 3.61-1.37 3.61-3.051v-2.446h1.97v2.446c0 1.68 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.721z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" class="navbar-social-link" title="Stack Overflow" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>Stack Overflow</title><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" class="navbar-social-link" title="YouTube" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>YouTube</title><path d="M23.499 6.203a3.008 3.008 0 00-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 00-2.088 2.09A31.258 31.26 0 000 12.01a31.258 31.26 0 00.523 5.785 3.008 3.008 0 002.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 002.089-2.09 31.258 31.26 0 00.5-5.784 31.258 31.26 0 00-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"></path></svg></a><a href="https://discord.gg/KzEMwP2" class="navbar-social-link" title="Discord" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Discord"><title>Discord</title><path d="M20.222 0c1.406 0 2.54 1.137 2.607 2.475V24l-2.677-2.273-1.47-1.338-1.604-1.398.67 2.205H3.71c-1.402 0-2.54-1.065-2.54-2.476V2.48C1.17 1.142 2.31.003 3.715.003h16.5L20.222 0zm-6.118 5.683h-.03l-.202.2c2.073.6 3.076 1.537 3.076 1.537-1.336-.668-2.54-1.002-3.744-1.137-.87-.135-1.74-.064-2.475 0h-.2c-.47 0-1.47.2-2.81.735-.467.203-.735.336-.735.336s1.002-1.002 3.21-1.537l-.135-.135s-1.672-.064-3.477 1.27c0 0-1.805 3.144-1.805 7.02 0 0 1 1.74 3.743 1.806 0 0 .4-.533.805-1.002-1.54-.468-2.14-1.404-2.14-1.404s.134.066.335.2h.06c.03 0 .044.015.06.03v.006c.016.016.03.03.06.03.33.136.66.27.93.4.466.202 1.065.403 1.8.536.93.135 1.996.2 3.21 0 .6-.135 1.2-.267 1.8-.535.39-.2.87-.4 1.397-.737 0 0-.6.936-2.205 1.404.33.466.795 1 .795 1 2.744-.06 3.81-1.8 3.87-1.726 0-3.87-1.815-7.02-1.815-7.02-1.635-1.214-3.165-1.26-3.435-1.26l.056-.02zm.168 4.413c.703 0 1.27.6 1.27 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334.002-.74.573-1.338 1.27-1.338zm-4.543 0c.7 0 1.266.6 1.266 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334 0-.74.57-1.338 1.27-1.338z"></path></svg></a><a href="https://groups.google.com/forum/?fromgroups#!forum/vertx" class="navbar-social-link" title="Vert.x User Group" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="A Google group for Vert.x users"><title>Vert.x User Group</title><path d="M.92 3.332c-.776 0-1.216.67-.692 1.383l2.537 4.403v7.86c0 2.013 1.467 3.69 3.459 3.69H20.31a3.75 3.75 0 003.69-3.69V7.043a3.723 3.723 0 00-3.668-3.71zm5.786 3.71H20.1c.587 0 1.153.357 1.153.923 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.923 1.153-.923zm0 3.69H20.1c.587 0 1.153.356 1.153.922 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.922 1.153-.922zm-.021 3.71h9.705c.587 0 1.153.356 1.153.922 0 .566-.566.923-1.153.923H6.685c-.587 0-1.153-.357-1.153-.923 0-.566.566-.922 1.153-.922Z"></path></svg></a></div></div></div></div></header><div class="page-content docs-content"><div class="container"><div class="docs-content-wrapper"><aside class=""><div class="docs-content-wrapper-sidebar"><div class="search-panel"><div class="search"><input type="text" placeholder="Search..." value=""/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon-delete"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg></div><ul class="search-results"></ul><div class="search-results-none">No results.</div></div><div class="docs-content-toc"><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_usage">Usage</a></li>
<li><a href="#_getting_started">Getting started</a></li>
<li><a href="#_connecting_to_mysql">Connecting to MySQL</a></li>
<li><a href="#_configuration">Configuration</a>
<ul class="sectlevel2">
<li><a href="#_data_object">Data Object</a></li>
<li><a href="#_connection_uri">connection URI</a></li>
</ul>
</li>
<li><a href="#_mysql_last_insert_id">MySQL LAST_INSERT_ID</a></li>
<li><a href="#_mysql_type_mapping">MySQL type mapping</a>
<ul class="sectlevel2">
<li><a href="#_handling_boolean">Handling BOOLEAN</a></li>
<li><a href="#_handling_json">Handling JSON</a></li>
<li><a href="#_handling_numeric">Handling NUMERIC</a></li>
</ul>
</li>
<li><a href="#_collector_queries">Collector queries</a></li>
<li><a href="#_mysql_stored_procedure">MySQL Stored Procedure</a></li>
<li><a href="#_mysql_local_infile">MySQL LOCAL INFILE</a></li>
<li><a href="#_authentication">Authentication</a></li>
<li><a href="#_using_ssltls">Using SSL/TLS</a></li>
<li><a href="#_mysql_utility_command">MySQL utility command</a>
<ul class="sectlevel2">
<li><a href="#_com_ping">COM_PING</a></li>
<li><a href="#_com_reset_connection">COM_RESET_CONNECTION</a></li>
<li><a href="#_com_change_user">COM_CHANGE_USER</a></li>
<li><a href="#_com_init_db">COM_INIT_DB</a></li>
<li><a href="#_com_statistics">COM_STATISTICS</a></li>
<li><a href="#_com_debug">COM_DEBUG</a></li>
<li><a href="#_com_set_option">COM_SET_OPTION</a></li>
</ul>
</li>
<li><a href="#_mysql_and_mariadb_version_support_matrix">MySQL and MariaDB version support matrix</a></li>
</ul>
</div></div></div></aside><div class="docs-content-sidebar-toggle"><div style="position:relative"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div></div><div class="docs-content-inner"><div class="docs-content-metadata"><div class="docs-content-metadata-left"><div><a href="/docs/apidocs/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> API</a></div><span class="docs-content-metadata-version"><div class="dropdown"><a class="dropdown-title">vundefined<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"></ul></div></span></div></div><div><h1>Reactive MySQL Client</h1>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Reactive MySQL Client is a client for MySQL with a straightforward API focusing on
scalability and low overhead.</p>
</div>
<div class="paragraph">
<p><strong>Features</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Event driven</p>
</li>
<li>
<p>Lightweight</p>
</li>
<li>
<p>Built-in connection pooling</p>
</li>
<li>
<p>Prepared queries caching</p>
</li>
<li>
<p>Cursor support</p>
</li>
<li>
<p>Row streaming</p>
</li>
<li>
<p>RxJava 1 and RxJava 2</p>
</li>
<li>
<p>Direct memory to object without unnecessary copies</p>
</li>
<li>
<p>Java 8 Date and Time</p>
</li>
<li>
<p>Stored Procedures support</p>
</li>
<li>
<p>TLS/SSL support</p>
</li>
<li>
<p>MySQL utilities commands support</p>
</li>
<li>
<p>Working with MySQL and MariaDB</p>
</li>
<li>
<p>Rich collation and charset support</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usage"><a class="anchor" href="#_usage"></a>Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use the Reactive MySQL Client add the following dependency to the <em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-lang-groovy<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.8.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">dependencies {
 compile <span class="hljs-string">'io.vertx:vertx-lang-groovy:3.8.4'</span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started"><a class="anchor" href="#_getting_started"></a>Getting started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here is the simplest way to connect, query and disconnect</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy"><span class="hljs-comment">// Connect options</span>
<span class="hljs-keyword">def</span> connectOptions = [
<span class="hljs-symbol">  port:</span><span class="hljs-number">3306</span>,
<span class="hljs-symbol">  host:</span><span class="hljs-string">"the-host"</span>,
<span class="hljs-symbol">  database:</span><span class="hljs-string">"the-db"</span>,
<span class="hljs-symbol">  user:</span><span class="hljs-string">"user"</span>,
<span class="hljs-symbol">  password:</span><span class="hljs-string">"secret"</span>
]

<span class="hljs-comment">// Pool options</span>
<span class="hljs-keyword">def</span> poolOptions = [
<span class="hljs-symbol">  maxSize:</span><span class="hljs-number">5</span>
]

<span class="hljs-comment">// Create the client pool</span>
<span class="hljs-keyword">def</span> client = MySQLPool.pool(connectOptions, poolOptions)

<span class="hljs-comment">// A simple query</span>
client.query(<span class="hljs-string">"SELECT * FROM users WHERE id='julien'"</span>, { ar -&gt;
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    <span class="hljs-keyword">def</span> result = ar.result()
    println(<span class="hljs-string">"Got ${result.size()} rows "</span>)
  } <span class="hljs-keyword">else</span> {
    println(<span class="hljs-string">"Failure: ${ar.cause().getMessage()}"</span>)
  }

  <span class="hljs-comment">// Now close the pool</span>
  client.close()
})</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connecting_to_mysql"><a class="anchor" href="#_connecting_to_mysql"></a>Connecting to MySQL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most of the time you will use a pool to connect to MySQL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy"><span class="hljs-comment">// Connect options</span>
<span class="hljs-keyword">def</span> connectOptions = [
<span class="hljs-symbol">  port:</span><span class="hljs-number">3306</span>,
<span class="hljs-symbol">  host:</span><span class="hljs-string">"the-host"</span>,
<span class="hljs-symbol">  database:</span><span class="hljs-string">"the-db"</span>,
<span class="hljs-symbol">  user:</span><span class="hljs-string">"user"</span>,
<span class="hljs-symbol">  password:</span><span class="hljs-string">"secret"</span>
]

<span class="hljs-comment">// Pool options</span>
<span class="hljs-keyword">def</span> poolOptions = [
<span class="hljs-symbol">  maxSize:</span><span class="hljs-number">5</span>
]

<span class="hljs-comment">// Create the pooled client</span>
<span class="hljs-keyword">def</span> client = MySQLPool.pool(connectOptions, poolOptions)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The pooled client uses a connection pool and any operation will borrow a connection from the pool
to execute the operation and release it to the pool.</p>
</div>
<div class="paragraph">
<p>If you are running with Vert.x you can pass it your Vertx instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy"><span class="hljs-comment">// Connect options</span>
<span class="hljs-keyword">def</span> connectOptions = [
<span class="hljs-symbol">  port:</span><span class="hljs-number">3306</span>,
<span class="hljs-symbol">  host:</span><span class="hljs-string">"the-host"</span>,
<span class="hljs-symbol">  database:</span><span class="hljs-string">"the-db"</span>,
<span class="hljs-symbol">  user:</span><span class="hljs-string">"user"</span>,
<span class="hljs-symbol">  password:</span><span class="hljs-string">"secret"</span>
]

<span class="hljs-comment">// Pool options</span>
<span class="hljs-keyword">def</span> poolOptions = [
<span class="hljs-symbol">  maxSize:</span><span class="hljs-number">5</span>
]
<span class="hljs-comment">// Create the pooled client</span>
<span class="hljs-keyword">def</span> client = MySQLPool.pool(vertx, connectOptions, poolOptions)</code></pre>
</div>
</div>
<div class="paragraph">
<p>You need to release the pool when you don&#8217;t need it anymore:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy"><span class="hljs-comment">// Close the pool and all the associated resources</span>
pool.close()</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you need to execute several operations on the same connection, you need to use a client
<code><a href="../../apidocs/io/vertx/mysqlclient/MySQLConnection.html">connection</a></code>.</p>
</div>
<div class="paragraph">
<p>You can easily get one from the pool:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy"><span class="hljs-comment">// Connect options</span>
<span class="hljs-keyword">def</span> connectOptions = [
<span class="hljs-symbol">  port:</span><span class="hljs-number">3306</span>,
<span class="hljs-symbol">  host:</span><span class="hljs-string">"the-host"</span>,
<span class="hljs-symbol">  database:</span><span class="hljs-string">"the-db"</span>,
<span class="hljs-symbol">  user:</span><span class="hljs-string">"user"</span>,
<span class="hljs-symbol">  password:</span><span class="hljs-string">"secret"</span>
]

<span class="hljs-comment">// Pool options</span>
<span class="hljs-keyword">def</span> poolOptions = [
<span class="hljs-symbol">  maxSize:</span><span class="hljs-number">5</span>
]

<span class="hljs-comment">// Create the pooled client</span>
<span class="hljs-keyword">def</span> client = MySQLPool.pool(vertx, connectOptions, poolOptions)

<span class="hljs-comment">// Get a connection from the pool</span>
client.getConnection({ ar1 -&gt;

  <span class="hljs-keyword">if</span> (ar1.succeeded()) {

    println(<span class="hljs-string">"Connected"</span>)

    <span class="hljs-comment">// Obtain our connection</span>
    <span class="hljs-keyword">def</span> conn = ar1.result()

    <span class="hljs-comment">// All operations execute on the same connection</span>
    conn.query(<span class="hljs-string">"SELECT * FROM users WHERE id='julien'"</span>, { ar2 -&gt;
      <span class="hljs-keyword">if</span> (ar2.succeeded()) {
        conn.query(<span class="hljs-string">"SELECT * FROM users WHERE id='emad'"</span>, { ar3 -&gt;
          <span class="hljs-comment">// Release the connection to the pool</span>
          conn.close()
        })
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// Release the connection to the pool</span>
        conn.close()
      }
    })
  } <span class="hljs-keyword">else</span> {
    println(<span class="hljs-string">"Could not connect: ${ar1.cause().getMessage()}"</span>)
  }
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you are done with the connection you must close it to release it to the pool, so it can be reused.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration"><a class="anchor" href="#_configuration"></a>Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are several alternatives for you to configure the client.</p>
</div>
<div class="sect2">
<h3 id="_data_object"><a class="anchor" href="#_data_object"></a>Data Object</h3>
<div class="paragraph">
<p>A simple way to configure the client is to specify a <code>MySQLConnectOptions</code> data object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy"><span class="hljs-comment">// Data object</span>
<span class="hljs-keyword">def</span> connectOptions = [
<span class="hljs-symbol">  port:</span><span class="hljs-number">3306</span>,
<span class="hljs-symbol">  host:</span><span class="hljs-string">"the-host"</span>,
<span class="hljs-symbol">  database:</span><span class="hljs-string">"the-db"</span>,
<span class="hljs-symbol">  user:</span><span class="hljs-string">"user"</span>,
<span class="hljs-symbol">  password:</span><span class="hljs-string">"secret"</span>
]

<span class="hljs-comment">// Pool Options</span>
<span class="hljs-keyword">def</span> poolOptions = [
<span class="hljs-symbol">  maxSize:</span><span class="hljs-number">5</span>
]

<span class="hljs-comment">// Create the pool from the data object</span>
<span class="hljs-keyword">def</span> pool = MySQLPool.pool(vertx, connectOptions, poolOptions)

pool.getConnection({ ar -&gt;
  <span class="hljs-comment">// Handling your connection</span>
})</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_collations_and_character_sets"><a class="anchor" href="#_collations_and_character_sets"></a>collations and character sets</h4>
<div class="paragraph">
<p>The Reactive MySQL client supports configuring collations or character sets and map them to a correlative <code>java.nio.charset.Charset</code>.
For example, you can specify charset for a connection like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy"><span class="hljs-keyword">def</span> connectOptions = [:]

<span class="hljs-comment">// set connection character set to utf8 instead of the default charset utf8mb4</span>
connectOptions.charset = <span class="hljs-string">"utf8"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also specify collation for a connection like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy"><span class="hljs-keyword">def</span> connectOptions = [:]

<span class="hljs-comment">// set connection collation to utf8_general_ci instead of the default collation utf8mb4_general_ci</span>
<span class="hljs-comment">// setting a collation will override the charset option</span>
connectOptions.charset = <span class="hljs-string">"gbk"</span>
connectOptions.collation = <span class="hljs-string">"utf8_general_ci"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>MySQL will take <code>utf8mb4</code> as the default charset. Note setting a collation on the data object will override the charset option.</p>
</div>
<div class="paragraph">
<p>You can execute SQL <code>SHOW COLLATION;</code> or <code>SHOW CHARACTER SET;</code> to get the supported collations and charsets.</p>
</div>
<div class="paragraph">
<p>More information about MySQL charsets and collations can be found in the <a href="https://dev.mysql.com/doc/refman/8.0/en/charset.html">MySQL Reference Manual</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_connection_attributes"><a class="anchor" href="#_connection_attributes"></a>connection attributes</h4>
<div class="paragraph">
<p>You can also configure the connection attributes with the <code>setProperties</code> or <code>addProperty</code> methods. Note <code>setProperties</code> will override the default client properties.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">Code not translatable</code></pre>
</div>
</div>
<div class="paragraph">
<p>More information about client connection attributes can be found in the <a href="https://dev.mysql.com/doc/refman/8.0/en/performance-schema-connection-attribute-tables.html">MySQL Reference Manual</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_useaffectedrows"><a class="anchor" href="#_useaffectedrows"></a>useAffectedRows</h4>
<div class="paragraph">
<p>You can configure the <code>useAffectedRows</code> option to decide whether to set <code>CLIENT_FOUND_ROWS</code> flag when connecting to the server. If the <code>CLIENT_FOUND_ROWS</code> flag is specified then the affected rows count is the numeric value of rows found rather than affected.</p>
</div>
<div class="paragraph">
<p>More information about this can be found in the <a href="https://dev.mysql.com/doc/refman/8.0/en/mysql-affected-rows.html">MySQL Reference Manual</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_connection_uri"><a class="anchor" href="#_connection_uri"></a>connection URI</h3>
<div class="paragraph">
<p>Apart from configuring with a <code>MySQLConnectOptions</code> data object, We also provide you an alternative way to connect when you want to configure with a connection URI:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy"><span class="hljs-comment">// Connection URI</span>
<span class="hljs-keyword">def</span> connectionUri = <span class="hljs-string">"mysql://dbuser:secretpassword@database.server.com:3211/mydb"</span>

<span class="hljs-comment">// Create the pool from the connection URI</span>
<span class="hljs-keyword">def</span> pool = MySQLPool.pool(connectionUri)

<span class="hljs-comment">// Create the connection from the connection URI</span>
MySQLConnection.connect(vertx, connectionUri, { res -&gt;
  <span class="hljs-comment">// Handling your connection</span>
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>More information about connection string formats can be found in the <a href="https://dev.mysql.com/doc/refman/8.0/en/connecting-using-uri-or-key-value-pairs.html#connecting-using-uri">MySQL Reference Manual</a>.</p>
</div>
<div class="paragraph">
<p>Currently the client supports the following parameter key words in connection uri(keys are case-insensitive)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>host</p>
</li>
<li>
<p>port</p>
</li>
<li>
<p>user</p>
</li>
<li>
<p>password</p>
</li>
<li>
<p>schema</p>
</li>
<li>
<p>socket</p>
</li>
<li>
<p>useAffectedRows</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::queries.adoc[]</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mysql_last_insert_id"><a class="anchor" href="#_mysql_last_insert_id"></a>MySQL LAST_INSERT_ID</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can get the auto incremented value if you insert a record into the table.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">client.query(<span class="hljs-string">"INSERT INTO test(val) VALUES ('v1')"</span>, { ar -&gt;
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    <span class="hljs-keyword">def</span> rows = ar.result()
    <span class="hljs-keyword">def</span> lastInsertId = rows.property(MySQLClient.LAST_INSERTED_ID)
    println(<span class="hljs-string">"Last inserted id is: ${lastInsertId}"</span>)
  } <span class="hljs-keyword">else</span> {
    println(<span class="hljs-string">"Failure: ${ar.cause().getMessage()}"</span>)
  }
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>More information can be found in <a href="https://dev.mysql.com/doc/refman/8.0/en/getting-unique-id.html">How to Get the Unique ID for the Last Inserted Row</a>.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::connections.adoc[]</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::transactions.adoc[]</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::cursor.adoc[]</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mysql_type_mapping"><a class="anchor" href="#_mysql_type_mapping"></a>MySQL type mapping</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Currently the client supports the following MySQL types</p>
</div>
<div class="ulist">
<ul>
<li>
<p>BOOL,BOOLEAN (<code>java.lang.Byte</code>)</p>
</li>
<li>
<p>TINYINT (<code>java.lang.Byte</code>)</p>
</li>
<li>
<p>SMALLINT (<code>java.lang.Short</code>)</p>
</li>
<li>
<p>MEDIUMINT (<code>java.lang.Integer</code>)</p>
</li>
<li>
<p>INT,INTEGER (<code>java.lang.Integer</code>)</p>
</li>
<li>
<p>BIGINT (<code>java.lang.Long</code>)</p>
</li>
<li>
<p>FLOAT (<code>java.lang.Float</code>)</p>
</li>
<li>
<p>DOUBLE (<code>java.lang.Double</code>)</p>
</li>
<li>
<p>NUMERIC (<code>io.vertx.sqlclient.data.Numeric</code>)</p>
</li>
<li>
<p>DATE (<code>java.time.LocalDate</code>)</p>
</li>
<li>
<p>DATETIME (<code>java.time.LocalDateTime</code>)</p>
</li>
<li>
<p>TIME (<code>java.time.Duration</code>)</p>
</li>
<li>
<p>TIMESTAMP (<code>java.time.LocalDateTime</code>)</p>
</li>
<li>
<p>YEAR (<code>java.lang.Short</code>)</p>
</li>
<li>
<p>CHAR (<code>java.lang.String</code>)</p>
</li>
<li>
<p>VARCHAR (<code>java.lang.String</code>)</p>
</li>
<li>
<p>BINARY (<code>io.vertx.core.buffer.Buffer</code>)</p>
</li>
<li>
<p>VARBINARY (<code>io.vertx.core.buffer.Buffer</code>)</p>
</li>
<li>
<p>TINYBLOB (<code>io.vertx.core.buffer.Buffer</code>)</p>
</li>
<li>
<p>TINYTEXT (<code>java.lang.String</code>)</p>
</li>
<li>
<p>BLOB (<code>io.vertx.core.buffer.Buffer</code>)</p>
</li>
<li>
<p>TEXT (<code>java.lang.String</code>)</p>
</li>
<li>
<p>MEDIUMBLOB (<code>io.vertx.core.buffer.Buffer</code>)</p>
</li>
<li>
<p>MEDIUMTEXT (<code>java.lang.String</code>)</p>
</li>
<li>
<p>LONGBLOB (<code>io.vertx.core.buffer.Buffer</code>)</p>
</li>
<li>
<p>LONGTEXT (<code>java.lang.String</code>)</p>
</li>
<li>
<p>ENUM (<code>java.lang.String</code>)</p>
</li>
<li>
<p>SET (<code>java.lang.String</code>)</p>
</li>
<li>
<p>JSON (<code>io.vertx.core.json.JsonObject</code>, <code>io.vertx.core.json.JsonArray</code>, <code>Number</code>, <code>Boolean</code>, <code>String</code>, <code>io.vertx.sqlclient.Tuple#JSON_NULL</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Tuple decoding uses the above types when storing values</p>
</div>
<div class="sect2">
<h3 id="_handling_boolean"><a class="anchor" href="#_handling_boolean"></a>Handling BOOLEAN</h3>
<div class="paragraph">
<p>In MySQL <code>BOOLEAN</code> and <code>BOOL</code> data types are synonyms for <code>TINYINT(1)</code>. A value of zero is considered false, non-zero values are considered true.
A <code>BOOLEAN</code> data type value is stored in <code>Row</code> or <code>Tuple</code> as <code>java.lang.Byte</code> type, you can call <code>Row#getValue</code> to retrieve it as a <code>java.lang.Byte</code> value,
or you can call <code>Row#getBoolean</code> to retrieve it as <code>java.lang.Boolean</code> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">client.query(<span class="hljs-string">"SELECT graduated FROM students WHERE id = 0"</span>, { ar -&gt;
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    <span class="hljs-keyword">def</span> rowSet = ar.result()
    rowSet.each { row -&gt;
      <span class="hljs-keyword">def</span> pos = row.getColumnIndex(<span class="hljs-string">"graduated"</span>)
      <span class="hljs-keyword">def</span> value = row.get(java.lang.Byte<span class="hljs-class">.<span class="hljs-keyword">class</span>, <span class="hljs-title">pos</span>)
      <span class="hljs-title">def</span> <span class="hljs-title">graduated</span> = <span class="hljs-title">row</span>.<span class="hljs-title">getBoolean</span>("<span class="hljs-title">graduated</span>")
    }
  } <span class="hljs-title">else</span> {</span>
    println(<span class="hljs-string">"Failure: ${ar.cause().getMessage()}"</span>)
  }
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you want to execute a prepared statement with a param of a <code>BOOLEAN</code> value, you can simply add the <code>java.lang.Boolean</code> value to the params list.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">client.preparedQuery(<span class="hljs-string">"UPDATE students SET graduated = ? WHERE id = 0"</span>, Tuple.of(<span class="hljs-literal">true</span>), { ar -&gt;
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    println(<span class="hljs-string">"Updated with the boolean value"</span>)
  } <span class="hljs-keyword">else</span> {
    println(<span class="hljs-string">"Failure: ${ar.cause().getMessage()}"</span>)
  }
})</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_handling_json"><a class="anchor" href="#_handling_json"></a>Handling JSON</h3>
<div class="paragraph">
<p>MySQL <code>JSON</code> data type is represented by the following Java types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>String</code></p>
</li>
<li>
<p><code>Number</code></p>
</li>
<li>
<p><code>Boolean</code></p>
</li>
<li>
<p><code>io.vertx.core.json.JsonObject</code></p>
</li>
<li>
<p><code>io.vertx.core.json.JsonArray</code></p>
</li>
<li>
<p><code>io.vertx.sqlclient.Tuple#JSON_NULL</code> for representing the JSON null literal</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">Code not translatable</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_handling_numeric"><a class="anchor" href="#_handling_numeric"></a>Handling NUMERIC</h3>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/sqlclient/data/Numeric.html">Numeric</a></code> Java type is used to represent the MySQL <code>NUMERIC</code> type.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy"><span class="hljs-keyword">def</span> numeric = row.get(io.vertx.sqlclient.data.Numeric<span class="hljs-class">.<span class="hljs-keyword">class</span>, 0)
<span class="hljs-title">if</span> (<span class="hljs-title">numeric</span>.<span class="hljs-title">isNaN</span>()) {</span>
  <span class="hljs-comment">// Handle NaN</span>
} <span class="hljs-keyword">else</span> {
  <span class="hljs-keyword">def</span> value = numeric.bigDecimalValue()
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_collector_queries"><a class="anchor" href="#_collector_queries"></a>Collector queries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use Java collectors with the query API:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">Code not translatable</code></pre>
</div>
</div>
<div class="paragraph">
<p>The collector processing must not keep a reference on the <code><a href="../../apidocs/io/vertx/sqlclient/Row.html">Row</a></code> as
there is a single row used for processing the entire set.</p>
</div>
<div class="paragraph">
<p>The Java <code>Collectors</code> provides many interesting predefined collectors, for example you can
create easily create a string directly from the row set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">Code not translatable</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mysql_stored_procedure"><a class="anchor" href="#_mysql_stored_procedure"></a>MySQL Stored Procedure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can run stored procedures in queries. The result will be retrieved from the server following the <a href="https://dev.mysql.com/doc/dev/mysql-server/8.0.12/page_protocol_command_phase_sp.html">MySQL protocol</a> without any magic here.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">client.query(<span class="hljs-string">"CREATE PROCEDURE multi() BEGIN\n  SELECT 1;\n  SELECT 1;\n  INSERT INTO ins VALUES (1);\n  INSERT INTO ins VALUES (2);\nEND;"</span>, { ar1 -&gt;
  <span class="hljs-keyword">if</span> (ar1.succeeded()) {
    <span class="hljs-comment">// create stored procedure success</span>
    client.query(<span class="hljs-string">"CALL multi();"</span>, { ar2 -&gt;
      <span class="hljs-keyword">if</span> (ar2.succeeded()) {
        <span class="hljs-comment">// handle the result</span>
        <span class="hljs-keyword">def</span> result1 = ar2.result()
        <span class="hljs-keyword">def</span> row1 = result1.iterator().next()
        println(<span class="hljs-string">"First result: ${row1.getInteger(0)}"</span>)

        <span class="hljs-keyword">def</span> result2 = result1.next()
        <span class="hljs-keyword">def</span> row2 = result2.iterator().next()
        println(<span class="hljs-string">"Second result: ${row2.getInteger(0)}"</span>)

        <span class="hljs-keyword">def</span> result3 = result2.next()
        println(<span class="hljs-string">"Affected rows: ${result3.rowCount()}"</span>)
      } <span class="hljs-keyword">else</span> {
        println(<span class="hljs-string">"Failure: ${ar2.cause().getMessage()}"</span>)
      }
    })
  } <span class="hljs-keyword">else</span> {
    println(<span class="hljs-string">"Failure: ${ar1.cause().getMessage()}"</span>)
  }
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: Prepared statements binding OUT parameters is not supported for now.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mysql_local_infile"><a class="anchor" href="#_mysql_local_infile"></a>MySQL LOCAL INFILE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This client supports for handling the LOCAL INFILE Request, if you want to load data from a local file into the server, you can use query
<code>LOAD DATA LOCAL INFILE '&lt;filename&gt;' INTO TABLE &lt;table&gt;;</code>. More information can be found in the <a href="https://dev.mysql.com/doc/refman/8.0/en/load-data.html">MySQL Reference Manual</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_authentication"><a class="anchor" href="#_authentication"></a>Authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MySQL 8.0 introduces a new authentication method named <code>caching_sha2_password</code> and it&#8217;s the default one to authenticate.
In order to connect to the server using this new authentication method, you need either use a secure connection(i.e. enable TLS/SSL) or exchange the encrypted password using an RSA key pair to avoid leaks of password. The RSA key pair is automatically exchanged during the communication, but the server RSA public key may be hacked during the process since it&#8217;s transferred on a insecure connection.
So if you&#8217;re on a insecure connection and want to avoid the risk of exposing the server RSA public key, you can set the server RSA public key like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy"><span class="hljs-keyword">def</span> options1 = [
<span class="hljs-symbol">  port:</span><span class="hljs-number">3306</span>,
<span class="hljs-symbol">  host:</span><span class="hljs-string">"the-host"</span>,
<span class="hljs-symbol">  database:</span><span class="hljs-string">"the-db"</span>,
<span class="hljs-symbol">  user:</span><span class="hljs-string">"user"</span>,
<span class="hljs-symbol">  password:</span><span class="hljs-string">"secret"</span>,
<span class="hljs-symbol">  serverRsaPublicKeyPath:</span><span class="hljs-string">"tls/files/public_key.pem"</span>
]

<span class="hljs-keyword">def</span> options2 = [
<span class="hljs-symbol">  port:</span><span class="hljs-number">3306</span>,
<span class="hljs-symbol">  host:</span><span class="hljs-string">"the-host"</span>,
<span class="hljs-symbol">  database:</span><span class="hljs-string">"the-db"</span>,
<span class="hljs-symbol">  user:</span><span class="hljs-string">"user"</span>,
<span class="hljs-symbol">  password:</span><span class="hljs-string">"secret"</span>,
<span class="hljs-symbol">  serverRsaPublicKeyValue:</span>Buffer.buffer(<span class="hljs-string">"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3yvG5s0qrV7jxVlp0sMj\nxP0a6BuLKCMjb0o88hDsJ3xz7PpHNKazuEAfPxiRFVAV3edqfSiXoQw+lJf4haEG\nHQe12Nfhs+UhcAeTKXRlZP/JNmI+BGoBduQ1rCId9bKYbXn4pvyS/a1ft7SwFkhx\naogCur7iIB0WUWvwkQ0fEj/Mlhw93lLVyx7hcGFq4FOAKFYr3A0xrHP1IdgnD8QZ\n0fUbgGLWWLOossKrbUP5HWko1ghLPIbfmU6o890oj1ZWQewj1Rs9Er92/UDj/JXx\n7ha1P+ZOgPBlV037KDQMS6cUh9vTablEHsMLhDZanymXzzjBkL+wH/b9cdL16LkQ\n5QIDAQAB\n-----END PUBLIC KEY-----\n"</span>)
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>More information about the <code>caching_sha2_password</code> authentication method can be found in the <a href="https://dev.mysql.com/doc/refman/8.0/en/caching-sha2-pluggable-authentication.html">MySQL Reference Manual</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_ssltls"><a class="anchor" href="#_using_ssltls"></a>Using SSL/TLS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To configure the client to use SSL connection, you can configure the <code><a href="../../apidocs/io/vertx/mysqlclient/MySQLConnectOptions.html">MySQLConnectOptions</a></code>
like a Vert.x <code>NetClient</code>.
All <a href="https://dev.mysql.com/doc/refman/8.0/en/connection-options.html#option_general_ssl-mode">SSL modes</a> are supported and you are able to configure <code>sslmode</code>. The client is in <code>DISABLED</code> SSL mode by default.
<code>ssl</code> parameter is kept as a mere shortcut for setting <code>sslmode</code>. <code>setSsl(true)</code> is equivalent to <code>setSslMode(VERIFY_CA)</code> and <code>setSsl(false)</code> is equivalent to <code>setSslMode(DISABLED)</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy"><span class="hljs-keyword">def</span> options = [
<span class="hljs-symbol">  port:</span><span class="hljs-number">3306</span>,
<span class="hljs-symbol">  host:</span><span class="hljs-string">"the-host"</span>,
<span class="hljs-symbol">  database:</span><span class="hljs-string">"the-db"</span>,
<span class="hljs-symbol">  user:</span><span class="hljs-string">"user"</span>,
<span class="hljs-symbol">  password:</span><span class="hljs-string">"secret"</span>,
<span class="hljs-symbol">  sslMode:</span><span class="hljs-string">"VERIFY_CA"</span>,
<span class="hljs-symbol">  pemTrustOptions:</span>[
<span class="hljs-symbol">    certPaths:</span>[
      <span class="hljs-string">"/path/to/cert.pem"</span>
    ]
  ]
]

MySQLConnection.connect(vertx, options, { res -&gt;
  <span class="hljs-keyword">if</span> (res.succeeded()) {
    <span class="hljs-comment">// Connected with SSL</span>
  } <span class="hljs-keyword">else</span> {
    println(<span class="hljs-string">"Could not connect ${res.cause()}"</span>)
  }
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>More information can be found in the <a href="http://vertx.io/docs/vertx-core/java/#ssl">Vert.x documentation</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mysql_utility_command"><a class="anchor" href="#_mysql_utility_command"></a>MySQL utility command</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sometimes you want to use MySQL utility commands and we provide support for this.
More information can be found in the <a href="https://dev.mysql.com/doc/dev/mysql-server/8.0.12/page_protocol_command_phase_utility.html">MySQL utility commands</a>.</p>
</div>
<div class="sect2">
<h3 id="_com_ping"><a class="anchor" href="#_com_ping"></a>COM_PING</h3>
<div class="paragraph">
<p>You can use <code>COM_PING</code> command to check if the server is alive. The handler will be notified if the server responds to the PING, otherwise the handler will never be called.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">connection.ping({ ar -&gt;
  println(<span class="hljs-string">"The server has responded to the PING"</span>)
})</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_com_reset_connection"><a class="anchor" href="#_com_reset_connection"></a>COM_RESET_CONNECTION</h3>
<div class="paragraph">
<p>You can reset the session state with <code>COM_RESET_CONNECTION</code> command, this will reset the connection state like:
- user variables
- temporary tables
- prepared statements</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">connection.resetConnection({ ar -&gt;
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    println(<span class="hljs-string">"Connection has been reset now"</span>)
  } <span class="hljs-keyword">else</span> {
    println(<span class="hljs-string">"Failure: ${ar.cause().getMessage()}"</span>)
  }
})</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_com_change_user"><a class="anchor" href="#_com_change_user"></a>COM_CHANGE_USER</h3>
<div class="paragraph">
<p>You can change the user of the current connection, this will perform a re-authentication and reset the connection state like <code>COM_RESET_CONNECTION</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy"><span class="hljs-keyword">def</span> authenticationOptions = [
<span class="hljs-symbol">  user:</span><span class="hljs-string">"newuser"</span>,
<span class="hljs-symbol">  password:</span><span class="hljs-string">"newpassword"</span>,
<span class="hljs-symbol">  database:</span><span class="hljs-string">"newdatabase"</span>
]
connection.changeUser(authenticationOptions, { ar -&gt;
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    println(<span class="hljs-string">"User of current connection has been changed."</span>)
  } <span class="hljs-keyword">else</span> {
    println(<span class="hljs-string">"Failure: ${ar.cause().getMessage()}"</span>)
  }
})</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_com_init_db"><a class="anchor" href="#_com_init_db"></a>COM_INIT_DB</h3>
<div class="paragraph">
<p>You can use <code>COM_INIT_DB</code> command to change the default schema of the connection.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">connection.specifySchema(<span class="hljs-string">"newschema"</span>, { ar -&gt;
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    println(<span class="hljs-string">"Default schema changed to newschema"</span>)
  } <span class="hljs-keyword">else</span> {
    println(<span class="hljs-string">"Failure: ${ar.cause().getMessage()}"</span>)
  }
})</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_com_statistics"><a class="anchor" href="#_com_statistics"></a>COM_STATISTICS</h3>
<div class="paragraph">
<p>You can use <code>COM_STATISTICS</code> command to get a human readable string of some internal status variables in MySQL server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">connection.getInternalStatistics({ ar -&gt;
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    println(<span class="hljs-string">"Statistics: ${ar.result()}"</span>)
  } <span class="hljs-keyword">else</span> {
    println(<span class="hljs-string">"Failure: ${ar.cause().getMessage()}"</span>)
  }
})</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_com_debug"><a class="anchor" href="#_com_debug"></a>COM_DEBUG</h3>
<div class="paragraph">
<p>You can use <code>COM_DEBUG</code> command to dump debug info to the MySQL server&#8217;s STDOUT.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">connection.debug({ ar -&gt;
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    println(<span class="hljs-string">"Debug info dumped to server's STDOUT"</span>)
  } <span class="hljs-keyword">else</span> {
    println(<span class="hljs-string">"Failure: ${ar.cause().getMessage()}"</span>)
  }
})</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_com_set_option"><a class="anchor" href="#_com_set_option"></a>COM_SET_OPTION</h3>
<div class="paragraph">
<p>You can use <code>COM_SET_OPTION</code> command to set options for the current connection. Currently only <code>CLIENT_MULTI_STATEMENTS</code> can be set.</p>
</div>
<div class="paragraph">
<p>For example, you can disable <code>CLIENT_MULTI_STATEMENTS</code> with this command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">connection.setOption(MySQLSetOption.MYSQL_OPTION_MULTI_STATEMENTS_OFF, { ar -&gt;
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    println(<span class="hljs-string">"CLIENT_MULTI_STATEMENTS is off now"</span>)
  } <span class="hljs-keyword">else</span> {
    println(<span class="hljs-string">"Failure: ${ar.cause().getMessage()}"</span>)
  }
})</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mysql_and_mariadb_version_support_matrix"><a class="anchor" href="#_mysql_and_mariadb_version_support_matrix"></a>MySQL and MariaDB version support matrix</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">MySQL</th>
<th class="tableblock halign-center valign-top" colspan="2">MariaDB</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Version</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Supported</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Version</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Supported</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>5.5</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>10.1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>5.6</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>10.2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>5.7</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>10.3</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>8.0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>10.4</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Known issues:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reset connection utility command does not work in MySQL 5.5, 5.6 and MariaDB 10.1</p>
</li>
<li>
<p>Change user utility command is not supported with MariaDB 10.2 and 10.3</p>
</li>
</ul>
</div>
</div>
</div></div></div></div></div></div><footer><div class="container"><div class="footer-nav-section"><div class="footer-nav-list footer-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="footer-nav-list"><h5>Eclipse Vert.x</h5><ul class=""><li><a class="navbar-menu-item" href="/docs/">Docs</a></li><li><a href="/download/">Download</a></li><li><a href="/faq/">FAQ</a></li><li><a href="/blog/">Blog</a></li><li><a href="/community/">Community</a></li><li><a href="/channels/">Channels</a></li></ul></div><div class="footer-nav-list"><h5>Eclipse</h5><ul class=""><li><a href="https://www.eclipse.org/">Eclipse Foundation</a></li><li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li><li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li><li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li><li><a href="https://www.eclipse.org/legal/">Legal Resources</a></li></ul></div></div><div class="footer-copyright"><div class="footer-copyright-remarks"> <!-- -->2020<!-- --> Eclipse Vert.x<br/>Eclipse Vert.x is open source and dual-licensed under the <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer">Eclipse Public License 2.0</a> and the <a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer">Apache License 2.0</a>. <br class="footer-copyright-break"/>Website design by <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer">Michel Krmer</a>.</div><div class="footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0TDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"3.8.4/vertx-mysql-client/groovy","title":"Reactive MySQL Client","fallbackGitHubStars":null,"toc":"\u003cdiv id=\"toc\" class=\"toc\"\u003e\n\u003cdiv id=\"toctitle\"\u003eTable of Contents\u003c/div\u003e\n\u003cul class=\"sectlevel1\"\u003e\n\u003cli\u003e\u003ca href=\"#_usage\"\u003eUsage\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_getting_started\"\u003eGetting started\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_connecting_to_mysql\"\u003eConnecting to MySQL\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_configuration\"\u003eConfiguration\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_data_object\"\u003eData Object\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_connection_uri\"\u003econnection URI\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mysql_last_insert_id\"\u003eMySQL LAST_INSERT_ID\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mysql_type_mapping\"\u003eMySQL type mapping\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_handling_boolean\"\u003eHandling BOOLEAN\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_handling_json\"\u003eHandling JSON\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_handling_numeric\"\u003eHandling NUMERIC\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_collector_queries\"\u003eCollector queries\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mysql_stored_procedure\"\u003eMySQL Stored Procedure\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mysql_local_infile\"\u003eMySQL LOCAL INFILE\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_authentication\"\u003eAuthentication\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_using_ssltls\"\u003eUsing SSL/TLS\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mysql_utility_command\"\u003eMySQL utility command\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_com_ping\"\u003eCOM_PING\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_com_reset_connection\"\u003eCOM_RESET_CONNECTION\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_com_change_user\"\u003eCOM_CHANGE_USER\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_com_init_db\"\u003eCOM_INIT_DB\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_com_statistics\"\u003eCOM_STATISTICS\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_com_debug\"\u003eCOM_DEBUG\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_com_set_option\"\u003eCOM_SET_OPTION\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mysql_and_mariadb_version_support_matrix\"\u003eMySQL and MariaDB version support matrix\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e","contents":"\u003ch1\u003eReactive MySQL Client\u003c/h1\u003e\n\n\u003cdiv id=\"preamble\"\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Reactive MySQL Client is a client for MySQL with a straightforward API focusing on\nscalability and low overhead.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003cstrong\u003eFeatures\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eEvent driven\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eLightweight\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eBuilt-in connection pooling\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ePrepared queries caching\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCursor support\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eRow streaming\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eRxJava 1 and RxJava 2\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eDirect memory to object without unnecessary copies\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eJava 8 Date and Time\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eStored Procedures support\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTLS/SSL support\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMySQL utilities commands support\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eWorking with MySQL and MariaDB\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eRich collation and charset support\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_usage\"\u003e\u003ca class=\"anchor\" href=\"#_usage\"\u003e\u003c/a\u003eUsage\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use the Reactive MySQL Client add the following dependency to the \u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-lang-groovy\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.8.4\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003edependencies {\n compile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-lang-groovy:3.8.4'\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_getting_started\"\u003e\u003ca class=\"anchor\" href=\"#_getting_started\"\u003e\u003c/a\u003eGetting started\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eHere is the simplest way to connect, query and disconnect\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003e\u003cspan class=\"hljs-comment\"\u003e// Connect options\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e connectOptions = [\n\u003cspan class=\"hljs-symbol\"\u003e  port:\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  host:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-host\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  database:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-db\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  user:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"user\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  password:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"secret\"\u003c/span\u003e\n]\n\n\u003cspan class=\"hljs-comment\"\u003e// Pool options\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e poolOptions = [\n\u003cspan class=\"hljs-symbol\"\u003e  maxSize:\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e\n]\n\n\u003cspan class=\"hljs-comment\"\u003e// Create the client pool\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e client = MySQLPool.pool(connectOptions, poolOptions)\n\n\u003cspan class=\"hljs-comment\"\u003e// A simple query\u003c/span\u003e\nclient.query(\u003cspan class=\"hljs-string\"\u003e\"SELECT * FROM users WHERE id='julien'\"\u003c/span\u003e, { ar -\u0026gt;\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e result = ar.result()\n    println(\u003cspan class=\"hljs-string\"\u003e\"Got ${result.size()} rows \"\u003c/span\u003e)\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Failure: ${ar.cause().getMessage()}\"\u003c/span\u003e)\n  }\n\n  \u003cspan class=\"hljs-comment\"\u003e// Now close the pool\u003c/span\u003e\n  client.close()\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_connecting_to_mysql\"\u003e\u003ca class=\"anchor\" href=\"#_connecting_to_mysql\"\u003e\u003c/a\u003eConnecting to MySQL\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMost of the time you will use a pool to connect to MySQL:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003e\u003cspan class=\"hljs-comment\"\u003e// Connect options\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e connectOptions = [\n\u003cspan class=\"hljs-symbol\"\u003e  port:\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  host:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-host\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  database:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-db\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  user:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"user\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  password:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"secret\"\u003c/span\u003e\n]\n\n\u003cspan class=\"hljs-comment\"\u003e// Pool options\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e poolOptions = [\n\u003cspan class=\"hljs-symbol\"\u003e  maxSize:\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e\n]\n\n\u003cspan class=\"hljs-comment\"\u003e// Create the pooled client\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e client = MySQLPool.pool(connectOptions, poolOptions)\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe pooled client uses a connection pool and any operation will borrow a connection from the pool\nto execute the operation and release it to the pool.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf you are running with Vert.x you can pass it your Vertx instance:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003e\u003cspan class=\"hljs-comment\"\u003e// Connect options\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e connectOptions = [\n\u003cspan class=\"hljs-symbol\"\u003e  port:\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  host:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-host\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  database:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-db\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  user:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"user\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  password:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"secret\"\u003c/span\u003e\n]\n\n\u003cspan class=\"hljs-comment\"\u003e// Pool options\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e poolOptions = [\n\u003cspan class=\"hljs-symbol\"\u003e  maxSize:\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e\n]\n\u003cspan class=\"hljs-comment\"\u003e// Create the pooled client\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e client = MySQLPool.pool(vertx, connectOptions, poolOptions)\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou need to release the pool when you don\u0026#8217;t need it anymore:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003e\u003cspan class=\"hljs-comment\"\u003e// Close the pool and all the associated resources\u003c/span\u003e\npool.close()\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you need to execute several operations on the same connection, you need to use a client\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/mysqlclient/MySQLConnection.html\"\u003econnection\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can easily get one from the pool:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003e\u003cspan class=\"hljs-comment\"\u003e// Connect options\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e connectOptions = [\n\u003cspan class=\"hljs-symbol\"\u003e  port:\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  host:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-host\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  database:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-db\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  user:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"user\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  password:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"secret\"\u003c/span\u003e\n]\n\n\u003cspan class=\"hljs-comment\"\u003e// Pool options\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e poolOptions = [\n\u003cspan class=\"hljs-symbol\"\u003e  maxSize:\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e\n]\n\n\u003cspan class=\"hljs-comment\"\u003e// Create the pooled client\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e client = MySQLPool.pool(vertx, connectOptions, poolOptions)\n\n\u003cspan class=\"hljs-comment\"\u003e// Get a connection from the pool\u003c/span\u003e\nclient.getConnection({ ar1 -\u0026gt;\n\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar1.succeeded()) {\n\n    println(\u003cspan class=\"hljs-string\"\u003e\"Connected\"\u003c/span\u003e)\n\n    \u003cspan class=\"hljs-comment\"\u003e// Obtain our connection\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e conn = ar1.result()\n\n    \u003cspan class=\"hljs-comment\"\u003e// All operations execute on the same connection\u003c/span\u003e\n    conn.query(\u003cspan class=\"hljs-string\"\u003e\"SELECT * FROM users WHERE id='julien'\"\u003c/span\u003e, { ar2 -\u0026gt;\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar2.succeeded()) {\n        conn.query(\u003cspan class=\"hljs-string\"\u003e\"SELECT * FROM users WHERE id='emad'\"\u003c/span\u003e, { ar3 -\u0026gt;\n          \u003cspan class=\"hljs-comment\"\u003e// Release the connection to the pool\u003c/span\u003e\n          conn.close()\n        })\n      } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n        \u003cspan class=\"hljs-comment\"\u003e// Release the connection to the pool\u003c/span\u003e\n        conn.close()\n      }\n    })\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Could not connect: ${ar1.cause().getMessage()}\"\u003c/span\u003e)\n  }\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce you are done with the connection you must close it to release it to the pool, so it can be reused.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_configuration\"\u003e\u003ca class=\"anchor\" href=\"#_configuration\"\u003e\u003c/a\u003eConfiguration\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThere are several alternatives for you to configure the client.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_data_object\"\u003e\u003ca class=\"anchor\" href=\"#_data_object\"\u003e\u003c/a\u003eData Object\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eA simple way to configure the client is to specify a \u003ccode\u003eMySQLConnectOptions\u003c/code\u003e data object.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003e\u003cspan class=\"hljs-comment\"\u003e// Data object\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e connectOptions = [\n\u003cspan class=\"hljs-symbol\"\u003e  port:\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  host:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-host\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  database:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-db\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  user:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"user\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  password:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"secret\"\u003c/span\u003e\n]\n\n\u003cspan class=\"hljs-comment\"\u003e// Pool Options\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e poolOptions = [\n\u003cspan class=\"hljs-symbol\"\u003e  maxSize:\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e\n]\n\n\u003cspan class=\"hljs-comment\"\u003e// Create the pool from the data object\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e pool = MySQLPool.pool(vertx, connectOptions, poolOptions)\n\npool.getConnection({ ar -\u0026gt;\n  \u003cspan class=\"hljs-comment\"\u003e// Handling your connection\u003c/span\u003e\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_collations_and_character_sets\"\u003e\u003ca class=\"anchor\" href=\"#_collations_and_character_sets\"\u003e\u003c/a\u003ecollations and character sets\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Reactive MySQL client supports configuring collations or character sets and map them to a correlative \u003ccode\u003ejava.nio.charset.Charset\u003c/code\u003e.\nFor example, you can specify charset for a connection like\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e connectOptions = [:]\n\n\u003cspan class=\"hljs-comment\"\u003e// set connection character set to utf8 instead of the default charset utf8mb4\u003c/span\u003e\nconnectOptions.charset = \u003cspan class=\"hljs-string\"\u003e\"utf8\"\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can also specify collation for a connection like\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e connectOptions = [:]\n\n\u003cspan class=\"hljs-comment\"\u003e// set connection collation to utf8_general_ci instead of the default collation utf8mb4_general_ci\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// setting a collation will override the charset option\u003c/span\u003e\nconnectOptions.charset = \u003cspan class=\"hljs-string\"\u003e\"gbk\"\u003c/span\u003e\nconnectOptions.collation = \u003cspan class=\"hljs-string\"\u003e\"utf8_general_ci\"\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMySQL will take \u003ccode\u003eutf8mb4\u003c/code\u003e as the default charset. Note setting a collation on the data object will override the charset option.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can execute SQL \u003ccode\u003eSHOW COLLATION;\u003c/code\u003e or \u003ccode\u003eSHOW CHARACTER SET;\u003c/code\u003e to get the supported collations and charsets.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore information about MySQL charsets and collations can be found in the \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/charset.html\"\u003eMySQL Reference Manual\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_connection_attributes\"\u003e\u003ca class=\"anchor\" href=\"#_connection_attributes\"\u003e\u003c/a\u003econnection attributes\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can also configure the connection attributes with the \u003ccode\u003esetProperties\u003c/code\u003e or \u003ccode\u003eaddProperty\u003c/code\u003e methods. Note \u003ccode\u003esetProperties\u003c/code\u003e will override the default client properties.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003eCode not translatable\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore information about client connection attributes can be found in the \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/performance-schema-connection-attribute-tables.html\"\u003eMySQL Reference Manual\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_useaffectedrows\"\u003e\u003ca class=\"anchor\" href=\"#_useaffectedrows\"\u003e\u003c/a\u003euseAffectedRows\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can configure the \u003ccode\u003euseAffectedRows\u003c/code\u003e option to decide whether to set \u003ccode\u003eCLIENT_FOUND_ROWS\u003c/code\u003e flag when connecting to the server. If the \u003ccode\u003eCLIENT_FOUND_ROWS\u003c/code\u003e flag is specified then the affected rows count is the numeric value of rows found rather than affected.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore information about this can be found in the \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/mysql-affected-rows.html\"\u003eMySQL Reference Manual\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_connection_uri\"\u003e\u003ca class=\"anchor\" href=\"#_connection_uri\"\u003e\u003c/a\u003econnection URI\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eApart from configuring with a \u003ccode\u003eMySQLConnectOptions\u003c/code\u003e data object, We also provide you an alternative way to connect when you want to configure with a connection URI:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003e\u003cspan class=\"hljs-comment\"\u003e// Connection URI\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e connectionUri = \u003cspan class=\"hljs-string\"\u003e\"mysql://dbuser:secretpassword@database.server.com:3211/mydb\"\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// Create the pool from the connection URI\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e pool = MySQLPool.pool(connectionUri)\n\n\u003cspan class=\"hljs-comment\"\u003e// Create the connection from the connection URI\u003c/span\u003e\nMySQLConnection.connect(vertx, connectionUri, { res -\u0026gt;\n  \u003cspan class=\"hljs-comment\"\u003e// Handling your connection\u003c/span\u003e\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore information about connection string formats can be found in the \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/connecting-using-uri-or-key-value-pairs.html#connecting-using-uri\"\u003eMySQL Reference Manual\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eCurrently the client supports the following parameter key words in connection uri(keys are case-insensitive)\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003ehost\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eport\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003euser\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003epassword\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eschema\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003esocket\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003euseAffectedRows\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eUnresolved directive in index.adoc - include::queries.adoc[]\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_mysql_last_insert_id\"\u003e\u003ca class=\"anchor\" href=\"#_mysql_last_insert_id\"\u003e\u003c/a\u003eMySQL LAST_INSERT_ID\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can get the auto incremented value if you insert a record into the table.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003eclient.query(\u003cspan class=\"hljs-string\"\u003e\"INSERT INTO test(val) VALUES ('v1')\"\u003c/span\u003e, { ar -\u0026gt;\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e rows = ar.result()\n    \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e lastInsertId = rows.property(MySQLClient.LAST_INSERTED_ID)\n    println(\u003cspan class=\"hljs-string\"\u003e\"Last inserted id is: ${lastInsertId}\"\u003c/span\u003e)\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Failure: ${ar.cause().getMessage()}\"\u003c/span\u003e)\n  }\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore information can be found in \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/getting-unique-id.html\"\u003eHow to Get the Unique ID for the Last Inserted Row\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eUnresolved directive in index.adoc - include::connections.adoc[]\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eUnresolved directive in index.adoc - include::transactions.adoc[]\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eUnresolved directive in index.adoc - include::cursor.adoc[]\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_mysql_type_mapping\"\u003e\u003ca class=\"anchor\" href=\"#_mysql_type_mapping\"\u003e\u003c/a\u003eMySQL type mapping\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eCurrently the client supports the following MySQL types\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eBOOL,BOOLEAN (\u003ccode\u003ejava.lang.Byte\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTINYINT (\u003ccode\u003ejava.lang.Byte\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eSMALLINT (\u003ccode\u003ejava.lang.Short\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMEDIUMINT (\u003ccode\u003ejava.lang.Integer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eINT,INTEGER (\u003ccode\u003ejava.lang.Integer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eBIGINT (\u003ccode\u003ejava.lang.Long\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eFLOAT (\u003ccode\u003ejava.lang.Float\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eDOUBLE (\u003ccode\u003ejava.lang.Double\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eNUMERIC (\u003ccode\u003eio.vertx.sqlclient.data.Numeric\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eDATE (\u003ccode\u003ejava.time.LocalDate\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eDATETIME (\u003ccode\u003ejava.time.LocalDateTime\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTIME (\u003ccode\u003ejava.time.Duration\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTIMESTAMP (\u003ccode\u003ejava.time.LocalDateTime\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eYEAR (\u003ccode\u003ejava.lang.Short\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCHAR (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eVARCHAR (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eBINARY (\u003ccode\u003eio.vertx.core.buffer.Buffer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eVARBINARY (\u003ccode\u003eio.vertx.core.buffer.Buffer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTINYBLOB (\u003ccode\u003eio.vertx.core.buffer.Buffer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTINYTEXT (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eBLOB (\u003ccode\u003eio.vertx.core.buffer.Buffer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTEXT (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMEDIUMBLOB (\u003ccode\u003eio.vertx.core.buffer.Buffer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMEDIUMTEXT (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eLONGBLOB (\u003ccode\u003eio.vertx.core.buffer.Buffer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eLONGTEXT (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eENUM (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eSET (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eJSON (\u003ccode\u003eio.vertx.core.json.JsonObject\u003c/code\u003e, \u003ccode\u003eio.vertx.core.json.JsonArray\u003c/code\u003e, \u003ccode\u003eNumber\u003c/code\u003e, \u003ccode\u003eBoolean\u003c/code\u003e, \u003ccode\u003eString\u003c/code\u003e, \u003ccode\u003eio.vertx.sqlclient.Tuple#JSON_NULL\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTuple decoding uses the above types when storing values\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_handling_boolean\"\u003e\u003ca class=\"anchor\" href=\"#_handling_boolean\"\u003e\u003c/a\u003eHandling BOOLEAN\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn MySQL \u003ccode\u003eBOOLEAN\u003c/code\u003e and \u003ccode\u003eBOOL\u003c/code\u003e data types are synonyms for \u003ccode\u003eTINYINT(1)\u003c/code\u003e. A value of zero is considered false, non-zero values are considered true.\nA \u003ccode\u003eBOOLEAN\u003c/code\u003e data type value is stored in \u003ccode\u003eRow\u003c/code\u003e or \u003ccode\u003eTuple\u003c/code\u003e as \u003ccode\u003ejava.lang.Byte\u003c/code\u003e type, you can call \u003ccode\u003eRow#getValue\u003c/code\u003e to retrieve it as a \u003ccode\u003ejava.lang.Byte\u003c/code\u003e value,\nor you can call \u003ccode\u003eRow#getBoolean\u003c/code\u003e to retrieve it as \u003ccode\u003ejava.lang.Boolean\u003c/code\u003e value.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003eclient.query(\u003cspan class=\"hljs-string\"\u003e\"SELECT graduated FROM students WHERE id = 0\"\u003c/span\u003e, { ar -\u0026gt;\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e rowSet = ar.result()\n    rowSet.each { row -\u0026gt;\n      \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e pos = row.getColumnIndex(\u003cspan class=\"hljs-string\"\u003e\"graduated\"\u003c/span\u003e)\n      \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e value = row.get(java.lang.Byte\u003cspan class=\"hljs-class\"\u003e.\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e, \u003cspan class=\"hljs-title\"\u003epos\u003c/span\u003e)\n      \u003cspan class=\"hljs-title\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egraduated\u003c/span\u003e = \u003cspan class=\"hljs-title\"\u003erow\u003c/span\u003e.\u003cspan class=\"hljs-title\"\u003egetBoolean\u003c/span\u003e(\"\u003cspan class=\"hljs-title\"\u003egraduated\u003c/span\u003e\")\n    }\n  } \u003cspan class=\"hljs-title\"\u003eelse\u003c/span\u003e {\u003c/span\u003e\n    println(\u003cspan class=\"hljs-string\"\u003e\"Failure: ${ar.cause().getMessage()}\"\u003c/span\u003e)\n  }\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you want to execute a prepared statement with a param of a \u003ccode\u003eBOOLEAN\u003c/code\u003e value, you can simply add the \u003ccode\u003ejava.lang.Boolean\u003c/code\u003e value to the params list.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003eclient.preparedQuery(\u003cspan class=\"hljs-string\"\u003e\"UPDATE students SET graduated = ? WHERE id = 0\"\u003c/span\u003e, Tuple.of(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e), { ar -\u0026gt;\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Updated with the boolean value\"\u003c/span\u003e)\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Failure: ${ar.cause().getMessage()}\"\u003c/span\u003e)\n  }\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_handling_json\"\u003e\u003ca class=\"anchor\" href=\"#_handling_json\"\u003e\u003c/a\u003eHandling JSON\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMySQL \u003ccode\u003eJSON\u003c/code\u003e data type is represented by the following Java types:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eString\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eNumber\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eBoolean\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eio.vertx.core.json.JsonObject\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eio.vertx.core.json.JsonArray\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eio.vertx.sqlclient.Tuple#JSON_NULL\u003c/code\u003e for representing the JSON null literal\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003eCode not translatable\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_handling_numeric\"\u003e\u003ca class=\"anchor\" href=\"#_handling_numeric\"\u003e\u003c/a\u003eHandling NUMERIC\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/sqlclient/data/Numeric.html\"\u003eNumeric\u003c/a\u003e\u003c/code\u003e Java type is used to represent the MySQL \u003ccode\u003eNUMERIC\u003c/code\u003e type.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e numeric = row.get(io.vertx.sqlclient.data.Numeric\u003cspan class=\"hljs-class\"\u003e.\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e, 0)\n\u003cspan class=\"hljs-title\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-title\"\u003enumeric\u003c/span\u003e.\u003cspan class=\"hljs-title\"\u003eisNaN\u003c/span\u003e()) {\u003c/span\u003e\n  \u003cspan class=\"hljs-comment\"\u003e// Handle NaN\u003c/span\u003e\n} \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e value = numeric.bigDecimalValue()\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_collector_queries\"\u003e\u003ca class=\"anchor\" href=\"#_collector_queries\"\u003e\u003c/a\u003eCollector queries\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can use Java collectors with the query API:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003eCode not translatable\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe collector processing must not keep a reference on the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/sqlclient/Row.html\"\u003eRow\u003c/a\u003e\u003c/code\u003e as\nthere is a single row used for processing the entire set.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Java \u003ccode\u003eCollectors\u003c/code\u003e provides many interesting predefined collectors, for example you can\ncreate easily create a string directly from the row set:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003eCode not translatable\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_mysql_stored_procedure\"\u003e\u003ca class=\"anchor\" href=\"#_mysql_stored_procedure\"\u003e\u003c/a\u003eMySQL Stored Procedure\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can run stored procedures in queries. The result will be retrieved from the server following the \u003ca href=\"https://dev.mysql.com/doc/dev/mysql-server/8.0.12/page_protocol_command_phase_sp.html\"\u003eMySQL protocol\u003c/a\u003e without any magic here.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003eclient.query(\u003cspan class=\"hljs-string\"\u003e\"CREATE PROCEDURE multi() BEGIN\\n  SELECT 1;\\n  SELECT 1;\\n  INSERT INTO ins VALUES (1);\\n  INSERT INTO ins VALUES (2);\\nEND;\"\u003c/span\u003e, { ar1 -\u0026gt;\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar1.succeeded()) {\n    \u003cspan class=\"hljs-comment\"\u003e// create stored procedure success\u003c/span\u003e\n    client.query(\u003cspan class=\"hljs-string\"\u003e\"CALL multi();\"\u003c/span\u003e, { ar2 -\u0026gt;\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar2.succeeded()) {\n        \u003cspan class=\"hljs-comment\"\u003e// handle the result\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e result1 = ar2.result()\n        \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e row1 = result1.iterator().next()\n        println(\u003cspan class=\"hljs-string\"\u003e\"First result: ${row1.getInteger(0)}\"\u003c/span\u003e)\n\n        \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e result2 = result1.next()\n        \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e row2 = result2.iterator().next()\n        println(\u003cspan class=\"hljs-string\"\u003e\"Second result: ${row2.getInteger(0)}\"\u003c/span\u003e)\n\n        \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e result3 = result2.next()\n        println(\u003cspan class=\"hljs-string\"\u003e\"Affected rows: ${result3.rowCount()}\"\u003c/span\u003e)\n      } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n        println(\u003cspan class=\"hljs-string\"\u003e\"Failure: ${ar2.cause().getMessage()}\"\u003c/span\u003e)\n      }\n    })\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Failure: ${ar1.cause().getMessage()}\"\u003c/span\u003e)\n  }\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eNote: Prepared statements binding OUT parameters is not supported for now.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_mysql_local_infile\"\u003e\u003ca class=\"anchor\" href=\"#_mysql_local_infile\"\u003e\u003c/a\u003eMySQL LOCAL INFILE\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis client supports for handling the LOCAL INFILE Request, if you want to load data from a local file into the server, you can use query\n\u003ccode\u003eLOAD DATA LOCAL INFILE '\u0026lt;filename\u0026gt;' INTO TABLE \u0026lt;table\u0026gt;;\u003c/code\u003e. More information can be found in the \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/load-data.html\"\u003eMySQL Reference Manual\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_authentication\"\u003e\u003ca class=\"anchor\" href=\"#_authentication\"\u003e\u003c/a\u003eAuthentication\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMySQL 8.0 introduces a new authentication method named \u003ccode\u003ecaching_sha2_password\u003c/code\u003e and it\u0026#8217;s the default one to authenticate.\nIn order to connect to the server using this new authentication method, you need either use a secure connection(i.e. enable TLS/SSL) or exchange the encrypted password using an RSA key pair to avoid leaks of password. The RSA key pair is automatically exchanged during the communication, but the server RSA public key may be hacked during the process since it\u0026#8217;s transferred on a insecure connection.\nSo if you\u0026#8217;re on a insecure connection and want to avoid the risk of exposing the server RSA public key, you can set the server RSA public key like this:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e options1 = [\n\u003cspan class=\"hljs-symbol\"\u003e  port:\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  host:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-host\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  database:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-db\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  user:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"user\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  password:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"secret\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  serverRsaPublicKeyPath:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"tls/files/public_key.pem\"\u003c/span\u003e\n]\n\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e options2 = [\n\u003cspan class=\"hljs-symbol\"\u003e  port:\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  host:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-host\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  database:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-db\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  user:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"user\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  password:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"secret\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  serverRsaPublicKeyValue:\u003c/span\u003eBuffer.buffer(\u003cspan class=\"hljs-string\"\u003e\"-----BEGIN PUBLIC KEY-----\\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3yvG5s0qrV7jxVlp0sMj\\nxP0a6BuLKCMjb0o88hDsJ3xz7PpHNKazuEAfPxiRFVAV3edqfSiXoQw+lJf4haEG\\nHQe12Nfhs+UhcAeTKXRlZP/JNmI+BGoBduQ1rCId9bKYbXn4pvyS/a1ft7SwFkhx\\naogCur7iIB0WUWvwkQ0fEj/Mlhw93lLVyx7hcGFq4FOAKFYr3A0xrHP1IdgnD8QZ\\n0fUbgGLWWLOossKrbUP5HWko1ghLPIbfmU6o890oj1ZWQewj1Rs9Er92/UDj/JXx\\n7ha1P+ZOgPBlV037KDQMS6cUh9vTablEHsMLhDZanymXzzjBkL+wH/b9cdL16LkQ\\n5QIDAQAB\\n-----END PUBLIC KEY-----\\n\"\u003c/span\u003e)\n]\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore information about the \u003ccode\u003ecaching_sha2_password\u003c/code\u003e authentication method can be found in the \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/caching-sha2-pluggable-authentication.html\"\u003eMySQL Reference Manual\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_using_ssltls\"\u003e\u003ca class=\"anchor\" href=\"#_using_ssltls\"\u003e\u003c/a\u003eUsing SSL/TLS\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo configure the client to use SSL connection, you can configure the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/mysqlclient/MySQLConnectOptions.html\"\u003eMySQLConnectOptions\u003c/a\u003e\u003c/code\u003e\nlike a Vert.x \u003ccode\u003eNetClient\u003c/code\u003e.\nAll \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/connection-options.html#option_general_ssl-mode\"\u003eSSL modes\u003c/a\u003e are supported and you are able to configure \u003ccode\u003esslmode\u003c/code\u003e. The client is in \u003ccode\u003eDISABLED\u003c/code\u003e SSL mode by default.\n\u003ccode\u003essl\u003c/code\u003e parameter is kept as a mere shortcut for setting \u003ccode\u003esslmode\u003c/code\u003e. \u003ccode\u003esetSsl(true)\u003c/code\u003e is equivalent to \u003ccode\u003esetSslMode(VERIFY_CA)\u003c/code\u003e and \u003ccode\u003esetSsl(false)\u003c/code\u003e is equivalent to \u003ccode\u003esetSslMode(DISABLED)\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e options = [\n\u003cspan class=\"hljs-symbol\"\u003e  port:\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  host:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-host\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  database:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"the-db\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  user:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"user\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  password:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"secret\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  sslMode:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"VERIFY_CA\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  pemTrustOptions:\u003c/span\u003e[\n\u003cspan class=\"hljs-symbol\"\u003e    certPaths:\u003c/span\u003e[\n      \u003cspan class=\"hljs-string\"\u003e\"/path/to/cert.pem\"\u003c/span\u003e\n    ]\n  ]\n]\n\nMySQLConnection.connect(vertx, options, { res -\u0026gt;\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n    \u003cspan class=\"hljs-comment\"\u003e// Connected with SSL\u003c/span\u003e\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Could not connect ${res.cause()}\"\u003c/span\u003e)\n  }\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore information can be found in the \u003ca href=\"http://vertx.io/docs/vertx-core/java/#ssl\"\u003eVert.x documentation\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_mysql_utility_command\"\u003e\u003ca class=\"anchor\" href=\"#_mysql_utility_command\"\u003e\u003c/a\u003eMySQL utility command\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eSometimes you want to use MySQL utility commands and we provide support for this.\nMore information can be found in the \u003ca href=\"https://dev.mysql.com/doc/dev/mysql-server/8.0.12/page_protocol_command_phase_utility.html\"\u003eMySQL utility commands\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_com_ping\"\u003e\u003ca class=\"anchor\" href=\"#_com_ping\"\u003e\u003c/a\u003eCOM_PING\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can use \u003ccode\u003eCOM_PING\u003c/code\u003e command to check if the server is alive. The handler will be notified if the server responds to the PING, otherwise the handler will never be called.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003econnection.ping({ ar -\u0026gt;\n  println(\u003cspan class=\"hljs-string\"\u003e\"The server has responded to the PING\"\u003c/span\u003e)\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_com_reset_connection\"\u003e\u003ca class=\"anchor\" href=\"#_com_reset_connection\"\u003e\u003c/a\u003eCOM_RESET_CONNECTION\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can reset the session state with \u003ccode\u003eCOM_RESET_CONNECTION\u003c/code\u003e command, this will reset the connection state like:\n- user variables\n- temporary tables\n- prepared statements\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003econnection.resetConnection({ ar -\u0026gt;\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Connection has been reset now\"\u003c/span\u003e)\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Failure: ${ar.cause().getMessage()}\"\u003c/span\u003e)\n  }\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_com_change_user\"\u003e\u003ca class=\"anchor\" href=\"#_com_change_user\"\u003e\u003c/a\u003eCOM_CHANGE_USER\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can change the user of the current connection, this will perform a re-authentication and reset the connection state like \u003ccode\u003eCOM_RESET_CONNECTION\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e authenticationOptions = [\n\u003cspan class=\"hljs-symbol\"\u003e  user:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"newuser\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  password:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"newpassword\"\u003c/span\u003e,\n\u003cspan class=\"hljs-symbol\"\u003e  database:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"newdatabase\"\u003c/span\u003e\n]\nconnection.changeUser(authenticationOptions, { ar -\u0026gt;\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    println(\u003cspan class=\"hljs-string\"\u003e\"User of current connection has been changed.\"\u003c/span\u003e)\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Failure: ${ar.cause().getMessage()}\"\u003c/span\u003e)\n  }\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_com_init_db\"\u003e\u003ca class=\"anchor\" href=\"#_com_init_db\"\u003e\u003c/a\u003eCOM_INIT_DB\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can use \u003ccode\u003eCOM_INIT_DB\u003c/code\u003e command to change the default schema of the connection.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003econnection.specifySchema(\u003cspan class=\"hljs-string\"\u003e\"newschema\"\u003c/span\u003e, { ar -\u0026gt;\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Default schema changed to newschema\"\u003c/span\u003e)\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Failure: ${ar.cause().getMessage()}\"\u003c/span\u003e)\n  }\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_com_statistics\"\u003e\u003ca class=\"anchor\" href=\"#_com_statistics\"\u003e\u003c/a\u003eCOM_STATISTICS\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can use \u003ccode\u003eCOM_STATISTICS\u003c/code\u003e command to get a human readable string of some internal status variables in MySQL server.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003econnection.getInternalStatistics({ ar -\u0026gt;\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Statistics: ${ar.result()}\"\u003c/span\u003e)\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Failure: ${ar.cause().getMessage()}\"\u003c/span\u003e)\n  }\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_com_debug\"\u003e\u003ca class=\"anchor\" href=\"#_com_debug\"\u003e\u003c/a\u003eCOM_DEBUG\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can use \u003ccode\u003eCOM_DEBUG\u003c/code\u003e command to dump debug info to the MySQL server\u0026#8217;s STDOUT.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003econnection.debug({ ar -\u0026gt;\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Debug info dumped to server's STDOUT\"\u003c/span\u003e)\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Failure: ${ar.cause().getMessage()}\"\u003c/span\u003e)\n  }\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_com_set_option\"\u003e\u003ca class=\"anchor\" href=\"#_com_set_option\"\u003e\u003c/a\u003eCOM_SET_OPTION\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can use \u003ccode\u003eCOM_SET_OPTION\u003c/code\u003e command to set options for the current connection. Currently only \u003ccode\u003eCLIENT_MULTI_STATEMENTS\u003c/code\u003e can be set.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFor example, you can disable \u003ccode\u003eCLIENT_MULTI_STATEMENTS\u003c/code\u003e with this command.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003econnection.setOption(MySQLSetOption.MYSQL_OPTION_MULTI_STATEMENTS_OFF, { ar -\u0026gt;\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    println(\u003cspan class=\"hljs-string\"\u003e\"CLIENT_MULTI_STATEMENTS is off now\"\u003c/span\u003e)\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    println(\u003cspan class=\"hljs-string\"\u003e\"Failure: ${ar.cause().getMessage()}\"\u003c/span\u003e)\n  }\n})\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_mysql_and_mariadb_version_support_matrix\"\u003e\u003ca class=\"anchor\" href=\"#_mysql_and_mariadb_version_support_matrix\"\u003e\u003c/a\u003eMySQL and MariaDB version support matrix\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003ctable class=\"tableblock frame-all grid-all stretch\"\u003e\n\u003ccolgroup\u003e\n\u003ccol style=\"width: 25%;\"\u003e\n\u003ccol style=\"width: 25%;\"\u003e\n\u003ccol style=\"width: 25%;\"\u003e\n\u003ccol style=\"width: 25%;\"\u003e\n\u003c/colgroup\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth class=\"tableblock halign-center valign-top\" colspan=\"2\"\u003eMySQL\u003c/th\u003e\n\u003cth class=\"tableblock halign-center valign-top\" colspan=\"2\"\u003eMariaDB\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003eVersion\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003eSupported\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003eVersion\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003eSupported\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e5.5\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e10.1\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e5.6\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e10.2\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e5.7\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e10.3\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e8.0\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e10.4\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eKnown issues:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eReset connection utility command does not work in MySQL 5.5, 5.6 and MariaDB 10.1\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eChange user utility command is not supported with MariaDB 10.2 and 10.3\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e"},"__N_SSG":true},"page":"/docs/[[...slug]]","query":{"slug":["3.8.4","vertx-mysql-client","groovy"]},"buildId":"sCg9mz3_RXk8PIIBHJVcF","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-7cde6f5ea12aaa40097b.js"></script><script src="/_next/static/chunks/main-b6e20584df76f29b6f35.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/framework.fcef98db13e2318579fb.js" async=""></script><script src="/_next/static/chunks/commons.5b8771ac6e8a338f82f1.js" async=""></script><script src="/_next/static/chunks/styles.6a5cc0a07ce13c54adf1.js" async=""></script><script src="/_next/static/chunks/pages/_app-3dbbc9c041333077c167.js" async=""></script><script src="/_next/static/chunks/5e2acbba0c73eb7c5c0e969bcd552d3808de9969.4d0eb9c3d4239c66cc89.js" async=""></script><script src="/_next/static/chunks/31acfd8439b7c9eee4abe9f59c7500d6c943ee0d.46f4cf2c4741679ce3eb.js" async=""></script><script src="/_next/static/chunks/pages/docs/%5B%5B...slug%5D%5D-a0e26e250e9304ae7812.js" async=""></script><script src="/_next/static/sCg9mz3_RXk8PIIBHJVcF/_buildManifest.js" async=""></script><script src="/_next/static/sCg9mz3_RXk8PIIBHJVcF/_ssgManifest.js" async=""></script></body></html>