<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><title>RxJava 2 | Eclipse Vert.x</title><link rel="preload" href="https://api.github.com/repos/vert-x3/vertx-rx" as="fetch" crossorigin="anonymous"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/styles.065337ce.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.065337ce.chunk.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-b6e20584df76f29b6f35.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.fcef98db13e2318579fb.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.5b8771ac6e8a338f82f1.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.6a5cc0a07ce13c54adf1.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-3dbbc9c041333077c167.js" as="script"/><link rel="preload" href="/_next/static/chunks/5e2acbba0c73eb7c5c0e969bcd552d3808de9969.4d0eb9c3d4239c66cc89.js" as="script"/><link rel="preload" href="/_next/static/chunks/31acfd8439b7c9eee4abe9f59c7500d6c943ee0d.46f4cf2c4741679ce3eb.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/docs/%5B%5B...slug%5D%5D-a0e26e250e9304ae7812.js" as="script"/></head><body><div id="__next"><main class="page docs"><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><a class="navbar-menu-item" href="/introduction-to-vertx-and-reactive/">Intro</a><a class="navbar-menu-item" href="/docs/">Docs</a><a class="navbar-menu-item" href="/faq/">FAQ</a><a class="navbar-menu-item" href="/blog/">Blog</a><a class="navbar-menu-item" href="/community/">Community</a></div><div class="navbar-social"><a href="https://github.com/vert-x3/vertx-awesome" class="navbar-social-link" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M24 11.438l-6.154-5.645-.865.944 5.128 4.7H1.895l5.128-4.705-.865-.943-6.154 5.649H0v3.72c0 1.683 1.62 3.053 3.61 3.053h3.795c1.99 0 3.61-1.37 3.61-3.051v-2.446h1.97v2.446c0 1.68 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.721z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" class="navbar-social-link" title="Stack Overflow" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>Stack Overflow</title><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" class="navbar-social-link" title="YouTube" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>YouTube</title><path d="M23.499 6.203a3.008 3.008 0 00-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 00-2.088 2.09A31.258 31.26 0 000 12.01a31.258 31.26 0 00.523 5.785 3.008 3.008 0 002.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 002.089-2.09 31.258 31.26 0 00.5-5.784 31.258 31.26 0 00-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"></path></svg></a><a href="https://discord.gg/KzEMwP2" class="navbar-social-link" title="Discord" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Discord"><title>Discord</title><path d="M20.222 0c1.406 0 2.54 1.137 2.607 2.475V24l-2.677-2.273-1.47-1.338-1.604-1.398.67 2.205H3.71c-1.402 0-2.54-1.065-2.54-2.476V2.48C1.17 1.142 2.31.003 3.715.003h16.5L20.222 0zm-6.118 5.683h-.03l-.202.2c2.073.6 3.076 1.537 3.076 1.537-1.336-.668-2.54-1.002-3.744-1.137-.87-.135-1.74-.064-2.475 0h-.2c-.47 0-1.47.2-2.81.735-.467.203-.735.336-.735.336s1.002-1.002 3.21-1.537l-.135-.135s-1.672-.064-3.477 1.27c0 0-1.805 3.144-1.805 7.02 0 0 1 1.74 3.743 1.806 0 0 .4-.533.805-1.002-1.54-.468-2.14-1.404-2.14-1.404s.134.066.335.2h.06c.03 0 .044.015.06.03v.006c.016.016.03.03.06.03.33.136.66.27.93.4.466.202 1.065.403 1.8.536.93.135 1.996.2 3.21 0 .6-.135 1.2-.267 1.8-.535.39-.2.87-.4 1.397-.737 0 0-.6.936-2.205 1.404.33.466.795 1 .795 1 2.744-.06 3.81-1.8 3.87-1.726 0-3.87-1.815-7.02-1.815-7.02-1.635-1.214-3.165-1.26-3.435-1.26l.056-.02zm.168 4.413c.703 0 1.27.6 1.27 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334.002-.74.573-1.338 1.27-1.338zm-4.543 0c.7 0 1.266.6 1.266 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334 0-.74.57-1.338 1.27-1.338z"></path></svg></a><a href="https://groups.google.com/forum/?fromgroups#!forum/vertx" class="navbar-social-link" title="Vert.x User Group" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="A Google group for Vert.x users"><title>Vert.x User Group</title><path d="M.92 3.332c-.776 0-1.216.67-.692 1.383l2.537 4.403v7.86c0 2.013 1.467 3.69 3.459 3.69H20.31a3.75 3.75 0 003.69-3.69V7.043a3.723 3.723 0 00-3.668-3.71zm5.786 3.71H20.1c.587 0 1.153.357 1.153.923 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.923 1.153-.923zm0 3.69H20.1c.587 0 1.153.356 1.153.922 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.922 1.153-.922zm-.021 3.71h9.705c.587 0 1.153.356 1.153.922 0 .566-.566.923-1.153.923H6.685c-.587 0-1.153-.357-1.153-.923 0-.566.566-.922 1.153-.922Z"></path></svg></a></div></div></div></div></header><div class="page-content docs-content"><div class="container"><div class="docs-content-wrapper"><aside class=""><div class="docs-content-wrapper-sidebar"><div class="search-panel"><div class="search"><input type="text" placeholder="Search..." value=""/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon-delete"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg></div><ul class="search-results"></ul><div class="search-results-none">No results.</div></div><div class="docs-content-toc"><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_vert_x_api_for_rxjava2">Vert.x API for RxJava2</a>
<ul class="sectlevel2">
<li><a href="#_using_vert_x_api_for_rxjava2">Using Vert.x API for RxJava2</a></li>
<li><a href="#_read_stream_support">Read stream support</a></li>
<li><a href="#_write_stream_support">Write stream support</a></li>
<li><a href="#_async_result_support">Async result support</a></li>
<li><a href="#_scheduler_support">Scheduler support</a></li>
<li><a href="#_json_unmarshalling">Json unmarshalling</a></li>
<li><a href="#_deploying_a_verticle">Deploying a Verticle</a></li>
</ul>
</li>
<li><a href="#_rxified_api">Rxified API</a>
<ul class="sectlevel2">
<li><a href="#_embedding_rxfified_vert_x">Embedding Rxfified Vert.x</a></li>
<li><a href="#_as_a_verticle">As a Verticle</a></li>
<li><a href="#_api_examples">Api examples</a>
<ul class="sectlevel2">
<li><a href="#_eventbus_message_stream">EventBus message stream</a></li>
<li><a href="#_timers">Timers</a></li>
<li><a href="#_http_client_requests">Http client requests</a></li>
<li><a href="#_http_server_requests">Http server requests</a></li>
<li><a href="#_websocket_client">Websocket client</a></li>
<li><a href="#_websocket_server">Websocket server</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div></div></div></aside><div class="docs-content-sidebar-toggle"><div style="position:relative"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div></div><div class="docs-content-inner"><div class="docs-content-metadata"><div class="docs-content-metadata-left"><div class="docs-content-metadata-repo"><div class="github-stars"><a href="https://github.com/vert-x3/vertx-rx"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>135 stars</a></div></div><div><a href="/docs/apidocs/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> API</a></div><div class="docs-content-metadata-examples"><a href="https://github.com/vert-x3/vertx-examples/tree/3.x/rxjava-2-examples"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path></svg> Examples</a></div><div class="docs-content-metadata-edit"><a href="https://github.com/vert-x3/vertx-rx/blob/master/rx-java2/src/main/asciidoc/vertx-rx/java2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> Edit</a></div><span class="docs-content-metadata-version"><div class="dropdown"><a class="dropdown-title">v4.0.0<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"><a href="/docs/vertx-rx/java2/"><li class="dropdown-item active"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dropdown-check-icon"><polyline points="20 6 9 17 4 12"></polyline></svg>Latest (v<!-- -->4.0.0<!-- -->)</li></a><a href="/docs/3.9.4/vertx-rx/java2/"><li class="dropdown-item">v<!-- -->3.9.4</li></a><a href="/docs/3.9.3/vertx-rx/java2/"><li class="dropdown-item">v<!-- -->3.9.3</li></a><a href="/docs/3.9.2/vertx-rx/java2/"><li class="dropdown-item">v<!-- -->3.9.2</li></a><a href="/docs/3.9.1/vertx-rx/java2/"><li class="dropdown-item">v<!-- -->3.9.1</li></a><a href="/docs/3.9.0/vertx-rx/java2/"><li class="dropdown-item">v<!-- -->3.9.0</li></a></ul></div></span></div></div><div><h1>Vert.x RxJava</h1>

<div class="sect1">
<h2 id="_vert_x_api_for_rxjava2"><a class="anchor" href="#_vert_x_api_for_rxjava2"></a>Vert.x API for RxJava2</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://github.com/ReactiveX/RxJava">RxJava</a> is a popular library for composing asynchronous and event based programs using
observable sequences for the Java VM.</p>
</div>
<div class="paragraph">
<p>Vert.x integrates naturally with RxJava, allowing to use
observable wherever you can use streams or asynchronous results.</p>
</div>
<div class="sect2">
<h3 id="_using_vert_x_api_for_rxjava2"><a class="anchor" href="#_using_vert_x_api_for_rxjava2"></a>Using Vert.x API for RxJava2</h3>
<div class="paragraph">
<p>To use Vert.x API for RxJava2, add the following dependency to the <em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-rx-java2<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">'io.vertx:vertx-rx-java2:3.9.1'</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>There are two ways for using the RxJava 2 API with Vert.x:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>via the original Vert.x API with helpers class that provides static methods for converting objects between Vert.x core
API and RxJava 2 API</p>
<div class="ulist">
<ul>
<li>
<p><code><a href="../../apidocs/io/vertx/reactivex/RxHelper.html">RxHelper</a></code></p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/reactivex/ObservableHelper.html">ObservableHelper</a></code></p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/reactivex/FlowableHelper.html">FlowableHelper</a></code></p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/reactivex/SingleHelper.html">SingleHelper</a></code></p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/reactivex/MaybeHelper.html">MaybeHelper</a></code></p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/reactivex/CompletableHelper.html">CompletableHelper</a></code></p>
</li>
</ul>
</div>
</li>
<li>
<p>via the <em>Rxified</em> Vert.x API enhancing the core Vert.x API.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_read_stream_support"><a class="anchor" href="#_read_stream_support"></a>Read stream support</h3>
<div class="paragraph">
<p>RxJava <code>Flowable</code> is a perfect match for Vert.x <code>ReadStream</code> class : both provide a flow of items.</p>
</div>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/reactivex/FlowableHelper.html#toFlowable-io.vertx.core.streams.ReadStream-">FlowableHelper.toFlowable</a></code> static methods convert
a Vert.x read stream to a <code>Flowable</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">FileSystem fileSystem = vertx.fileSystem();
fileSystem.open(<span class="hljs-string">"/data.txt"</span>, <span class="hljs-keyword">new</span> OpenOptions(), result -&gt; {
  AsyncFile file = result.result();
  Flowable&lt;Buffer&gt; observable = FlowableHelper.toFlowable(file);
  observable.forEach(data -&gt; System.out.println(<span class="hljs-string">"Read data: "</span> + data.toString(<span class="hljs-string">"UTF-8"</span>)));
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>Rxified</em> Vert.x API provides a <code><a href="../../apidocs/io/vertx/reactivex/core/streams/ReadStream.html#toFlowable--">toFlowable</a></code>  method on
<code><a href="../../apidocs/io/vertx/reactivex/core/streams/ReadStream.html">ReadStream</a></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">FileSystem fs = vertx.fileSystem();
fs.open(<span class="hljs-string">"/data.txt"</span>, <span class="hljs-keyword">new</span> OpenOptions(), result -&gt; {
  AsyncFile file = result.result();
  Flowable&lt;Buffer&gt; observable = file.toFlowable();
  observable.forEach(data -&gt; System.out.println(<span class="hljs-string">"Read data: "</span> + data.toString(<span class="hljs-string">"UTF-8"</span>)));
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Such flowables are <strong>hot</strong> flowables, i.e. they will produce notifications regardless of subscriptions because
a <code>ReadStream</code> can potentially emit items spontaneously or not, depending on the implementation:</p>
</div>
<div class="paragraph">
<p>At subscription time, the adapter calls <code><a href="../../apidocs/io/vertx/core/streams/ReadStream.html#handler-io.vertx.core.Handler-">handler</a></code>
to set its own handler.</p>
</div>
<div class="paragraph">
<p>Some <code>ReadStream</code> implementations can start to emit events after this call, others will emit events wether an
handler is set:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>AsyncFile</code> produces buffer events after the handler is set</p>
</li>
<li>
<p><code>HttpServerRequest</code> produces events independantly of the handler (i.e buffer may be lost if no handler is set)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In both cases, subscribing to the <code>Flowable</code> in the same call is safe because the event loop or the worker
verticles cannot be called concurrently, so the subscription will always happens before the handler starts emitting
data.</p>
</div>
<div class="paragraph">
<p>When you need to delay the subscription, you need to <code>pause</code> the <code>ReadStream</code> and then <code>resume</code> it, which is what
you would do with a <code>ReadStream</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">server.requestHandler(request -&gt; {
  <span class="hljs-keyword">if</span> (request.method() == HttpMethod.POST) {

    <span class="hljs-comment">// Stop receiving buffers</span>
    request.pause();

    checkAuth(res -&gt; {

      <span class="hljs-comment">// Now we can receive buffers again</span>
      request.resume();

      <span class="hljs-keyword">if</span> (res.succeeded()) {
        Flowable&lt;Buffer&gt; flowable = request.toFlowable();
        flowable.subscribe(buff -&gt; {
          <span class="hljs-comment">// Get buffers</span>
        });
      }
    });
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Likewise it is possible to turn an existing <code>Flowable</code> into a Vert.x <code>ReadStream</code>.</p>
</div>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/reactivex/FlowableHelper.html#toReadStream-io.reactivex.Flowable-">FlowableHelper.toReadStream</a></code>  static methods convert
a <code>Flowable</code> to a Vert.x read stream:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flowable&lt;Buffer&gt; observable = getFlowable();
ReadStream&lt;Buffer&gt; readStream = FlowableHelper.toReadStream(observable);
Pump pump = Pump.pump(readStream, response);
pump.start();</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_write_stream_support"><a class="anchor" href="#_write_stream_support"></a>Write stream support</h3>
<div class="paragraph">
<p>A <code><a href="../../apidocs/io/vertx/core/streams/WriteStream.html">WriteStream</a></code>, like a <code>org.reactivestreams.Subscriber</code>, consumes items, and, when it can&#8217;t keep-up, collaborates with the producer to avoid an ever-growing backlog.</p>
</div>
<div class="paragraph">
<p>Vert.x provides the <code><a href="../../apidocs/io/vertx/reactivex/WriteStreamSubscriber.html">WriteStreamSubscriber</a></code> adapter that you can use to send <code>Flowable</code> items to any <code><a href="../../apidocs/io/vertx/core/streams/WriteStream.html">WriteStream</a></code>:</p>
</div>
<div class="listingblock">
<div class="title">Sending buffers to an HTTP server response</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">response.setChunked(<span class="hljs-keyword">true</span>);
WriteStreamSubscriber&lt;io.vertx.core.buffer.Buffer&gt; subscriber = io.vertx.reactivex.RxHelper.toSubscriber(response);
flowable.subscribe(subscriber);</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
There is also a <code>io.vertx.reactivex.WriteStreamObserver</code> adapter for the non-backpressured <code>io.reactivex.Observable</code>.
The difference is that this adapter will send items to the <code><a href="../../apidocs/io/vertx/core/streams/WriteStream.html">WriteStream</a></code> even when it can&#8217;t keep-up with the producer rate.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you are progamming with the <em>Rxified</em> Vert.x API, the <code><a href="../../apidocs/io/vertx/reactivex/core/streams/WriteStream.html">WriteStream</a></code> implementations provide a <code>toSubscriber</code> method.
The previous example then becomes even more straightforward:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">response.setChunked(<span class="hljs-keyword">true</span>);
flowable.subscribe(response.toSubscriber());</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When the <code>Flowable</code> terminates successfully, the adapter invokes the <code><a href="../../apidocs/io/vertx/reactivex/core/streams/WriteStream.html#end--">end</a></code> method.
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
The adapter sets the <code><a href="../../apidocs/io/vertx/reactivex/core/streams/WriteStream.html">WriteStream</a></code> <code>drain</code> and <code>exception</code> handlers, so don&#8217;t use them after subscribing.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/reactivex/WriteStreamSubscriber.html">WriteStreamSubscriber</a></code> adapter is able to invoke callbacks when:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <code>Flowable</code> terminates with an error, or</p>
</li>
<li>
<p>the <code><a href="../../apidocs/io/vertx/reactivex/core/streams/WriteStream.html">WriteStream</a></code> fails (e.g. HTTP connection is closed or filesystem is full), or</p>
</li>
<li>
<p>the <code><a href="../../apidocs/io/vertx/reactivex/core/streams/WriteStream.html">WriteStream</a></code> ends (i.e. all writes done and file is closed), or</p>
</li>
<li>
<p>the <code><a href="../../apidocs/io/vertx/reactivex/core/streams/WriteStream.html">WriteStream</a></code> ends with an error (i.e. all writes done and an error occured when closing the file)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This allows for a more robust program design, as well as scheduling other tasks after the stream has been handled:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">response.setChunked(<span class="hljs-keyword">true</span>);

WriteStreamSubscriber&lt;Buffer&gt; subscriber = response.toSubscriber();

subscriber.onError(throwable -&gt; {
  <span class="hljs-keyword">if</span> (!response.headWritten() &amp;&amp; response.closed()) {
    response.setStatusCode(<span class="hljs-number">500</span>).end(<span class="hljs-string">"oops"</span>);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// log error</span>
  }
});

subscriber.onWriteStreamError(throwable -&gt; {
  <span class="hljs-comment">// log error</span>
});

subscriber.onWriteStreamEnd(() -&gt; {
  <span class="hljs-comment">// log end of transaction to audit system...</span>
});

flowable.subscribe(subscriber);</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If the <code><a href="../../apidocs/io/vertx/reactivex/core/streams/WriteStream.html">WriteStream</a></code> fails, the adapter cancels the <code>org.reactivestreams.Subscription</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_async_result_support"><a class="anchor" href="#_async_result_support"></a>Async result support</h3>
<div class="paragraph">
<p>You can create an RxJava <code>Observer</code> from an existing Vert.x <code>Handler&lt;AsyncResult&lt;T&gt;&gt;</code> and subscribe
it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Handler&lt;AsyncResult&lt;String&gt;&gt; handler = getHandler();

<span class="hljs-comment">// Subscribe to a Single</span>
Single.just(<span class="hljs-string">"hello"</span>).subscribe(SingleHelper.toObserver(handler));</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Handler&lt;AsyncResult&lt;String&gt;&gt; handler = getHandler();

<span class="hljs-comment">// Subscribe to a Single</span>
Maybe.just(<span class="hljs-string">"hello"</span>).subscribe(MaybeHelper.toObserver(handler));</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Handler&lt;AsyncResult&lt;Void&gt;&gt; handler = getHandler();

<span class="hljs-comment">// Subscribe to a Single</span>
Completable.complete().subscribe(CompletableHelper.toObserver(handler));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>Rxified</em> Vert.x API duplicates each such method with the <code>rx</code> prefix that returns an RxJava <code>Single</code>,
<code>Maybe</code> or <code>Completable</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Single&lt;HttpServer&gt; single = vertx
  .createHttpServer()
  .rxListen(<span class="hljs-number">1234</span>, <span class="hljs-string">"localhost"</span>);

<span class="hljs-comment">// Subscribe to bind the server</span>
single.
    subscribe(
        server -&gt; {
          <span class="hljs-comment">// Server is listening</span>
        },
        failure -&gt; {
          <span class="hljs-comment">// Server could not start</span>
        }
    );</code></pre>
</div>
</div>
<div class="paragraph">
<p>Such single are <strong>cold</strong> singles, and the corresponding API method is called on subscribe.</p>
</div>
<div class="paragraph">
<p><code>Maybe</code> can produce a result or no result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">DnsClient client = vertx.createDnsClient(dnsPort, dnsHost);

<span class="hljs-comment">// Obtain a maybe that performs the actual reverse lookup on subscribe</span>
Maybe&lt;String&gt; maybe = client.rxReverseLookup(ipAddress);

<span class="hljs-comment">// Subscribe to perform the lookup</span>
maybe.
  subscribe(
    name -&gt; {
      <span class="hljs-comment">// Lookup produced a result</span>
    },
    failure -&gt; {
      <span class="hljs-comment">// Lookup failed</span>
    },
    () -&gt; {
      <span class="hljs-comment">// Lookup produced no result</span>
    }
  );</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Completable</code> is usually mapped to <code>Handler&lt;AsyncResult&lt;Void&gt;&gt;</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Completable single = server.rxClose();

<span class="hljs-comment">// Subscribe to bind the server</span>
single.
  subscribe(
    () -&gt; {
      <span class="hljs-comment">// Server is closed</span>
    },
    failure -&gt; {
      <span class="hljs-comment">// Server closed but encoutered issue</span>
    }
  );</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you cannot use the Vert.x <em>Rxified</em> API or, if you have your own, callback-based, asynchronous methods, Vert.x provides adapters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="../../apidocs/io/vertx/reactivex/SingleHelper.html#toSingle-java.util.function.Consumer-">SingleHelper.toSingle</a></code>,</p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/reactivex/MaybeHelper.html#toMaybe-java.util.function.Consumer-">MaybeHelper.toMaybe</a></code> and</p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/reactivex/CompletableHelper.html#toCompletable-java.util.function.Consumer-">CompletableHelper.toCompletable</a></code>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Adapting Vert.x core <em>executeBlocking</em> method</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Maybe&lt;String&gt; maybe = MaybeHelper.toMaybe(handler -&gt; {
  vertx.executeBlocking(fut -&gt; fut.complete(invokeBlocking()), handler);
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scheduler_support"><a class="anchor" href="#_scheduler_support"></a>Scheduler support</h3>
<div class="paragraph">
<p>The reactive extension sometimes needs to schedule actions, for instance <code>Flowable#timer</code> creates and returns
a timer that emit periodic events. By default, scheduled actions are managed by RxJava, it means that the
timer threads are not Vert.x threads and therefore not executing in a Vert.x event loop nor on a Vert.x worker thread.</p>
</div>
<div class="paragraph">
<p>When an RxJava method deals with a scheduler, it accepts an overloaded method accepting an extra <code>io.reactivex.Scheduler</code>,
the <code><a href="../../apidocs/io/vertx/reactivex/RxHelper.html#scheduler-io.vertx.core.Vertx-">RxHelper.scheduler</a></code>  method will return a scheduler that can be used
in such places.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Scheduler scheduler = RxHelper.scheduler(vertx);
Observable&lt;Long&gt; timer = Observable.interval(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, TimeUnit.MILLISECONDS, scheduler);</code></pre>
</div>
</div>
<div class="paragraph">
<p>For blocking scheduled actions, a scheduler can be created with the <code><a href="../../apidocs/io/vertx/reactivex/RxHelper.html#blockingScheduler-io.vertx.core.Vertx-">RxHelper.blockingScheduler</a></code>
method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Scheduler scheduler = RxHelper.blockingScheduler(vertx);
Observable&lt;Long&gt; timer = Observable.interval(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, TimeUnit.MILLISECONDS, scheduler);</code></pre>
</div>
</div>
<div class="paragraph">
<p>RxJava can also be reconfigured to use the Vert.x scheduler:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">RxJavaPlugins.setComputationSchedulerHandler(s -&gt; RxHelper.scheduler(vertx));
RxJavaPlugins.setIoSchedulerHandler(s -&gt; RxHelper.blockingScheduler(vertx));
RxJavaPlugins.setNewThreadSchedulerHandler(s -&gt; RxHelper.scheduler(vertx));</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
RxJava uses the words <em>computation</em> for non-blocking tasks and <em>io</em> for blocking tasks
which is the opposite of the Vert.x terminology
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <em>Rxified</em> Vert.x API provides also similar method on the <code><a href="../../apidocs/io/vertx/reactivex/core/RxHelper.html">RxHelper</a></code> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Scheduler scheduler = RxHelper.scheduler(vertx);
Observable&lt;Long&gt; timer = Observable.interval(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, TimeUnit.MILLISECONDS, scheduler);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">RxJavaPlugins.setComputationSchedulerHandler(s -&gt; RxHelper.scheduler(vertx));
RxJavaPlugins.setIoSchedulerHandler(s -&gt; RxHelper.blockingScheduler(vertx));
RxJavaPlugins.setNewThreadSchedulerHandler(s -&gt; RxHelper.scheduler(vertx));</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is also possible to create a scheduler backed by a named worker pool. This can be useful if you want to re-use
the specific thread pool for scheduling blocking actions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Scheduler scheduler = RxHelper.blockingScheduler(workerExecutor);
Observable&lt;Long&gt; timer = Observable.interval(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, TimeUnit.MILLISECONDS, scheduler);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_json_unmarshalling"><a class="anchor" href="#_json_unmarshalling"></a>Json unmarshalling</h3>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/reactivex/FlowableHelper.html#unmarshaller-java.lang.Class-">FlowableHelper.unmarshaller</a></code> creates an <code>io.reactivex.rxjava2.FlowableOperator</code> that
transforms an <code>Flowable&lt;Buffer&gt;</code> in json format into an object flowable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">fileSystem.open(<span class="hljs-string">"/data.txt"</span>, <span class="hljs-keyword">new</span> OpenOptions(), result -&gt; {
  AsyncFile file = result.result();
  Flowable&lt;Buffer&gt; observable = FlowableHelper.toFlowable(file);
  observable.compose(FlowableHelper.unmarshaller(MyPojo<span class="hljs-class">.<span class="hljs-keyword">class</span>)).<span class="hljs-title">subscribe</span>(
      <span class="hljs-title">mypojo</span> -&gt; </span>{
        <span class="hljs-comment">// Process the object</span>
      }
  );
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>The same can be done with the <em>Rxified</em> helper:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">fileSystem.open(<span class="hljs-string">"/data.txt"</span>, <span class="hljs-keyword">new</span> OpenOptions(), result -&gt; {
  AsyncFile file = result.result();
  Observable&lt;Buffer&gt; observable = file.toObservable();
  observable.compose(ObservableHelper.unmarshaller((MyPojo<span class="hljs-class">.<span class="hljs-keyword">class</span>))).<span class="hljs-title">subscribe</span>(
    <span class="hljs-title">mypojo</span> -&gt; </span>{
      <span class="hljs-comment">// Process the object</span>
    }
  );
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_deploying_a_verticle"><a class="anchor" href="#_deploying_a_verticle"></a>Deploying a Verticle</h3>
<div class="paragraph">
<p>To deploy existing Verticle instances, you can use <code><a href="../../apidocs/io/vertx/reactivex/core/RxHelper.html#deployVerticle-io.vertx.reactivex.core.Vertx-io.vertx.core.Verticle-">RxHelper.deployVerticle</a></code>
, it deploys a <code>Verticle</code> and returns an <code>Single&lt;String&gt;</code> of the deployment ID.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Single&lt;String&gt; deployment = RxHelper.deployVerticle(vertx, verticle);

deployment.subscribe(id -&gt; {
  <span class="hljs-comment">// Deployed</span>
}, err -&gt; {
  <span class="hljs-comment">// Could not deploy</span>
});</code></pre>
</div>
</div>
</div>
</div>
</div>
<h1 id="_rxified_api" class="sect0"><a class="anchor" href="#_rxified_api"></a>Rxified API</h1>
<div class="paragraph">
<p>The <em>Rxified</em> API is a code generated version of the Vert.x API, just like the <em>JavaScript</em> or <em>Groovy</em>
language. The API uses the <code>io.vertx.rxjava</code> prefix, for instance the <code>io.vertx.core.Vertx</code> class is
translated to the <code><a href="../../apidocs/io/vertx/reactivex/core/Vertx.html">Vertx</a></code> class.</p>
</div>
<div class="sect2">
<h3 id="_embedding_rxfified_vert_x"><a class="anchor" href="#_embedding_rxfified_vert_x"></a>Embedding Rxfified Vert.x</h3>
<div class="paragraph">
<p>Just use the <code><a href="../../apidocs/io/vertx/reactivex/core/Vertx.html#vertx--">Vertx.vertx</a></code> methods:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Vertx vertx = io.vertx.reactivex.core.Vertx.vertx();</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_as_a_verticle"><a class="anchor" href="#_as_a_verticle"></a>As a Verticle</h3>
<div class="paragraph">
<p>Extend the <code><a href="../../apidocs/io/vertx/reactivex/core/AbstractVerticle.html">AbstractVerticle</a></code> class, it will wrap it for you:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyVerticle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">io</span>.<span class="hljs-title">vertx</span>.<span class="hljs-title">reactivex</span>.<span class="hljs-title">core</span>.<span class="hljs-title">AbstractVerticle</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">start</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// Use Rxified Vertx here</span>
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Deploying an RxJava verticle is still performed by the Java deployer and does not need a specified
deployer.</p>
</div>
<div class="paragraph">
<p>Verticles having an asynchronous start can override instead the <code>rxStart</code> method and return a <code>Completable</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyVerticle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">io</span>.<span class="hljs-title">vertx</span>.<span class="hljs-title">reactivex</span>.<span class="hljs-title">core</span>.<span class="hljs-title">AbstractVerticle</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">public</span> Completable <span class="hljs-title">rxStart</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> vertx.createHttpServer()
      .requestHandler(req -&gt; req.response().end(<span class="hljs-string">"Hello World"</span>))
      .rxListen()
      .toCompletable();
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_api_examples"><a class="anchor" href="#_api_examples"></a>Api examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s study now a few examples of using Vert.x with RxJava.</p>
</div>
<div class="sect2">
<h3 id="_eventbus_message_stream"><a class="anchor" href="#_eventbus_message_stream"></a>EventBus message stream</h3>
<div class="paragraph">
<p>The event bus <code><a href="../../apidocs/io/vertx/reactivex/core/eventbus/MessageConsumer.html">MessageConsumer</a></code> provides naturally an <code>Observable&lt;Message&lt;T&gt;&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">EventBus eb = vertx.eventBus();
MessageConsumer&lt;String&gt; consumer = eb.&lt;String&gt;consumer(<span class="hljs-string">"the-address"</span>);
Observable&lt;Message&lt;String&gt;&gt; observable = consumer.toObservable();
Disposable sub = observable.subscribe(msg -&gt; {
  <span class="hljs-comment">// Got message</span>
});

<span class="hljs-comment">// Unregisters the stream after 10 seconds</span>
vertx.setTimer(<span class="hljs-number">10000</span>, id -&gt; {
  sub.dispose();
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/reactivex/core/eventbus/MessageConsumer.html">MessageConsumer</a></code> provides a stream of <code><a href="../../apidocs/io/vertx/reactivex/core/eventbus/Message.html">Message</a></code>.
The <code><a href="../../apidocs/io/vertx/reactivex/core/eventbus/Message.html#body--">body</a></code> gives access to a new stream of message bodies if needed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">EventBus eb = vertx.eventBus();
MessageConsumer&lt;String&gt; consumer = eb.&lt;String&gt;consumer(<span class="hljs-string">"the-address"</span>);
Observable&lt;String&gt; observable = consumer.bodyStream().toObservable();</code></pre>
</div>
</div>
<div class="paragraph">
<p>RxJava map/reduce composition style can then be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Observable&lt;Double&gt; observable = vertx.eventBus().
    &lt;Double&gt;consumer(<span class="hljs-string">"heat-sensor"</span>).
    bodyStream().
    toObservable();

observable.
    buffer(<span class="hljs-number">1</span>, TimeUnit.SECONDS).
    map(samples -&gt; samples.
        stream().
        collect(Collectors.averagingDouble(d -&gt; d))).
    subscribe(heat -&gt; {
      vertx.eventBus().send(<span class="hljs-string">"news-feed"</span>, <span class="hljs-string">"Current heat is "</span> + heat);
    });</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_timers"><a class="anchor" href="#_timers"></a>Timers</h3>
<div class="paragraph">
<p>Timer task can be created with <code><a href="../../apidocs/io/vertx/reactivex/core/Vertx.html#timerStream-long-">timerStream</a></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">vertx.timerStream(<span class="hljs-number">1000</span>).
    toObservable().
    subscribe(
        id -&gt; {
          System.out.println(<span class="hljs-string">"Callback after 1 second"</span>);
        }
    );</code></pre>
</div>
</div>
<div class="paragraph">
<p>Periodic task can be created with <code><a href="../../apidocs/io/vertx/reactivex/core/Vertx.html#periodicStream-long-">periodicStream</a></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">vertx.periodicStream(<span class="hljs-number">1000</span>).
    toObservable().
    subscribe(
        id -&gt; {
          System.out.println(<span class="hljs-string">"Callback every second"</span>);
        }
    );</code></pre>
</div>
</div>
<div class="paragraph">
<p>The observable can be cancelled with an unsubscription:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">vertx.periodicStream(<span class="hljs-number">1000</span>).
    toObservable().
    subscribe(<span class="hljs-keyword">new</span> Observer&lt;Long&gt;() {
      <span class="hljs-keyword">private</span> Disposable sub;
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSubscribe</span><span class="hljs-params">(@NonNull Disposable d)</span> </span>{
        sub = d;
      }
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onNext</span><span class="hljs-params">(Long aLong)</span> </span>{
        <span class="hljs-comment">// Callback</span>
        sub.dispose();
      }
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(Throwable e)</span> </span>{}
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onComplete</span><span class="hljs-params">()</span> </span>{}
    });</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_http_client_requests"><a class="anchor" href="#_http_client_requests"></a>Http client requests</h3>
<div class="paragraph">
<p>We recommend to use the <a href="http://vertx.io/docs/vertx-web-client/java/#_rxjava_api">Vert.x Web Client</a> with RxJava.</p>
</div>
</div>
<div class="sect2">
<h3 id="_http_server_requests"><a class="anchor" href="#_http_server_requests"></a>Http server requests</h3>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/reactivex/core/http/HttpServer.html#requestStream--">requestStream</a></code> provides a callback for each incoming
request:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Observable&lt;HttpServerRequest&gt; requestObservable = server.requestStream().toObservable();
requestObservable.subscribe(request -&gt; {
  <span class="hljs-comment">// Process request</span>
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/core/http/HttpServerRequest.html">HttpServerRequest</a></code> can then be adapted to an <code>Observable&lt;Buffer&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Observable&lt;HttpServerRequest&gt; requestObservable = server.requestStream().toObservable();
requestObservable.subscribe(request -&gt; {
  Observable&lt;Buffer&gt; observable = request.toObservable();
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/reactivex/ObservableHelper.html#unmarshaller-java.lang.Class-">ObservableHelper.unmarshaller</a></code> can be used to parse and map
a json request to an object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Observable&lt;HttpServerRequest&gt; requestObservable = server.requestStream().toObservable();
requestObservable.subscribe(request -&gt; {
  Observable&lt;MyPojo&gt; observable = request.
    toObservable().
    compose(io.vertx.reactivex.core.ObservableHelper.unmarshaller(MyPojo<span class="hljs-class">.<span class="hljs-keyword">class</span>))</span>;
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_websocket_client"><a class="anchor" href="#_websocket_client"></a>Websocket client</h3>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/reactivex/core/http/HttpClient.html#rxWebSocket-int-java.lang.String-java.lang.String-">rxWebSocket</a></code> provides a single callback when the websocket
connects, otherwise a failure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">HttpClient client = vertx.createHttpClient(<span class="hljs-keyword">new</span> HttpClientOptions());
client.rxWebSocket(<span class="hljs-number">8080</span>, <span class="hljs-string">"localhost"</span>, <span class="hljs-string">"/the_uri"</span>).subscribe(
    ws -&gt; {
      <span class="hljs-comment">// Use the websocket</span>
    },
    error -&gt; {
      <span class="hljs-comment">// Could not connect</span>
    }
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/reactivex/core/http/WebSocket.html">WebSocket</a></code> can then be turned into an <code>Observable&lt;Buffer&gt;</code> easily:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">socketObservable.subscribe(
    socket -&gt; {
      Flowable&lt;Buffer&gt; dataObs = socket.toFlowable();
      dataObs.subscribe(buffer -&gt; {
        System.out.println(<span class="hljs-string">"Got message "</span> + buffer.toString(<span class="hljs-string">"UTF-8"</span>));
      });
    }
);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_websocket_server"><a class="anchor" href="#_websocket_server"></a>Websocket server</h3>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/reactivex/core/http/HttpServer.html#websocketStream--">websocketStream</a></code> provides a callback for each incoming
connection:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Observable&lt;ServerWebSocket&gt; socketObservable = server.websocketStream().toObservable();
socketObservable.subscribe(
    socket -&gt; System.out.println(<span class="hljs-string">"Web socket connect"</span>),
    failure -&gt; System.out.println(<span class="hljs-string">"Should never be called"</span>),
    () -&gt; {
      System.out.println(<span class="hljs-string">"Subscription ended or server closed"</span>);
    }
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/core/http/ServerWebSocket.html">ServerWebSocket</a></code> can be turned into an <code>Observable&lt;Buffer&gt;</code> easily:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">socketObservable.subscribe(
    socket -&gt; {
      Observable&lt;Buffer&gt; dataObs = socket.toObservable();
      dataObs.subscribe(buffer -&gt; {
        System.out.println(<span class="hljs-string">"Got message "</span> + buffer.toString(<span class="hljs-string">"UTF-8"</span>));
      });
    }
);</code></pre>
</div>
</div>
</div>
</div>
</div></div></div></div></div></div><footer><div class="container"><div class="footer-nav-section"><div class="footer-nav-list footer-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="footer-nav-list"><h5>Eclipse Vert.x</h5><ul class=""><li><a class="navbar-menu-item" href="/docs/">Docs</a></li><li><a href="/download/">Download</a></li><li><a href="/faq/">FAQ</a></li><li><a href="/blog/">Blog</a></li><li><a href="/community/">Community</a></li><li><a href="/channels/">Channels</a></li></ul></div><div class="footer-nav-list"><h5>Eclipse</h5><ul class=""><li><a href="https://www.eclipse.org/">Eclipse Foundation</a></li><li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li><li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li><li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li><li><a href="https://www.eclipse.org/legal/">Legal Resources</a></li></ul></div></div><div class="footer-copyright"><div class="footer-copyright-remarks"> <!-- -->2020<!-- --> Eclipse Vert.x<br/>Eclipse Vert.x is open source and dual-licensed under the <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer">Eclipse Public License 2.0</a> and the <a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer">Apache License 2.0</a>. <br class="footer-copyright-break"/>Website design by <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer">Michel Krmer</a>.</div><div class="footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0TDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"3.9.1/vertx-rx/java2","title":"Vert.x RxJava","fallbackGitHubStars":135,"toc":"\u003cdiv id=\"toc\" class=\"toc\"\u003e\n\u003cdiv id=\"toctitle\"\u003eTable of Contents\u003c/div\u003e\n\u003cul class=\"sectlevel1\"\u003e\n\u003cli\u003e\u003ca href=\"#_vert_x_api_for_rxjava2\"\u003eVert.x API for RxJava2\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_using_vert_x_api_for_rxjava2\"\u003eUsing Vert.x API for RxJava2\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_read_stream_support\"\u003eRead stream support\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_write_stream_support\"\u003eWrite stream support\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_async_result_support\"\u003eAsync result support\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_scheduler_support\"\u003eScheduler support\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_json_unmarshalling\"\u003eJson unmarshalling\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_deploying_a_verticle\"\u003eDeploying a Verticle\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_rxified_api\"\u003eRxified API\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_embedding_rxfified_vert_x\"\u003eEmbedding Rxfified Vert.x\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_as_a_verticle\"\u003eAs a Verticle\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_api_examples\"\u003eApi examples\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_eventbus_message_stream\"\u003eEventBus message stream\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_timers\"\u003eTimers\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_http_client_requests\"\u003eHttp client requests\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_http_server_requests\"\u003eHttp server requests\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_websocket_client\"\u003eWebsocket client\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_websocket_server\"\u003eWebsocket server\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e","contents":"\u003ch1\u003eVert.x RxJava\u003c/h1\u003e\n\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_vert_x_api_for_rxjava2\"\u003e\u003ca class=\"anchor\" href=\"#_vert_x_api_for_rxjava2\"\u003e\u003c/a\u003eVert.x API for RxJava2\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/ReactiveX/RxJava\"\u003eRxJava\u003c/a\u003e is a popular library for composing asynchronous and event based programs using\nobservable sequences for the Java VM.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x integrates naturally with RxJava, allowing to use\nobservable wherever you can use streams or asynchronous results.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_using_vert_x_api_for_rxjava2\"\u003e\u003ca class=\"anchor\" href=\"#_using_vert_x_api_for_rxjava2\"\u003e\u003c/a\u003eUsing Vert.x API for RxJava2\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use Vert.x API for RxJava2, add the following dependency to the \u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-rx-java2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.1\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-rx-java2:3.9.1'\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThere are two ways for using the RxJava 2 API with Vert.x:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003evia the original Vert.x API with helpers class that provides static methods for converting objects between Vert.x core\nAPI and RxJava 2 API\u003c/p\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/RxHelper.html\"\u003eRxHelper\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/ObservableHelper.html\"\u003eObservableHelper\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/FlowableHelper.html\"\u003eFlowableHelper\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/SingleHelper.html\"\u003eSingleHelper\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/MaybeHelper.html\"\u003eMaybeHelper\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/CompletableHelper.html\"\u003eCompletableHelper\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003evia the \u003cem\u003eRxified\u003c/em\u003e Vert.x API enhancing the core Vert.x API.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_read_stream_support\"\u003e\u003ca class=\"anchor\" href=\"#_read_stream_support\"\u003e\u003c/a\u003eRead stream support\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eRxJava \u003ccode\u003eFlowable\u003c/code\u003e is a perfect match for Vert.x \u003ccode\u003eReadStream\u003c/code\u003e class : both provide a flow of items.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/FlowableHelper.html#toFlowable-io.vertx.core.streams.ReadStream-\"\u003eFlowableHelper.toFlowable\u003c/a\u003e\u003c/code\u003e static methods convert\na Vert.x read stream to a \u003ccode\u003eFlowable\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eFileSystem fileSystem = vertx.fileSystem();\nfileSystem.open(\u003cspan class=\"hljs-string\"\u003e\"/data.txt\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e OpenOptions(), result -\u0026gt; {\n  AsyncFile file = result.result();\n  Flowable\u0026lt;Buffer\u0026gt; observable = FlowableHelper.toFlowable(file);\n  observable.forEach(data -\u0026gt; System.out.println(\u003cspan class=\"hljs-string\"\u003e\"Read data: \"\u003c/span\u003e + data.toString(\u003cspan class=\"hljs-string\"\u003e\"UTF-8\"\u003c/span\u003e)));\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003cem\u003eRxified\u003c/em\u003e Vert.x API provides a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/streams/ReadStream.html#toFlowable--\"\u003etoFlowable\u003c/a\u003e\u003c/code\u003e  method on\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/streams/ReadStream.html\"\u003eReadStream\u003c/a\u003e\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eFileSystem fs = vertx.fileSystem();\nfs.open(\u003cspan class=\"hljs-string\"\u003e\"/data.txt\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e OpenOptions(), result -\u0026gt; {\n  AsyncFile file = result.result();\n  Flowable\u0026lt;Buffer\u0026gt; observable = file.toFlowable();\n  observable.forEach(data -\u0026gt; System.out.println(\u003cspan class=\"hljs-string\"\u003e\"Read data: \"\u003c/span\u003e + data.toString(\u003cspan class=\"hljs-string\"\u003e\"UTF-8\"\u003c/span\u003e)));\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eSuch flowables are \u003cstrong\u003ehot\u003c/strong\u003e flowables, i.e. they will produce notifications regardless of subscriptions because\na \u003ccode\u003eReadStream\u003c/code\u003e can potentially emit items spontaneously or not, depending on the implementation:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eAt subscription time, the adapter calls \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/streams/ReadStream.html#handler-io.vertx.core.Handler-\"\u003ehandler\u003c/a\u003e\u003c/code\u003e\nto set its own handler.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eSome \u003ccode\u003eReadStream\u003c/code\u003e implementations can start to emit events after this call, others will emit events wether an\nhandler is set:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eAsyncFile\u003c/code\u003e produces buffer events after the handler is set\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eHttpServerRequest\u003c/code\u003e produces events independantly of the handler (i.e buffer may be lost if no handler is set)\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn both cases, subscribing to the \u003ccode\u003eFlowable\u003c/code\u003e in the same call is safe because the event loop or the worker\nverticles cannot be called concurrently, so the subscription will always happens before the handler starts emitting\ndata.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you need to delay the subscription, you need to \u003ccode\u003epause\u003c/code\u003e the \u003ccode\u003eReadStream\u003c/code\u003e and then \u003ccode\u003eresume\u003c/code\u003e it, which is what\nyou would do with a \u003ccode\u003eReadStream\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eserver.requestHandler(request -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (request.method() == HttpMethod.POST) {\n\n    \u003cspan class=\"hljs-comment\"\u003e// Stop receiving buffers\u003c/span\u003e\n    request.pause();\n\n    checkAuth(res -\u0026gt; {\n\n      \u003cspan class=\"hljs-comment\"\u003e// Now we can receive buffers again\u003c/span\u003e\n      request.resume();\n\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n        Flowable\u0026lt;Buffer\u0026gt; flowable = request.toFlowable();\n        flowable.subscribe(buff -\u0026gt; {\n          \u003cspan class=\"hljs-comment\"\u003e// Get buffers\u003c/span\u003e\n        });\n      }\n    });\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eLikewise it is possible to turn an existing \u003ccode\u003eFlowable\u003c/code\u003e into a Vert.x \u003ccode\u003eReadStream\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/FlowableHelper.html#toReadStream-io.reactivex.Flowable-\"\u003eFlowableHelper.toReadStream\u003c/a\u003e\u003c/code\u003e  static methods convert\na \u003ccode\u003eFlowable\u003c/code\u003e to a Vert.x read stream:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eFlowable\u0026lt;Buffer\u0026gt; observable = getFlowable();\nReadStream\u0026lt;Buffer\u0026gt; readStream = FlowableHelper.toReadStream(observable);\nPump pump = Pump.pump(readStream, response);\npump.start();\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_write_stream_support\"\u003e\u003ca class=\"anchor\" href=\"#_write_stream_support\"\u003e\u003c/a\u003eWrite stream support\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eA \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/streams/WriteStream.html\"\u003eWriteStream\u003c/a\u003e\u003c/code\u003e, like a \u003ccode\u003eorg.reactivestreams.Subscriber\u003c/code\u003e, consumes items, and, when it can\u0026#8217;t keep-up, collaborates with the producer to avoid an ever-growing backlog.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x provides the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/WriteStreamSubscriber.html\"\u003eWriteStreamSubscriber\u003c/a\u003e\u003c/code\u003e adapter that you can use to send \u003ccode\u003eFlowable\u003c/code\u003e items to any \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/streams/WriteStream.html\"\u003eWriteStream\u003c/a\u003e\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"title\"\u003eSending buffers to an HTTP server response\u003c/div\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eresponse.setChunked(\u003cspan class=\"hljs-keyword\"\u003etrue\u003c/span\u003e);\nWriteStreamSubscriber\u0026lt;io.vertx.core.buffer.Buffer\u0026gt; subscriber = io.vertx.reactivex.RxHelper.toSubscriber(response);\nflowable.subscribe(subscriber);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock tip\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003eTip\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\nThere is also a \u003ccode\u003eio.vertx.reactivex.WriteStreamObserver\u003c/code\u003e adapter for the non-backpressured \u003ccode\u003eio.reactivex.Observable\u003c/code\u003e.\nThe difference is that this adapter will send items to the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/streams/WriteStream.html\"\u003eWriteStream\u003c/a\u003e\u003c/code\u003e even when it can\u0026#8217;t keep-up with the producer rate.\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf you are progamming with the \u003cem\u003eRxified\u003c/em\u003e Vert.x API, the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/streams/WriteStream.html\"\u003eWriteStream\u003c/a\u003e\u003c/code\u003e implementations provide a \u003ccode\u003etoSubscriber\u003c/code\u003e method.\nThe previous example then becomes even more straightforward:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eresponse.setChunked(\u003cspan class=\"hljs-keyword\"\u003etrue\u003c/span\u003e);\nflowable.subscribe(response.toSubscriber());\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock note\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003eNote\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\nWhen the \u003ccode\u003eFlowable\u003c/code\u003e terminates successfully, the adapter invokes the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/streams/WriteStream.html#end--\"\u003eend\u003c/a\u003e\u003c/code\u003e method.\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock caution\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003eCaution\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\nThe adapter sets the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/streams/WriteStream.html\"\u003eWriteStream\u003c/a\u003e\u003c/code\u003e \u003ccode\u003edrain\u003c/code\u003e and \u003ccode\u003eexception\u003c/code\u003e handlers, so don\u0026#8217;t use them after subscribing.\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/WriteStreamSubscriber.html\"\u003eWriteStreamSubscriber\u003c/a\u003e\u003c/code\u003e adapter is able to invoke callbacks when:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003ethe \u003ccode\u003eFlowable\u003c/code\u003e terminates with an error, or\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ethe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/streams/WriteStream.html\"\u003eWriteStream\u003c/a\u003e\u003c/code\u003e fails (e.g. HTTP connection is closed or filesystem is full), or\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ethe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/streams/WriteStream.html\"\u003eWriteStream\u003c/a\u003e\u003c/code\u003e ends (i.e. all writes done and file is closed), or\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ethe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/streams/WriteStream.html\"\u003eWriteStream\u003c/a\u003e\u003c/code\u003e ends with an error (i.e. all writes done and an error occured when closing the file)\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis allows for a more robust program design, as well as scheduling other tasks after the stream has been handled:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eresponse.setChunked(\u003cspan class=\"hljs-keyword\"\u003etrue\u003c/span\u003e);\n\nWriteStreamSubscriber\u0026lt;Buffer\u0026gt; subscriber = response.toSubscriber();\n\nsubscriber.onError(throwable -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!response.headWritten() \u0026amp;\u0026amp; response.closed()) {\n    response.setStatusCode(\u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e).end(\u003cspan class=\"hljs-string\"\u003e\"oops\"\u003c/span\u003e);\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// log error\u003c/span\u003e\n  }\n});\n\nsubscriber.onWriteStreamError(throwable -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// log error\u003c/span\u003e\n});\n\nsubscriber.onWriteStreamEnd(() -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// log end of transaction to audit system...\u003c/span\u003e\n});\n\nflowable.subscribe(subscriber);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock note\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003eNote\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\nIf the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/streams/WriteStream.html\"\u003eWriteStream\u003c/a\u003e\u003c/code\u003e fails, the adapter cancels the \u003ccode\u003eorg.reactivestreams.Subscription\u003c/code\u003e.\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_async_result_support\"\u003e\u003ca class=\"anchor\" href=\"#_async_result_support\"\u003e\u003c/a\u003eAsync result support\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can create an RxJava \u003ccode\u003eObserver\u003c/code\u003e from an existing Vert.x \u003ccode\u003eHandler\u0026lt;AsyncResult\u0026lt;T\u0026gt;\u0026gt;\u003c/code\u003e and subscribe\nit:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eHandler\u0026lt;AsyncResult\u0026lt;String\u0026gt;\u0026gt; handler = getHandler();\n\n\u003cspan class=\"hljs-comment\"\u003e// Subscribe to a Single\u003c/span\u003e\nSingle.just(\u003cspan class=\"hljs-string\"\u003e\"hello\"\u003c/span\u003e).subscribe(SingleHelper.toObserver(handler));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eHandler\u0026lt;AsyncResult\u0026lt;String\u0026gt;\u0026gt; handler = getHandler();\n\n\u003cspan class=\"hljs-comment\"\u003e// Subscribe to a Single\u003c/span\u003e\nMaybe.just(\u003cspan class=\"hljs-string\"\u003e\"hello\"\u003c/span\u003e).subscribe(MaybeHelper.toObserver(handler));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eHandler\u0026lt;AsyncResult\u0026lt;Void\u0026gt;\u0026gt; handler = getHandler();\n\n\u003cspan class=\"hljs-comment\"\u003e// Subscribe to a Single\u003c/span\u003e\nCompletable.complete().subscribe(CompletableHelper.toObserver(handler));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003cem\u003eRxified\u003c/em\u003e Vert.x API duplicates each such method with the \u003ccode\u003erx\u003c/code\u003e prefix that returns an RxJava \u003ccode\u003eSingle\u003c/code\u003e,\n\u003ccode\u003eMaybe\u003c/code\u003e or \u003ccode\u003eCompletable\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eSingle\u0026lt;HttpServer\u0026gt; single = vertx\n  .createHttpServer()\n  .rxListen(\u003cspan class=\"hljs-number\"\u003e1234\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"localhost\"\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Subscribe to bind the server\u003c/span\u003e\nsingle.\n    subscribe(\n        server -\u0026gt; {\n          \u003cspan class=\"hljs-comment\"\u003e// Server is listening\u003c/span\u003e\n        },\n        failure -\u0026gt; {\n          \u003cspan class=\"hljs-comment\"\u003e// Server could not start\u003c/span\u003e\n        }\n    );\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eSuch single are \u003cstrong\u003ecold\u003c/strong\u003e singles, and the corresponding API method is called on subscribe.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003eMaybe\u003c/code\u003e can produce a result or no result:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eDnsClient client = vertx.createDnsClient(dnsPort, dnsHost);\n\n\u003cspan class=\"hljs-comment\"\u003e// Obtain a maybe that performs the actual reverse lookup on subscribe\u003c/span\u003e\nMaybe\u0026lt;String\u0026gt; maybe = client.rxReverseLookup(ipAddress);\n\n\u003cspan class=\"hljs-comment\"\u003e// Subscribe to perform the lookup\u003c/span\u003e\nmaybe.\n  subscribe(\n    name -\u0026gt; {\n      \u003cspan class=\"hljs-comment\"\u003e// Lookup produced a result\u003c/span\u003e\n    },\n    failure -\u0026gt; {\n      \u003cspan class=\"hljs-comment\"\u003e// Lookup failed\u003c/span\u003e\n    },\n    () -\u0026gt; {\n      \u003cspan class=\"hljs-comment\"\u003e// Lookup produced no result\u003c/span\u003e\n    }\n  );\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003eCompletable\u003c/code\u003e is usually mapped to \u003ccode\u003eHandler\u0026lt;AsyncResult\u0026lt;Void\u0026gt;\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eCompletable single = server.rxClose();\n\n\u003cspan class=\"hljs-comment\"\u003e// Subscribe to bind the server\u003c/span\u003e\nsingle.\n  subscribe(\n    () -\u0026gt; {\n      \u003cspan class=\"hljs-comment\"\u003e// Server is closed\u003c/span\u003e\n    },\n    failure -\u0026gt; {\n      \u003cspan class=\"hljs-comment\"\u003e// Server closed but encoutered issue\u003c/span\u003e\n    }\n  );\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock tip\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003eTip\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf you cannot use the Vert.x \u003cem\u003eRxified\u003c/em\u003e API or, if you have your own, callback-based, asynchronous methods, Vert.x provides adapters:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/SingleHelper.html#toSingle-java.util.function.Consumer-\"\u003eSingleHelper.toSingle\u003c/a\u003e\u003c/code\u003e,\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/MaybeHelper.html#toMaybe-java.util.function.Consumer-\"\u003eMaybeHelper.toMaybe\u003c/a\u003e\u003c/code\u003e and\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/CompletableHelper.html#toCompletable-java.util.function.Consumer-\"\u003eCompletableHelper.toCompletable\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"title\"\u003eAdapting Vert.x core \u003cem\u003eexecuteBlocking\u003c/em\u003e method\u003c/div\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eMaybe\u0026lt;String\u0026gt; maybe = MaybeHelper.toMaybe(handler -\u0026gt; {\n  vertx.executeBlocking(fut -\u0026gt; fut.complete(invokeBlocking()), handler);\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_scheduler_support\"\u003e\u003ca class=\"anchor\" href=\"#_scheduler_support\"\u003e\u003c/a\u003eScheduler support\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe reactive extension sometimes needs to schedule actions, for instance \u003ccode\u003eFlowable#timer\u003c/code\u003e creates and returns\na timer that emit periodic events. By default, scheduled actions are managed by RxJava, it means that the\ntimer threads are not Vert.x threads and therefore not executing in a Vert.x event loop nor on a Vert.x worker thread.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen an RxJava method deals with a scheduler, it accepts an overloaded method accepting an extra \u003ccode\u003eio.reactivex.Scheduler\u003c/code\u003e,\nthe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/RxHelper.html#scheduler-io.vertx.core.Vertx-\"\u003eRxHelper.scheduler\u003c/a\u003e\u003c/code\u003e  method will return a scheduler that can be used\nin such places.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eScheduler scheduler = RxHelper.scheduler(vertx);\nObservable\u0026lt;Long\u0026gt; timer = Observable.interval(\u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e, TimeUnit.MILLISECONDS, scheduler);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFor blocking scheduled actions, a scheduler can be created with the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/RxHelper.html#blockingScheduler-io.vertx.core.Vertx-\"\u003eRxHelper.blockingScheduler\u003c/a\u003e\u003c/code\u003e\nmethod:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eScheduler scheduler = RxHelper.blockingScheduler(vertx);\nObservable\u0026lt;Long\u0026gt; timer = Observable.interval(\u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e, TimeUnit.MILLISECONDS, scheduler);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eRxJava can also be reconfigured to use the Vert.x scheduler:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eRxJavaPlugins.setComputationSchedulerHandler(s -\u0026gt; RxHelper.scheduler(vertx));\nRxJavaPlugins.setIoSchedulerHandler(s -\u0026gt; RxHelper.blockingScheduler(vertx));\nRxJavaPlugins.setNewThreadSchedulerHandler(s -\u0026gt; RxHelper.scheduler(vertx));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock caution\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003eCaution\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\nRxJava uses the words \u003cem\u003ecomputation\u003c/em\u003e for non-blocking tasks and \u003cem\u003eio\u003c/em\u003e for blocking tasks\nwhich is the opposite of the Vert.x terminology\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003cem\u003eRxified\u003c/em\u003e Vert.x API provides also similar method on the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/RxHelper.html\"\u003eRxHelper\u003c/a\u003e\u003c/code\u003e class:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eScheduler scheduler = RxHelper.scheduler(vertx);\nObservable\u0026lt;Long\u0026gt; timer = Observable.interval(\u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e, TimeUnit.MILLISECONDS, scheduler);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eRxJavaPlugins.setComputationSchedulerHandler(s -\u0026gt; RxHelper.scheduler(vertx));\nRxJavaPlugins.setIoSchedulerHandler(s -\u0026gt; RxHelper.blockingScheduler(vertx));\nRxJavaPlugins.setNewThreadSchedulerHandler(s -\u0026gt; RxHelper.scheduler(vertx));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIt is also possible to create a scheduler backed by a named worker pool. This can be useful if you want to re-use\nthe specific thread pool for scheduling blocking actions:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eScheduler scheduler = RxHelper.blockingScheduler(workerExecutor);\nObservable\u0026lt;Long\u0026gt; timer = Observable.interval(\u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e, TimeUnit.MILLISECONDS, scheduler);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_json_unmarshalling\"\u003e\u003ca class=\"anchor\" href=\"#_json_unmarshalling\"\u003e\u003c/a\u003eJson unmarshalling\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/FlowableHelper.html#unmarshaller-java.lang.Class-\"\u003eFlowableHelper.unmarshaller\u003c/a\u003e\u003c/code\u003e creates an \u003ccode\u003eio.reactivex.rxjava2.FlowableOperator\u003c/code\u003e that\ntransforms an \u003ccode\u003eFlowable\u0026lt;Buffer\u0026gt;\u003c/code\u003e in json format into an object flowable:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003efileSystem.open(\u003cspan class=\"hljs-string\"\u003e\"/data.txt\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e OpenOptions(), result -\u0026gt; {\n  AsyncFile file = result.result();\n  Flowable\u0026lt;Buffer\u0026gt; observable = FlowableHelper.toFlowable(file);\n  observable.compose(FlowableHelper.unmarshaller(MyPojo\u003cspan class=\"hljs-class\"\u003e.\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e)).\u003cspan class=\"hljs-title\"\u003esubscribe\u003c/span\u003e(\n      \u003cspan class=\"hljs-title\"\u003emypojo\u003c/span\u003e -\u0026gt; \u003c/span\u003e{\n        \u003cspan class=\"hljs-comment\"\u003e// Process the object\u003c/span\u003e\n      }\n  );\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe same can be done with the \u003cem\u003eRxified\u003c/em\u003e helper:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003efileSystem.open(\u003cspan class=\"hljs-string\"\u003e\"/data.txt\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e OpenOptions(), result -\u0026gt; {\n  AsyncFile file = result.result();\n  Observable\u0026lt;Buffer\u0026gt; observable = file.toObservable();\n  observable.compose(ObservableHelper.unmarshaller((MyPojo\u003cspan class=\"hljs-class\"\u003e.\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e))).\u003cspan class=\"hljs-title\"\u003esubscribe\u003c/span\u003e(\n    \u003cspan class=\"hljs-title\"\u003emypojo\u003c/span\u003e -\u0026gt; \u003c/span\u003e{\n      \u003cspan class=\"hljs-comment\"\u003e// Process the object\u003c/span\u003e\n    }\n  );\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_deploying_a_verticle\"\u003e\u003ca class=\"anchor\" href=\"#_deploying_a_verticle\"\u003e\u003c/a\u003eDeploying a Verticle\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo deploy existing Verticle instances, you can use \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/RxHelper.html#deployVerticle-io.vertx.reactivex.core.Vertx-io.vertx.core.Verticle-\"\u003eRxHelper.deployVerticle\u003c/a\u003e\u003c/code\u003e\n, it deploys a \u003ccode\u003eVerticle\u003c/code\u003e and returns an \u003ccode\u003eSingle\u0026lt;String\u0026gt;\u003c/code\u003e of the deployment ID.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eSingle\u0026lt;String\u0026gt; deployment = RxHelper.deployVerticle(vertx, verticle);\n\ndeployment.subscribe(id -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Deployed\u003c/span\u003e\n}, err -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Could not deploy\u003c/span\u003e\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch1 id=\"_rxified_api\" class=\"sect0\"\u003e\u003ca class=\"anchor\" href=\"#_rxified_api\"\u003e\u003c/a\u003eRxified API\u003c/h1\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003cem\u003eRxified\u003c/em\u003e API is a code generated version of the Vert.x API, just like the \u003cem\u003eJavaScript\u003c/em\u003e or \u003cem\u003eGroovy\u003c/em\u003e\nlanguage. The API uses the \u003ccode\u003eio.vertx.rxjava\u003c/code\u003e prefix, for instance the \u003ccode\u003eio.vertx.core.Vertx\u003c/code\u003e class is\ntranslated to the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/Vertx.html\"\u003eVertx\u003c/a\u003e\u003c/code\u003e class.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_embedding_rxfified_vert_x\"\u003e\u003ca class=\"anchor\" href=\"#_embedding_rxfified_vert_x\"\u003e\u003c/a\u003eEmbedding Rxfified Vert.x\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eJust use the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/Vertx.html#vertx--\"\u003eVertx.vertx\u003c/a\u003e\u003c/code\u003e methods:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eVertx vertx = io.vertx.reactivex.core.Vertx.vertx();\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_as_a_verticle\"\u003e\u003ca class=\"anchor\" href=\"#_as_a_verticle\"\u003e\u003c/a\u003eAs a Verticle\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eExtend the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/AbstractVerticle.html\"\u003eAbstractVerticle\u003c/a\u003e\u003c/code\u003e class, it will wrap it for you:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyVerticle\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eio\u003c/span\u003e.\u003cspan class=\"hljs-title\"\u003evertx\u003c/span\u003e.\u003cspan class=\"hljs-title\"\u003ereactivex\u003c/span\u003e.\u003cspan class=\"hljs-title\"\u003ecore\u003c/span\u003e.\u003cspan class=\"hljs-title\"\u003eAbstractVerticle\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003estart\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-comment\"\u003e// Use Rxified Vertx here\u003c/span\u003e\n  }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eDeploying an RxJava verticle is still performed by the Java deployer and does not need a specified\ndeployer.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVerticles having an asynchronous start can override instead the \u003ccode\u003erxStart\u003c/code\u003e method and return a \u003ccode\u003eCompletable\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyVerticle\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eio\u003c/span\u003e.\u003cspan class=\"hljs-title\"\u003evertx\u003c/span\u003e.\u003cspan class=\"hljs-title\"\u003ereactivex\u003c/span\u003e.\u003cspan class=\"hljs-title\"\u003ecore\u003c/span\u003e.\u003cspan class=\"hljs-title\"\u003eAbstractVerticle\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e Completable \u003cspan class=\"hljs-title\"\u003erxStart\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e vertx.createHttpServer()\n      .requestHandler(req -\u0026gt; req.response().end(\u003cspan class=\"hljs-string\"\u003e\"Hello World\"\u003c/span\u003e))\n      .rxListen()\n      .toCompletable();\n  }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_api_examples\"\u003e\u003ca class=\"anchor\" href=\"#_api_examples\"\u003e\u003c/a\u003eApi examples\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eLet\u0026#8217;s study now a few examples of using Vert.x with RxJava.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_eventbus_message_stream\"\u003e\u003ca class=\"anchor\" href=\"#_eventbus_message_stream\"\u003e\u003c/a\u003eEventBus message stream\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe event bus \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/eventbus/MessageConsumer.html\"\u003eMessageConsumer\u003c/a\u003e\u003c/code\u003e provides naturally an \u003ccode\u003eObservable\u0026lt;Message\u0026lt;T\u0026gt;\u0026gt;\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eEventBus eb = vertx.eventBus();\nMessageConsumer\u0026lt;String\u0026gt; consumer = eb.\u0026lt;String\u0026gt;consumer(\u003cspan class=\"hljs-string\"\u003e\"the-address\"\u003c/span\u003e);\nObservable\u0026lt;Message\u0026lt;String\u0026gt;\u0026gt; observable = consumer.toObservable();\nDisposable sub = observable.subscribe(msg -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Got message\u003c/span\u003e\n});\n\n\u003cspan class=\"hljs-comment\"\u003e// Unregisters the stream after 10 seconds\u003c/span\u003e\nvertx.setTimer(\u003cspan class=\"hljs-number\"\u003e10000\u003c/span\u003e, id -\u0026gt; {\n  sub.dispose();\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/eventbus/MessageConsumer.html\"\u003eMessageConsumer\u003c/a\u003e\u003c/code\u003e provides a stream of \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/eventbus/Message.html\"\u003eMessage\u003c/a\u003e\u003c/code\u003e.\nThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/eventbus/Message.html#body--\"\u003ebody\u003c/a\u003e\u003c/code\u003e gives access to a new stream of message bodies if needed:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eEventBus eb = vertx.eventBus();\nMessageConsumer\u0026lt;String\u0026gt; consumer = eb.\u0026lt;String\u0026gt;consumer(\u003cspan class=\"hljs-string\"\u003e\"the-address\"\u003c/span\u003e);\nObservable\u0026lt;String\u0026gt; observable = consumer.bodyStream().toObservable();\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eRxJava map/reduce composition style can then be used:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eObservable\u0026lt;Double\u0026gt; observable = vertx.eventBus().\n    \u0026lt;Double\u0026gt;consumer(\u003cspan class=\"hljs-string\"\u003e\"heat-sensor\"\u003c/span\u003e).\n    bodyStream().\n    toObservable();\n\nobservable.\n    buffer(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, TimeUnit.SECONDS).\n    map(samples -\u0026gt; samples.\n        stream().\n        collect(Collectors.averagingDouble(d -\u0026gt; d))).\n    subscribe(heat -\u0026gt; {\n      vertx.eventBus().send(\u003cspan class=\"hljs-string\"\u003e\"news-feed\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"Current heat is \"\u003c/span\u003e + heat);\n    });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_timers\"\u003e\u003ca class=\"anchor\" href=\"#_timers\"\u003e\u003c/a\u003eTimers\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTimer task can be created with \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/Vertx.html#timerStream-long-\"\u003etimerStream\u003c/a\u003e\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003evertx.timerStream(\u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e).\n    toObservable().\n    subscribe(\n        id -\u0026gt; {\n          System.out.println(\u003cspan class=\"hljs-string\"\u003e\"Callback after 1 second\"\u003c/span\u003e);\n        }\n    );\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003ePeriodic task can be created with \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/Vertx.html#periodicStream-long-\"\u003eperiodicStream\u003c/a\u003e\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003evertx.periodicStream(\u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e).\n    toObservable().\n    subscribe(\n        id -\u0026gt; {\n          System.out.println(\u003cspan class=\"hljs-string\"\u003e\"Callback every second\"\u003c/span\u003e);\n        }\n    );\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe observable can be cancelled with an unsubscription:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003evertx.periodicStream(\u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e).\n    toObservable().\n    subscribe(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e Observer\u0026lt;Long\u0026gt;() {\n      \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e Disposable sub;\n      \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eonSubscribe\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(@NonNull Disposable d)\u003c/span\u003e \u003c/span\u003e{\n        sub = d;\n      }\n      \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eonNext\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Long aLong)\u003c/span\u003e \u003c/span\u003e{\n        \u003cspan class=\"hljs-comment\"\u003e// Callback\u003c/span\u003e\n        sub.dispose();\n      }\n      \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eonError\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Throwable e)\u003c/span\u003e \u003c/span\u003e{}\n      \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eonComplete\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{}\n    });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_http_client_requests\"\u003e\u003ca class=\"anchor\" href=\"#_http_client_requests\"\u003e\u003c/a\u003eHttp client requests\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWe recommend to use the \u003ca href=\"http://vertx.io/docs/vertx-web-client/java/#_rxjava_api\"\u003eVert.x Web Client\u003c/a\u003e with RxJava.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_http_server_requests\"\u003e\u003ca class=\"anchor\" href=\"#_http_server_requests\"\u003e\u003c/a\u003eHttp server requests\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/http/HttpServer.html#requestStream--\"\u003erequestStream\u003c/a\u003e\u003c/code\u003e provides a callback for each incoming\nrequest:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eObservable\u0026lt;HttpServerRequest\u0026gt; requestObservable = server.requestStream().toObservable();\nrequestObservable.subscribe(request -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Process request\u003c/span\u003e\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/http/HttpServerRequest.html\"\u003eHttpServerRequest\u003c/a\u003e\u003c/code\u003e can then be adapted to an \u003ccode\u003eObservable\u0026lt;Buffer\u0026gt;\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eObservable\u0026lt;HttpServerRequest\u0026gt; requestObservable = server.requestStream().toObservable();\nrequestObservable.subscribe(request -\u0026gt; {\n  Observable\u0026lt;Buffer\u0026gt; observable = request.toObservable();\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/ObservableHelper.html#unmarshaller-java.lang.Class-\"\u003eObservableHelper.unmarshaller\u003c/a\u003e\u003c/code\u003e can be used to parse and map\na json request to an object:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eObservable\u0026lt;HttpServerRequest\u0026gt; requestObservable = server.requestStream().toObservable();\nrequestObservable.subscribe(request -\u0026gt; {\n  Observable\u0026lt;MyPojo\u0026gt; observable = request.\n    toObservable().\n    compose(io.vertx.reactivex.core.ObservableHelper.unmarshaller(MyPojo\u003cspan class=\"hljs-class\"\u003e.\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e))\u003c/span\u003e;\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_websocket_client\"\u003e\u003ca class=\"anchor\" href=\"#_websocket_client\"\u003e\u003c/a\u003eWebsocket client\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/http/HttpClient.html#rxWebSocket-int-java.lang.String-java.lang.String-\"\u003erxWebSocket\u003c/a\u003e\u003c/code\u003e provides a single callback when the websocket\nconnects, otherwise a failure:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eHttpClient client = vertx.createHttpClient(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e HttpClientOptions());\nclient.rxWebSocket(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"localhost\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"/the_uri\"\u003c/span\u003e).subscribe(\n    ws -\u0026gt; {\n      \u003cspan class=\"hljs-comment\"\u003e// Use the websocket\u003c/span\u003e\n    },\n    error -\u0026gt; {\n      \u003cspan class=\"hljs-comment\"\u003e// Could not connect\u003c/span\u003e\n    }\n);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/http/WebSocket.html\"\u003eWebSocket\u003c/a\u003e\u003c/code\u003e can then be turned into an \u003ccode\u003eObservable\u0026lt;Buffer\u0026gt;\u003c/code\u003e easily:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003esocketObservable.subscribe(\n    socket -\u0026gt; {\n      Flowable\u0026lt;Buffer\u0026gt; dataObs = socket.toFlowable();\n      dataObs.subscribe(buffer -\u0026gt; {\n        System.out.println(\u003cspan class=\"hljs-string\"\u003e\"Got message \"\u003c/span\u003e + buffer.toString(\u003cspan class=\"hljs-string\"\u003e\"UTF-8\"\u003c/span\u003e));\n      });\n    }\n);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_websocket_server\"\u003e\u003ca class=\"anchor\" href=\"#_websocket_server\"\u003e\u003c/a\u003eWebsocket server\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/reactivex/core/http/HttpServer.html#websocketStream--\"\u003ewebsocketStream\u003c/a\u003e\u003c/code\u003e provides a callback for each incoming\nconnection:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eObservable\u0026lt;ServerWebSocket\u0026gt; socketObservable = server.websocketStream().toObservable();\nsocketObservable.subscribe(\n    socket -\u0026gt; System.out.println(\u003cspan class=\"hljs-string\"\u003e\"Web socket connect\"\u003c/span\u003e),\n    failure -\u0026gt; System.out.println(\u003cspan class=\"hljs-string\"\u003e\"Should never be called\"\u003c/span\u003e),\n    () -\u0026gt; {\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\"Subscription ended or server closed\"\u003c/span\u003e);\n    }\n);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/http/ServerWebSocket.html\"\u003eServerWebSocket\u003c/a\u003e\u003c/code\u003e can be turned into an \u003ccode\u003eObservable\u0026lt;Buffer\u0026gt;\u003c/code\u003e easily:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003esocketObservable.subscribe(\n    socket -\u0026gt; {\n      Observable\u0026lt;Buffer\u0026gt; dataObs = socket.toObservable();\n      dataObs.subscribe(buffer -\u0026gt; {\n        System.out.println(\u003cspan class=\"hljs-string\"\u003e\"Got message \"\u003c/span\u003e + buffer.toString(\u003cspan class=\"hljs-string\"\u003e\"UTF-8\"\u003c/span\u003e));\n      });\n    }\n);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e","version":"3.9.1"},"__N_SSG":true},"page":"/docs/[[...slug]]","query":{"slug":["3.9.1","vertx-rx","java2"]},"buildId":"D20Fcx-FR9X8CwgKxXrRx","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-7cde6f5ea12aaa40097b.js"></script><script src="/_next/static/chunks/main-b6e20584df76f29b6f35.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/framework.fcef98db13e2318579fb.js" async=""></script><script src="/_next/static/chunks/commons.5b8771ac6e8a338f82f1.js" async=""></script><script src="/_next/static/chunks/styles.6a5cc0a07ce13c54adf1.js" async=""></script><script src="/_next/static/chunks/pages/_app-3dbbc9c041333077c167.js" async=""></script><script src="/_next/static/chunks/5e2acbba0c73eb7c5c0e969bcd552d3808de9969.4d0eb9c3d4239c66cc89.js" async=""></script><script src="/_next/static/chunks/31acfd8439b7c9eee4abe9f59c7500d6c943ee0d.46f4cf2c4741679ce3eb.js" async=""></script><script src="/_next/static/chunks/pages/docs/%5B%5B...slug%5D%5D-a0e26e250e9304ae7812.js" async=""></script><script src="/_next/static/D20Fcx-FR9X8CwgKxXrRx/_buildManifest.js" async=""></script><script src="/_next/static/D20Fcx-FR9X8CwgKxXrRx/_ssgManifest.js" async=""></script></body></html>