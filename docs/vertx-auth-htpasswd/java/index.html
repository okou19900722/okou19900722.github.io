<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><title>htpasswd Auth Provider implementation</title><meta name="next-head-count" content="9"/><link rel="preload" href="/_next/static/css/styles.2c752e2b.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.2c752e2b.chunk.css"/><link rel="preload" href="/_next/static/uINhlFaaeZ7oHJQHItuyc/pages/docs/%5B...slug%5D.js" as="script"/><link rel="preload" href="/_next/static/uINhlFaaeZ7oHJQHItuyc/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-9369c5c69dbf6d4912cb.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.2452a08f25aa09397355.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.5e3e47f192c8968126d4.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.b4ddf347654b9147042b.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-590ad82901df6081bdd1.js" as="script"/><link rel="preload" href="/_next/static/chunks/ccd128d478021486d53f458e94893ecba2a059e1.a45d4def287f6d9b5832.js" as="script"/></head><body><div id="__next"><main class="page docs"><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4="/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><a class="navbar-menu-item" href="/">Ecosystem</a><a class="navbar-menu-item" href="/docs/">Docs</a><a class="navbar-menu-item" href="/">FAQ</a><a class="navbar-menu-item" href="/">Blog</a><a class="navbar-menu-item" href="/">Community</a></div><div class="navbar-social"><span class="navbar-social-version">v4.0.0</span><a href="https://www.youtube.com/results?search_query=vert.x" class="navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M23.495 6.205a3.007 3.007 0 0 0-2.088-2.088c-1.87-.501-9.396-.501-9.396-.501s-7.507-.01-9.396.501A3.007 3.007 0 0 0 .527 6.205a31.247 31.247 0 0 0-.522 5.805 31.247 31.247 0 0 0 .522 5.783 3.007 3.007 0 0 0 2.088 2.088c1.868.502 9.396.502 9.396.502s7.506 0 9.396-.502a3.007 3.007 0 0 0 2.088-2.088 31.247 31.247 0 0 0 .5-5.783 31.247 31.247 0 0 0-.5-5.805zM9.609 15.601V8.408l6.264 3.602z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" class="navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="https://gitter.im/eclipse-vertx/vertx-users" class="navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M8.501 4.001H10.5V24H8.501V4.001zm6.999 0V24h-2V4.001h2zM3.5 0h2.001v15H3.5V0zm15 4.001h2V15h-2V4.001z"></path></svg></a></div></div></div></div></header><div class="page-content docs-content"><div class="container"><div class="search-panel"><div class="search"><input type="text" placeholder="Search..." value=""/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon-delete"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg></div></div><div><div class=""><div class="docs-content-inner"><div class="sect1">
<h2 id="_htpasswd_auth_provider_implementation">htpasswd Auth Provider implementation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>&lt;p&gt;
We provide an implementation of <code><a href="../../apidocs/io/vertx/ext/auth/AuthProvider.html">AuthProvider</a></code> which uses the Apache htpasswd file format
to perform authentication. The provider will not watch for updates to the file after loading. If you need dynamic
user management it would be more convenient to use dynamic providers such as jdbc or mongo providers.
&lt;p&gt;
To use this project, add the following
dependency to the <em>dependencies</em> section of your build descriptor:
&lt;p&gt;
* Maven (in your <code>pom.xml</code>):
&lt;p&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-auth-htpasswd<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.0-milestone4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>&lt;p&gt;
* Gradle (in your <code>build.gradle</code> file):
&lt;p&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">'io.vertx:vertx-auth-htpasswd:4.0.0-milestone4'</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>&lt;p&gt;
To create an instance you first need an htpasswd file. This file is created using the apache htpasswd tool.
&lt;p&gt;
Once you&#8217;ve got one of these you can create a <code><a href="../../apidocs/io/vertx/ext/auth/htpasswd/HtpasswdAuth.html">HtpasswdAuth</a></code> instance as follows:
&lt;p&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">HtpasswdAuth authProvider = HtpasswdAuth.create(vertx, <span class="hljs-keyword">new</span> HtpasswdAuthOptions());</code></pre>
</div>
</div>
<div class="paragraph">
<p>&lt;p&gt;
Once you&#8217;ve got your instance you can authenticate with it just like any <code><a href="../../apidocs/io/vertx/ext/auth/AuthProvider.html">AuthProvider</a></code>.
&lt;p&gt;
The out of the box config assumes the usage of the file htpasswd in the root of the project.
&lt;p&gt;
== Provider internal behavior
&lt;p&gt;
The provider will load the specified htpasswd file at start time and will not watch for modifications. If you
require dynamic reloads, you will need to restart the provider.
&lt;p&gt;
The implementation does not have any other state than the htpasswd file itself.
&lt;p&gt;
== Authentication
&lt;p&gt;
When authenticating using this implementation, it assumes that the username and password are parsed as a JSON
object which we refer from now on as authentication info:
&lt;p&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">JsonObject authInfo = <span class="hljs-keyword">new</span> JsonObject()
  .put(<span class="hljs-string">"username"</span>, <span class="hljs-string">"someUser"</span>)
  .put(<span class="hljs-string">"password"</span>, <span class="hljs-string">"somePassword"</span>);

authProvider.authenticate(authInfo, res -&gt; {
  <span class="hljs-keyword">if</span> (res.succeeded()) {
    User user = res.result();
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Failed!</span>
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>&lt;p&gt;
== Autorization
&lt;p&gt;
Apache htpasswd file is a pure authentication mechanism and not authorization. This means that permission checks will always be <code>false</code>.</p>
</div>
</div>
</div></div></div></div></div></div><footer></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"htpasswd Auth Provider implementation","contents":"\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_htpasswd_auth_provider_implementation\"\u003ehtpasswd Auth Provider implementation\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u0026lt;p\u0026gt;\nWe provide an implementation of \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/auth/AuthProvider.html\"\u003eAuthProvider\u003c/a\u003e\u003c/code\u003e which uses the Apache htpasswd file format\nto perform authentication. The provider will not watch for updates to the file after loading. If you need dynamic\nuser management it would be more convenient to use dynamic providers such as jdbc or mongo providers.\n\u0026lt;p\u0026gt;\nTo use this project, add the following\ndependency to the \u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\n\u0026lt;p\u0026gt;\n* Maven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\n\u0026lt;p\u0026gt;\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-auth-htpasswd\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e4.0.0-milestone4\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u0026lt;p\u0026gt;\n* Gradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\n\u0026lt;p\u0026gt;\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-auth-htpasswd:4.0.0-milestone4'\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u0026lt;p\u0026gt;\nTo create an instance you first need an htpasswd file. This file is created using the apache htpasswd tool.\n\u0026lt;p\u0026gt;\nOnce you\u0026#8217;ve got one of these you can create a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/auth/htpasswd/HtpasswdAuth.html\"\u003eHtpasswdAuth\u003c/a\u003e\u003c/code\u003e instance as follows:\n\u0026lt;p\u0026gt;\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eHtpasswdAuth authProvider = HtpasswdAuth.create(vertx, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e HtpasswdAuthOptions());\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u0026lt;p\u0026gt;\nOnce you\u0026#8217;ve got your instance you can authenticate with it just like any \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/auth/AuthProvider.html\"\u003eAuthProvider\u003c/a\u003e\u003c/code\u003e.\n\u0026lt;p\u0026gt;\nThe out of the box config assumes the usage of the file htpasswd in the root of the project.\n\u0026lt;p\u0026gt;\n== Provider internal behavior\n\u0026lt;p\u0026gt;\nThe provider will load the specified htpasswd file at start time and will not watch for modifications. If you\nrequire dynamic reloads, you will need to restart the provider.\n\u0026lt;p\u0026gt;\nThe implementation does not have any other state than the htpasswd file itself.\n\u0026lt;p\u0026gt;\n== Authentication\n\u0026lt;p\u0026gt;\nWhen authenticating using this implementation, it assumes that the username and password are parsed as a JSON\nobject which we refer from now on as authentication info:\n\u0026lt;p\u0026gt;\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eJsonObject authInfo = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n  .put(\u003cspan class=\"hljs-string\"\u003e\"username\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"someUser\"\u003c/span\u003e)\n  .put(\u003cspan class=\"hljs-string\"\u003e\"password\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"somePassword\"\u003c/span\u003e);\n\nauthProvider.authenticate(authInfo, res -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n    User user = res.result();\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// Failed!\u003c/span\u003e\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u0026lt;p\u0026gt;\n== Autorization\n\u0026lt;p\u0026gt;\nApache htpasswd file is a pure authentication mechanism and not authorization. This means that permission checks will always be \u003ccode\u003efalse\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e"},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["vertx-auth-htpasswd","java"]},"buildId":"uINhlFaaeZ7oHJQHItuyc","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/runtime/polyfills-c8375bd94e53fd10a8dd.js"></script><script async="" data-next-page="/docs/[...slug]" src="/_next/static/uINhlFaaeZ7oHJQHItuyc/pages/docs/%5B...slug%5D.js"></script><script async="" data-next-page="/_app" src="/_next/static/uINhlFaaeZ7oHJQHItuyc/pages/_app.js"></script><script src="/_next/static/runtime/webpack-9369c5c69dbf6d4912cb.js" async=""></script><script src="/_next/static/chunks/framework.2452a08f25aa09397355.js" async=""></script><script src="/_next/static/chunks/commons.5e3e47f192c8968126d4.js" async=""></script><script src="/_next/static/chunks/styles.b4ddf347654b9147042b.js" async=""></script><script src="/_next/static/runtime/main-590ad82901df6081bdd1.js" async=""></script><script src="/_next/static/chunks/ccd128d478021486d53f458e94893ecba2a059e1.a45d4def287f6d9b5832.js" async=""></script><script src="/_next/static/uINhlFaaeZ7oHJQHItuyc/_buildManifest.js" async=""></script><script src="/_next/static/uINhlFaaeZ7oHJQHItuyc/_ssgManifest.js" async=""></script></body></html>