<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><title>Vert.x SockJS Service Proxy</title><meta name="next-head-count" content="9"/><link rel="preload" href="/_next/static/css/styles.9a6ebcf2.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.9a6ebcf2.chunk.css"/><link rel="preload" href="/_next/static/o4Lu-3JmB8pFFN6I7-g62/pages/docs/%5B...slug%5D.js" as="script"/><link rel="preload" href="/_next/static/o4Lu-3JmB8pFFN6I7-g62/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-9369c5c69dbf6d4912cb.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.2452a08f25aa09397355.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.5e3e47f192c8968126d4.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.a536770b8a7efd3f31c6.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-82853df24da4e8dbe047.js" as="script"/><link rel="preload" href="/_next/static/chunks/fc4f82d59db6b67e4b4bae53aafd91612399d6d1.c1ef14f95bc9470df0df.js" as="script"/></head><body><div id="__next"><main><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4="/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><a class="navbar-menu-item" href="/">Ecosystem</a><a class="navbar-menu-item" href="/docs/">Docs</a><a class="navbar-menu-item" href="/">FAQ</a><a class="navbar-menu-item" href="/">Blog</a><a class="navbar-menu-item" href="/">Community</a></div><div class="navbar-social"><a href="/" class="navbar-social-link navbar-social-version">v4.0.0</a><a href="/" class="navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M23.495 6.205a3.007 3.007 0 0 0-2.088-2.088c-1.87-.501-9.396-.501-9.396-.501s-7.507-.01-9.396.501A3.007 3.007 0 0 0 .527 6.205a31.247 31.247 0 0 0-.522 5.805 31.247 31.247 0 0 0 .522 5.783 3.007 3.007 0 0 0 2.088 2.088c1.868.502 9.396.502 9.396.502s7.506 0 9.396-.502a3.007 3.007 0 0 0 2.088-2.088 31.247 31.247 0 0 0 .5-5.783 31.247 31.247 0 0 0-.5-5.805zM9.609 15.601V8.408l6.264 3.602z"></path></svg></a><a href="/" class="navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="/" class="navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M8.501 4.001H10.5V24H8.501V4.001zm6.999 0V24h-2V4.001h2zM3.5 0h2.001v15H3.5V0zm15 4.001h2V15h-2V4.001z"></path></svg></a></div></div></div></div></header><div class="page"><div class="container"><div><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_using_vert_x_sockjs_service_proxy">Using Vert.x SockJS Service Proxy</a></li>
<li><a href="#_consuming_your_service_from_a_browser_or_from_node_js">Consuming your service from a browser or from Node.js</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>When you compose a vert.x application, you may want to isolate a functionality somewhere and make it available to
the rest of your application. That&#8217;s the main purpose of service proxies. It lets you expose a <em>service</em> on the
event bus, so, any other vert.x component can consume it, as soon as they know the <em>address</em> on which the service
is published. This is achieved by the vert.x service proxies. However, vert.x service clients, form the bare vert
.x service proxies, cannot be consumed from your browser or from node.js. Vert.x SockJS Service Proxy generates
service clients that you can use from your browser or from a node.js application. These clients rely on the
SockJS bridge that propagate events from the vert.x event bus to / from SockJS.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_vert_x_sockjs_service_proxy">Using Vert.x SockJS Service Proxy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use the Vert.x SockJS Service Proxy, add the following dependencies to the <em>dependencies</em> section of
your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-sockjs-service-proxy<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.0-milestone4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-service-proxy<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${vertx.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">'io.vertx:vertx-sockjs-service-proxy:4.0.0-milestone4'</span>
compile <span class="hljs-string">'io.vertx:vertx-service-proxy:${vertx.version}'</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Be aware that as the service proxy mechanism relies on code generation, so modifications to the <em>service interface</em>
require to re-compile the sources to regenerate the code.</p>
</div>
<div class="paragraph">
<p>Before going further you should check how to use <code>vertx-service-proxies</code> from the
<a href="http://vertx.io/docs/vertx-service-proxy/java">documentation page</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_consuming_your_service_from_a_browser_or_from_node_js">Consuming your service from a browser or from Node.js</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The previous section has shown how you can create a service proxy in Java. However, you can consume your service
directly from your browser or from a node.js application using a SockJS-based proxy.</p>
</div>
<div class="paragraph">
<p>First, you need to configure the SockJS bridge, in order to let the proxy communicate with the service. You will
find more details about the SockJS bridge in
<a href="http://vertx.io/docs/vertx-web/java/#_sockjs_event_bus_bridge">vertx-web</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">SomeDatabaseService service = <span class="hljs-keyword">new</span> SomeDatabaseServiceImpl();
<span class="hljs-keyword">new</span> ServiceBinder(vertx)
  .setAddress(<span class="hljs-string">"database-service-address"</span>)
  .register(SomeDatabaseService<span class="hljs-class">.<span class="hljs-keyword">class</span>, <span class="hljs-title">service</span>)</span>;

Router router = Router.router(vertx);
<span class="hljs-comment">// Allow events for the designated addresses in/out of the event bus bridge</span>
BridgeOptions opts = <span class="hljs-keyword">new</span> BridgeOptions()
    .addInboundPermitted(<span class="hljs-keyword">new</span> PermittedOptions()
        .setAddress(<span class="hljs-string">"database-service-address"</span>))
    .addOutboundPermitted(<span class="hljs-keyword">new</span> PermittedOptions()
        .setAddress(<span class="hljs-string">"database-service-address"</span>));

<span class="hljs-comment">// Create the event bus bridge and add it to the router.</span>
router.mountSubRouter(<span class="hljs-string">"/eventbus"</span>, SockJSHandler.create(vertx).bridge(opts));

vertx.createHttpServer().requestHandler(router).listen(<span class="hljs-number">8080</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you have the sockJS bridge configured, other applications developed in JavaScript can interact with your
service directly. During the service compilation, a JS proxy module is generated, and is named as follows:
<code>module_name-js/server-interface_simple_name</code> + <code>-proxy.js</code>. So for instance, if your interface is named <code>MyService</code>,
the proxy module is named <code>my_service-proxy.js</code>. Again, this proxy is usable from your browser or from node.js.</p>
</div>
<div class="paragraph">
<p>The generated proxy is a JavaScript module compatible with CommonJS, AMD and Webpack. The proxy then just needs to
 instantiated with the EventBus bridge and the service EventBus address:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">&lt;script src=<span class="hljs-string">"http://cdn.sockjs.org/sockjs-0.3.4.min.js"</span>&gt;<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/vertx/3.4.2/vertx-eventbus.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
<span class="xml"><span class="hljs-comment">&lt;!-- This is your generated service proxy --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"vertx-database-js/some_database_service-proxy.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">
 <span class="hljs-keyword">var</span> eb = <span class="hljs-keyword">new</span> EventBus(<span class="hljs-string">'http://localhost:8080/eventbus'</span>);
 eb.onopen = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-keyword">var</span> svc = <span class="hljs-keyword">new</span> SomeDatabaseService(eb, <span class="hljs-string">"database-service-address"</span>);
   <span class="hljs-comment">// use the service</span>
 };
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For node.js application, it would be used as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js"><span class="hljs-keyword">var</span> EventBus = <span class="hljs-built_in">require</span>(<span class="hljs-string">'vertx3-eventbus-client'</span>);
<span class="hljs-keyword">var</span> SomeDatabaseService = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../../some_database_service-proxy'</span>);

<span class="hljs-keyword">var</span> eb = <span class="hljs-keyword">new</span> EventBus(<span class="hljs-string">'http://localhost:8080/eventbus/'</span>);
eb.onopen = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-keyword">var</span> svc = <span class="hljs-keyword">new</span> SomeDatabaseService(eb, <span class="hljs-string">"database-service-address"</span>);
<span class="hljs-comment">// use the service</span>
};</code></pre>
</div>
</div>
</div>
</div></div></div></div><footer></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Vert.x SockJS Service Proxy","contents":"\u003cdiv id=\"toc\" class=\"toc\"\u003e\n\u003cdiv id=\"toctitle\"\u003eTable of Contents\u003c/div\u003e\n\u003cul class=\"sectlevel1\"\u003e\n\u003cli\u003e\u003ca href=\"#_using_vert_x_sockjs_service_proxy\"\u003eUsing Vert.x SockJS Service Proxy\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_consuming_your_service_from_a_browser_or_from_node_js\"\u003eConsuming your service from a browser or from Node.js\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv id=\"preamble\"\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you compose a vert.x application, you may want to isolate a functionality somewhere and make it available to\nthe rest of your application. That\u0026#8217;s the main purpose of service proxies. It lets you expose a \u003cem\u003eservice\u003c/em\u003e on the\nevent bus, so, any other vert.x component can consume it, as soon as they know the \u003cem\u003eaddress\u003c/em\u003e on which the service\nis published. This is achieved by the vert.x service proxies. However, vert.x service clients, form the bare vert\n.x service proxies, cannot be consumed from your browser or from node.js. Vert.x SockJS Service Proxy generates\nservice clients that you can use from your browser or from a node.js application. These clients rely on the\nSockJS bridge that propagate events from the vert.x event bus to / from SockJS.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_using_vert_x_sockjs_service_proxy\"\u003eUsing Vert.x SockJS Service Proxy\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use the Vert.x SockJS Service Proxy, add the following dependencies to the \u003cem\u003edependencies\u003c/em\u003e section of\nyour build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-sockjs-service-proxy\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e4.0.0-milestone4\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-service-proxy\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e${vertx.version}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-sockjs-service-proxy:4.0.0-milestone4'\u003c/span\u003e\ncompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-service-proxy:${vertx.version}'\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eBe aware that as the service proxy mechanism relies on code generation, so modifications to the \u003cem\u003eservice interface\u003c/em\u003e\nrequire to re-compile the sources to regenerate the code.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eBefore going further you should check how to use \u003ccode\u003evertx-service-proxies\u003c/code\u003e from the\n\u003ca href=\"http://vertx.io/docs/vertx-service-proxy/java\"\u003edocumentation page\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_consuming_your_service_from_a_browser_or_from_node_js\"\u003eConsuming your service from a browser or from Node.js\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe previous section has shown how you can create a service proxy in Java. However, you can consume your service\ndirectly from your browser or from a node.js application using a SockJS-based proxy.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFirst, you need to configure the SockJS bridge, in order to let the proxy communicate with the service. You will\nfind more details about the SockJS bridge in\n\u003ca href=\"http://vertx.io/docs/vertx-web/java/#_sockjs_event_bus_bridge\"\u003evertx-web\u003c/a\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eSomeDatabaseService service = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e SomeDatabaseServiceImpl();\n\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ServiceBinder(vertx)\n  .setAddress(\u003cspan class=\"hljs-string\"\u003e\"database-service-address\"\u003c/span\u003e)\n  .register(SomeDatabaseService\u003cspan class=\"hljs-class\"\u003e.\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e, \u003cspan class=\"hljs-title\"\u003eservice\u003c/span\u003e)\u003c/span\u003e;\n\nRouter router = Router.router(vertx);\n\u003cspan class=\"hljs-comment\"\u003e// Allow events for the designated addresses in/out of the event bus bridge\u003c/span\u003e\nBridgeOptions opts = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e BridgeOptions()\n    .addInboundPermitted(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e PermittedOptions()\n        .setAddress(\u003cspan class=\"hljs-string\"\u003e\"database-service-address\"\u003c/span\u003e))\n    .addOutboundPermitted(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e PermittedOptions()\n        .setAddress(\u003cspan class=\"hljs-string\"\u003e\"database-service-address\"\u003c/span\u003e));\n\n\u003cspan class=\"hljs-comment\"\u003e// Create the event bus bridge and add it to the router.\u003c/span\u003e\nrouter.mountSubRouter(\u003cspan class=\"hljs-string\"\u003e\"/eventbus\"\u003c/span\u003e, SockJSHandler.create(vertx).bridge(opts));\n\nvertx.createHttpServer().requestHandler(router).listen(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce you have the sockJS bridge configured, other applications developed in JavaScript can interact with your\nservice directly. During the service compilation, a JS proxy module is generated, and is named as follows:\n\u003ccode\u003emodule_name-js/server-interface_simple_name\u003c/code\u003e + \u003ccode\u003e-proxy.js\u003c/code\u003e. So for instance, if your interface is named \u003ccode\u003eMyService\u003c/code\u003e,\nthe proxy module is named \u003ccode\u003emy_service-proxy.js\u003c/code\u003e. Again, this proxy is usable from your browser or from node.js.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe generated proxy is a JavaScript module compatible with CommonJS, AMD and Webpack. The proxy then just needs to\n instantiated with the EventBus bridge and the service EventBus address:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-js\" data-lang=\"js\"\u003e\u0026lt;script src=\u003cspan class=\"hljs-string\"\u003e\"http://cdn.sockjs.org/sockjs-0.3.4.min.js\"\u003c/span\u003e\u0026gt;\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"https://cdnjs.cloudflare.com/ajax/libs/vertx/3.4.2/vertx-eventbus.min.js\"\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- This is your generated service proxy --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"vertx-database-js/some_database_service-proxy.js\"\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"actionscript\"\u003e\n \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e eb = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e EventBus(\u003cspan class=\"hljs-string\"\u003e'http://localhost:8080/eventbus'\u003c/span\u003e);\n eb.onopen = \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n   \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e svc = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e SomeDatabaseService(eb, \u003cspan class=\"hljs-string\"\u003e\"database-service-address\"\u003c/span\u003e);\n   \u003cspan class=\"hljs-comment\"\u003e// use the service\u003c/span\u003e\n };\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFor node.js application, it would be used as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-js\" data-lang=\"js\"\u003e\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e EventBus = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'vertx3-eventbus-client'\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e SomeDatabaseService = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'../../some_database_service-proxy'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e eb = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e EventBus(\u003cspan class=\"hljs-string\"\u003e'http://localhost:8080/eventbus/'\u003c/span\u003e);\neb.onopen = \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e svc = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e SomeDatabaseService(eb, \u003cspan class=\"hljs-string\"\u003e\"database-service-address\"\u003c/span\u003e);\n\u003cspan class=\"hljs-comment\"\u003e// use the service\u003c/span\u003e\n};\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e"},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["vertx-sockjs-service-proxy","java"]},"buildId":"o4Lu-3JmB8pFFN6I7-g62","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/runtime/polyfills-636e3ece1ef7a5e3df65.js"></script><script async="" data-next-page="/docs/[...slug]" src="/_next/static/o4Lu-3JmB8pFFN6I7-g62/pages/docs/%5B...slug%5D.js"></script><script async="" data-next-page="/_app" src="/_next/static/o4Lu-3JmB8pFFN6I7-g62/pages/_app.js"></script><script src="/_next/static/runtime/webpack-9369c5c69dbf6d4912cb.js" async=""></script><script src="/_next/static/chunks/framework.2452a08f25aa09397355.js" async=""></script><script src="/_next/static/chunks/commons.5e3e47f192c8968126d4.js" async=""></script><script src="/_next/static/chunks/styles.a536770b8a7efd3f31c6.js" async=""></script><script src="/_next/static/runtime/main-82853df24da4e8dbe047.js" async=""></script><script src="/_next/static/chunks/fc4f82d59db6b67e4b4bae53aafd91612399d6d1.c1ef14f95bc9470df0df.js" async=""></script><script src="/_next/static/o4Lu-3JmB8pFFN6I7-g62/_buildManifest.js" async=""></script><script src="/_next/static/o4Lu-3JmB8pFFN6I7-g62/_ssgManifest.js" async=""></script></body></html>