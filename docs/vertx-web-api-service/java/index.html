<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><title>Vert.x Web API Service</title><meta name="next-head-count" content="9"/><link rel="preload" href="/_next/static/css/styles.d7b41311.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.d7b41311.chunk.css"/><link rel="preload" href="/_next/static/xr4nQcHtuDpBkcDoGXt7c/pages/docs/%5B...slug%5D.js" as="script"/><link rel="preload" href="/_next/static/xr4nQcHtuDpBkcDoGXt7c/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-9369c5c69dbf6d4912cb.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.2452a08f25aa09397355.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.5e3e47f192c8968126d4.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.f5552069d03a8eb9c249.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-590ad82901df6081bdd1.js" as="script"/><link rel="preload" href="/_next/static/chunks/b61f7acbdb6756fa918c6ba2f93c2a728232d13d.1462234e73ffb671bf4b.js" as="script"/></head><body><div id="__next"><main class="page docs"><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><a class="navbar-menu-item" href="/">Ecosystem</a><a class="navbar-menu-item" href="/docs/">Docs</a><a class="navbar-menu-item" href="/">FAQ</a><a class="navbar-menu-item" href="/">Blog</a><a class="navbar-menu-item" href="/">Community</a></div><div class="navbar-social"><span class="navbar-social-version">v4.0.0</span><a href="https://www.youtube.com/results?search_query=vert.x" class="navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube videos related to Vert.x"><path d="M23.495 6.205a3.007 3.007 0 0 0-2.088-2.088c-1.87-.501-9.396-.501-9.396-.501s-7.507-.01-9.396.501A3.007 3.007 0 0 0 .527 6.205a31.247 31.247 0 0 0-.522 5.805 31.247 31.247 0 0 0 .522 5.783 3.007 3.007 0 0 0 2.088 2.088c1.868.502 9.396.502 9.396.502s7.506 0 9.396-.502a3.007 3.007 0 0 0 2.088-2.088 31.247 31.247 0 0 0 .5-5.783 31.247 31.247 0 0 0-.5-5.805zM9.609 15.601V8.408l6.264 3.602z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" class="navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="https://gitter.im/eclipse-vertx/vertx-users" class="navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Gitter"><path d="M8.501 4.001H10.5V24H8.501V4.001zm6.999 0V24h-2V4.001h2zM3.5 0h2.001v15H3.5V0zm15 4.001h2V15h-2V4.001z"></path></svg></a></div></div></div></div></header><div class="page-content docs-content"><div class="container"><div class="docs-content-wrapper"><aside class=""><div class="docs-content-wrapper-sidebar"><div class="search-panel"><div class="search"><input type="text" placeholder="Search..." value=""/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon-delete"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg></div><ul class="search-results"></ul><div class="search-results-none">No results.</div></div><div class="docs-content-toc"><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_using_vert_x_api_service">Using Vert.x API Service</a></li>
<li><a href="#_recap_on_vert_x_web_api_contract">Recap on Vert.x Web API Contract</a></li>
<li><a href="#_define_your_service_interface">Define your Service interface</a></li>
<li><a href="#_implement_your_service">Implement your service</a>
<ul class="sectlevel2">
<li><a href="#_the_operationrequest_data_object">The <code>OperationRequest</code> data object</a></li>
<li><a href="#_the_operationresponse_data_object">The <code>OperationResponse</code> data object</a></li>
</ul>
</li>
<li><a href="#_mount_to_router_factory">Mount to Router Factory</a>
<ul class="sectlevel2">
<li><a href="#_using_the_extension_x_vertx_event_bus">Using the extension <code>x-vertx-event-bus</code></a></li>
</ul>
</li>
<li><a href="#_run_the_service">Run the service</a></li>
</ul>
</div></div></div></aside><div class="docs-content-sidebar-toggle"><div style="position:relative"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3" y2="6"></line><line x1="3" y1="12" x2="3" y2="12"></line><line x1="3" y1="18" x2="3" y2="18"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div></div><div class="docs-content-inner"><h1>Vert.x Web API Service</h1>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Vert.x Web API Service helps you routing the API requests incoming from a Vert.x Web Router built with <a href="https://vertx.io/docs/vertx-web-api-contract/java/">Vert.x Web API Contract Router Factory</a> to event bus.
Event Bus provides itself important features like load balancing and distribution of requests across different Vert.x instances. We encourage you to give a look at <a href="https://vertx.io/docs/vertx-core/java/#event_bus">Event Bus documentation</a></p>
</div>
<div class="paragraph">
<p>It&#8217;s based on same concept of <a href="https://vertx.io/docs/vertx-service-proxy/java/">Vert.x service proxies</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_vert_x_api_service">Using Vert.x API Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use Vert.x API Service, add the following dependency to the <em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-codegen<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.0-milestone4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">classifier</span>&gt;</span>processor<span class="hljs-tag">&lt;/<span class="hljs-name">classifier</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-web-api-service<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.0-milestone4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle &lt; 5 (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">dependencies {
 compile <span class="hljs-string">'io.vertx:vertx-codegen:4.0.0-milestone4:processor'</span>
 compile <span class="hljs-string">'io.vertx:vertx-web-api-service:4.0.0-milestone4'</span>
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle &gt;= 5 (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">dependencies {
 annotationProcessor <span class="hljs-string">'io.vertx:vertx-codegen:4.0.0-milestone4:processor'</span>
 annotationProcessor <span class="hljs-string">'io.vertx:vertx-web-api-service:4.0.0-milestone4'</span>
 compile <span class="hljs-string">'io.vertx:vertx-web-api-service:4.0.0-milestone4'</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You need to import <code>vertx-codegen</code> to trigger the code generation from annotated interfaces</p>
</div>
<div class="paragraph">
<p>If you want to use the interface you write in different languages, you will need to add the <em>language</em> dependency such as
<code>vertx-lang-groovy</code> for Groovy.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_recap_on_vert_x_web_api_contract">Recap on Vert.x Web API Contract</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vert.x Web API Contract helps you to build a Vert.x Web router compliant to an OpenAPI spec, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">routerFactory.addHandlerByOperationId(<span class="hljs-string">"operationId"</span>, routingContext -&gt; {
  RequestParameters parameters = routingContext.get(<span class="hljs-string">"parsedParameters"</span>);
  <span class="hljs-comment">// Process the request</span>
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>With Vert.x Web API Service you can define an event bus service that connects automatically to the router factory, allowing automatic request routing to Vert.x Event Bus.</p>
</div>
<div class="paragraph">
<p>We encourage you to read <a href="https://vertx.io/docs/vertx-service-proxy/java/">Service Proxy documentation</a> before going further</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_define_your_service_interface">Define your Service interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s start with defining your service interface. We want to define the service interface for this OpenAPI operations definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"><span class="hljs-string">/api/transactions:</span>
 <span class="hljs-attr">get:</span>
   <span class="hljs-attr">operationId:</span> <span class="hljs-string">getTransactionsList</span>
   <span class="hljs-attr">parameters:</span>
     <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">from</span>
       <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
       <span class="hljs-attr">style:</span> <span class="hljs-string">form</span>
       <span class="hljs-attr">explode:</span> <span class="hljs-literal">false</span>
       <span class="hljs-attr">required:</span> <span class="hljs-literal">false</span>
       <span class="hljs-attr">schema:</span>
         <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
     <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">to</span>
       <span class="hljs-attr">in:</span> <span class="hljs-string">query</span>
       <span class="hljs-attr">style:</span> <span class="hljs-string">form</span>
       <span class="hljs-attr">explode:</span> <span class="hljs-literal">false</span>
       <span class="hljs-attr">required:</span> <span class="hljs-literal">false</span>
       <span class="hljs-attr">schema:</span>
         <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
   <span class="hljs-attr">responses:</span> <span class="hljs-string">...</span>
 <span class="hljs-attr">put:</span>
   <span class="hljs-attr">operationId:</span> <span class="hljs-string">putTransaction</span>
   <span class="hljs-attr">requestBody:</span>
     <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
     <span class="hljs-attr">content:</span>
       <span class="hljs-attr">application/json:</span>
         <span class="hljs-attr">schema:</span>
           <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
           <span class="hljs-attr">properties:</span>
             <span class="hljs-attr">from:</span>
               <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
               <span class="hljs-attr">format:</span> <span class="hljs-string">email</span>
             <span class="hljs-attr">to:</span>
               <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
               <span class="hljs-attr">format:</span> <span class="hljs-string">email</span>
             <span class="hljs-attr">value:</span>
               <span class="hljs-attr">type:</span> <span class="hljs-string">number</span>
               <span class="hljs-attr">format:</span> <span class="hljs-string">double</span>
           <span class="hljs-attr">additionalProperties:</span> <span class="hljs-literal">false</span>
           <span class="hljs-attr">required:</span>
             <span class="hljs-bullet">-</span> <span class="hljs-string">from</span>
             <span class="hljs-bullet">-</span> <span class="hljs-string">to</span>
             <span class="hljs-bullet">-</span> <span class="hljs-string">value</span>
   <span class="hljs-attr">responses:</span> <span class="hljs-string">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we can build the interface that specifies a <strong>TransactionService</strong> that handles <em>getTransactionsList</em> and <em>putTransaction</em> operations. For each operation you need to write a method with name corresponding to operation id with following parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Last parameter must be a <code>Handler&lt;AsyncResult&lt;OperationResponse&gt;&gt;</code></p>
</li>
<li>
<p>Second to last parameter must be a <code><a href="../../apidocs/io/vertx/ext/web/api/OperationRequest.html">OperationRequest</a></code></p>
</li>
<li>
<p>All parameters from first to second to last (excluded) are extracted from <code><a href="../../apidocs/io/vertx/ext/web/api/RequestParameter.html">RequestParameter</a></code> with specified type automatically, but they need to respect <a href="https://vertx.io/docs/vertx-service-proxy/java/#_restrictions_for_service_interface">service proxy restrictions</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-meta">@WebApiServiceGen</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">TransactionService</span> </span>{
 <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getTransactionsList</span><span class="hljs-params">(String from, String to, OperationRequest context, Handler&lt;AsyncResult&lt;OperationResponse&gt;&gt; resultHandler)</span></span>;
 <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">putTransaction</span><span class="hljs-params">(JsonObject body, OperationRequest context, Handler&lt;AsyncResult&lt;OperationResponse&gt;&gt; resultHandler)</span></span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you receive a request at <code>TransactionService.getTransactionsList()</code> the generated service handler will automatically extract <code>from</code> and <code>to</code> parameter (if present) from <code><a href="../../apidocs/io/vertx/ext/web/api/OperationRequest.html">OperationRequest</a></code>. In <code>putTransaction()</code> we use the <code>body</code> parameter name to extract the json body.</p>
</div>
<div class="paragraph">
<p>The service handler is also capable to translate <code>JsonObject</code> to Vert.x data objects automatically, for example if you have a <code>Transaction</code> data object that matches the json schema above, you can rewrite the <code>putTransaction()</code> signature as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">putTransaction</span><span class="hljs-params">(Transaction body, OperationRequest context, Handler&lt;AsyncResult&lt;OperationResponse&gt;&gt; resultHandler)</span></span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that generated service handler matches method parameters with spec&#8217;s parameter name and not with the location of parameter, so avoid duplicated parameter names in your spec</p>
</div>
<div class="paragraph">
<p>We also encourage to extract with <code><a href="../../apidocs/io/vertx/ext/web/api/RequestParameter.html">RequestParameter</a></code> parameters that uses json schema allOf/anyOf/oneOf/not keywords because the extraction can produce undefined behaviours</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implement_your_service">Implement your service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now you can implement your service. The <code><a href="../../apidocs/io/vertx/ext/web/api/OperationRequest.html">OperationRequest</a></code> object contains headers and parameters maps.</p>
</div>
<div class="paragraph">
<p>To write the request you must call the <code>resultHandler</code> with an <code><a href="../../apidocs/io/vertx/ext/web/api/OperationResponse.html">OperationResponse</a></code>. To construct the <code><a href="../../apidocs/io/vertx/ext/web/api/OperationResponse.html">OperationResponse</a></code> you can use some handy methods like <code><a href="../../apidocs/io/vertx/ext/web/api/OperationResponse.html#completedWithJson-io.vertx.core.buffer.Buffer-">OperationResponse.completedWithJson</a></code> or <code><a href="../../apidocs/io/vertx/ext/web/api/OperationResponse.html#completedWithPlainText-io.vertx.core.buffer.Buffer-">OperationResponse.completedWithPlainText</a></code></p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">resultHandler.handle(
  Future.succeededFuture(
    OperationResponse.completedWithPlainText(Buffer.buffer(<span class="hljs-string">"Hello world!"</span>))
  )
);</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_the_operationrequest_data_object">The <code>OperationRequest</code> data object</h3>
<div class="paragraph">
<p><code>OperationRequest</code> it&#8217;s a <em>serializable</em> version of <code>RoutingContext</code>. It doesn&#8217;t contain all data encapsulated in <code>RoutingContext</code>. It transports to your service:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="../../apidocs/io/vertx/ext/web/api/OperationRequest.html#getHeaders--">getHeaders</a></code>: Headers of the request</p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/ext/web/api/OperationRequest.html#getParams--">getParams</a></code>: Contains <code>routingContext.get("parsedParameters")</code></p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/ext/web/api/OperationRequest.html#getUser--">getUser</a></code>: Contains <code>routingContext.user().principal()</code>, null if no user is authenticated</p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/ext/web/api/OperationRequest.html#getExtra--">getExtra</a></code>: Contains an extra configurable payload</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can configure a lambda that builds the extra payload with <code><a href="../../apidocs/io/vertx/ext/web/api/contract/RouterFactory.html#setExtraOperationContextPayloadMapper-java.util.function.Function-">setExtraOperationContextPayloadMapper</a></code></p>
</div>
</div>
<div class="sect2">
<h3 id="_the_operationresponse_data_object">The <code>OperationResponse</code> data object</h3>
<div class="paragraph">
<p><code>OperationResponse</code> is composed by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Headers of the response</p>
</li>
<li>
<p>Status code/Status message</p>
</li>
<li>
<p>Body as a payload. If you set the payload as null no body will be sent</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mount_to_router_factory">Mount to Router Factory</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that your service is ready you need to mount it to <code><a href="../../apidocs/io/vertx/ext/web/api/contract/openapi3/OpenAPI3RouterFactory.html">OpenAPI3RouterFactory</a></code>. When you use one of the methods below, the router factory mounts an handler that routes the request through the event bus to the service at the address specified. Pay attention to specify the correct address to event bus endpoint.</p>
</div>
<div class="paragraph">
<p>You have four methods to match the service with router operation handlers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mount manually every operation to a specified address with <code><a href="../../apidocs/io/vertx/ext/web/api/contract/openapi3/OpenAPI3RouterFactory.html#mountOperationToEventBus-java.lang.String-java.lang.String-">mountOperationToEventBus</a></code></p>
</li>
<li>
<p>Mount operations matching a tag[<a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#operation-object" class="bare">https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#operation-object</a>] to a specified address with <code><a href="../../apidocs/io/vertx/ext/web/api/contract/openapi3/OpenAPI3RouterFactory.html#mountServiceFromTag-java.lang.String-java.lang.String-">mountServiceFromTag</a></code>.</p>
</li>
<li>
<p>Specify the class interface and the address of the service with <code><a href="../../apidocs/io/vertx/ext/web/api/contract/openapi3/OpenAPI3RouterFactory.html#mountServiceInterface-java.lang.Class-java.lang.String-">mountServiceInterface</a></code>. This method introspects the interface public methods and mounts all matching method names with operation ids</p>
</li>
<li>
<p>Specify inside the OpenAPI specification the <code>x-vertx-event-bus</code> extension for operations you want to route to your service and scan all operations that contains it with <code><a href="../../apidocs/io/vertx/ext/web/api/contract/openapi3/OpenAPI3RouterFactory.html#mountServicesFromExtensions--">mountServicesFromExtensions</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We suggest you to use the extension <code>x-vertx-event-bus</code> over all other methods. If you don&#8217;t want to modify your spec adding extensions, we recommend you to use <code><a href="../../apidocs/io/vertx/ext/web/api/contract/openapi3/OpenAPI3RouterFactory.html#mountServiceInterface-java.lang.Class-java.lang.String-">mountServiceInterface</a></code></p>
</div>
<div class="sect2">
<h3 id="_using_the_extension_x_vertx_event_bus">Using the extension <code>x-vertx-event-bus</code></h3>
<div class="paragraph">
<p>The <code>x-vertx-event-bus</code> can be configured both in path item object or in operation object. It can be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A string containing the address of service</p>
</li>
<li>
<p>An object containing:</p>
<div class="ulist">
<ul>
<li>
<p>The field <code>address</code> that specifies the address of the service</p>
</li>
<li>
<p>The field <code>method</code> that specifies the interface method name (valid only when you specify it in operation object)</p>
</li>
<li>
<p>The delivery options <code>timeout</code> and <code>headers</code> (Look at <code><a href="../../apidocs/io/vertx/core/eventbus/DeliveryOptions.html">DeliveryOptions</a></code>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example if I want to route <em>getTransactionsList</em> to <code>TransactionService</code> mounted at event bus address <code>transaction_service.my_application</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"><span class="hljs-string">/api/transactions:</span>
 <span class="hljs-attr">get:</span>
   <span class="hljs-attr">operationId:</span> <span class="hljs-string">getTransactionsList</span>
   <span class="hljs-attr">parameters:</span> <span class="hljs-string">...</span>
   <span class="hljs-attr">responses:</span> <span class="hljs-string">...</span>
   <span class="hljs-attr">x-vertx-event-bus:</span> <span class="hljs-string">transaction_service.my_application</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"><span class="hljs-string">/api/transactions:</span>
 <span class="hljs-attr">get:</span>
   <span class="hljs-attr">operationId:</span> <span class="hljs-string">getTransactionsList</span>
   <span class="hljs-attr">parameters:</span> <span class="hljs-string">...</span>
   <span class="hljs-attr">responses:</span> <span class="hljs-string">...</span>
   <span class="hljs-attr">x-vertx-event-bus:</span>
     <span class="hljs-attr">address:</span> <span class="hljs-string">transaction_service.my_application</span>
     <span class="hljs-attr">method:</span> <span class="hljs-string">getTransactionsList</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can specify both in path item and operation the extension and router factory will take care of merging it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"><span class="hljs-string">/api/transactions:</span>
 <span class="hljs-attr">x-vertx-event-bus:</span>
   <span class="hljs-attr">address:</span> <span class="hljs-string">transaction_service.my_application</span>
   <span class="hljs-attr">timeout:</span> <span class="hljs-number">1000</span>
 <span class="hljs-attr">get:</span>
   <span class="hljs-attr">operationId:</span> <span class="hljs-string">getTransactionsList</span>
   <span class="hljs-attr">parameters:</span> <span class="hljs-string">...</span>
   <span class="hljs-attr">responses:</span> <span class="hljs-string">...</span>
 <span class="hljs-attr">post:</span>
   <span class="hljs-attr">operationId:</span> <span class="hljs-string">postTransaction</span>
   <span class="hljs-attr">parameters:</span> <span class="hljs-string">...</span>
   <span class="hljs-attr">responses:</span> <span class="hljs-string">...</span>
   <span class="hljs-attr">x-vertx-event-bus:</span>
     <span class="hljs-attr">method:</span> <span class="hljs-string">postTransactionToDb</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>getTransactionList</code> operation is mapped to service at address <code>transaction_service.my_application</code> and method <code>getTransactionList</code></p>
</li>
<li>
<p><code>postTransaction</code> operation is mapped to service at address <code>transaction_service.my_application</code> and method <code>postTransactionToDb</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then you can call <code><a href="../../apidocs/io/vertx/ext/web/api/contract/openapi3/OpenAPI3RouterFactory.html#mountServicesFromExtensions--">mountServicesFromExtensions</a></code> that scans entire spec and mounts the handlers that route to your service the requests</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_the_service">Run the service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now you can register your service to event bus:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">TransactionService service = <span class="hljs-keyword">new</span> TransactionServiceImpl();
<span class="hljs-keyword">final</span> ServiceBinder serviceBinder = <span class="hljs-keyword">new</span> ServiceBinder(vertx).setAddress(<span class="hljs-string">"address"</span>);
MessageConsumer&lt;JsonObject&gt; serviceConsumer = serviceBinder.register(TransactionService<span class="hljs-class">.<span class="hljs-keyword">class</span>, <span class="hljs-title">service</span>)</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more info look at <a href="https://vertx.io/docs/vertx-service-proxy/java/#_exposing_your_service">Vert.x service proxy documentation</a></p>
</div>
</div>
</div></div></div></div></div><footer><div class="container"><div class="footer-nav-section"><div class="footer-nav-list footer-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="footer-nav-list"><h5>Eclipse Vert.x</h5><ul class=""><li><a href="/">Ecosystem</a></li><li><a href="/docs/">Docs</a></li><li><a href="/">FAQ</a></li><li><a href="/">Blog</a></li><li><a href="/">Community</a></li></ul></div><div class="footer-nav-list"><h5>Eclipse</h5><ul class=""><li><a href="https://www.eclipse.org/">Eclipse Foundation</a></li><li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li><li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li><li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li><li><a href="https://www.eclipse.org/legal/">Legal Resources</a></li></ul></div></div><div class="footer-copyright"><div class="footer-copyright-remarks">© <!-- -->2020<!-- --> Eclipse Vert.x<br/>Eclipse Vert.x is open source and dual-licensed under the <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener">Eclipse Public License 2.0</a> and the <a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener">Apache License 2.0</a>. <br class="footer-copyright-break"/>Website design by <a href="https://michelkraemer.com" target="_blank" rel="noopener">Michel Krämer</a>.</div><div class="footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0TDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Vert.x Web API Service","toc":"\u003cdiv id=\"toc\" class=\"toc\"\u003e\n\u003cdiv id=\"toctitle\"\u003eTable of Contents\u003c/div\u003e\n\u003cul class=\"sectlevel1\"\u003e\n\u003cli\u003e\u003ca href=\"#_using_vert_x_api_service\"\u003eUsing Vert.x API Service\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_recap_on_vert_x_web_api_contract\"\u003eRecap on Vert.x Web API Contract\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_define_your_service_interface\"\u003eDefine your Service interface\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_implement_your_service\"\u003eImplement your service\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_the_operationrequest_data_object\"\u003eThe \u003ccode\u003eOperationRequest\u003c/code\u003e data object\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_the_operationresponse_data_object\"\u003eThe \u003ccode\u003eOperationResponse\u003c/code\u003e data object\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mount_to_router_factory\"\u003eMount to Router Factory\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_using_the_extension_x_vertx_event_bus\"\u003eUsing the extension \u003ccode\u003ex-vertx-event-bus\u003c/code\u003e\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_run_the_service\"\u003eRun the service\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e","contents":"\u003ch1\u003eVert.x Web API Service\u003c/h1\u003e\n\n\u003cdiv id=\"preamble\"\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x Web API Service helps you routing the API requests incoming from a Vert.x Web Router built with \u003ca href=\"https://vertx.io/docs/vertx-web-api-contract/java/\"\u003eVert.x Web API Contract Router Factory\u003c/a\u003e to event bus.\nEvent Bus provides itself important features like load balancing and distribution of requests across different Vert.x instances. We encourage you to give a look at \u003ca href=\"https://vertx.io/docs/vertx-core/java/#event_bus\"\u003eEvent Bus documentation\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIt\u0026#8217;s based on same concept of \u003ca href=\"https://vertx.io/docs/vertx-service-proxy/java/\"\u003eVert.x service proxies\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_using_vert_x_api_service\"\u003eUsing Vert.x API Service\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use Vert.x API Service, add the following dependency to the \u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-codegen\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e4.0.0-milestone4\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eclassifier\u003c/span\u003e\u0026gt;\u003c/span\u003eprocessor\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eclassifier\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-web-api-service\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e4.0.0-milestone4\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle \u0026lt; 5 (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003edependencies {\n compile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-codegen:4.0.0-milestone4:processor'\u003c/span\u003e\n compile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-web-api-service:4.0.0-milestone4'\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle \u0026gt;= 5 (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003edependencies {\n annotationProcessor \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-codegen:4.0.0-milestone4:processor'\u003c/span\u003e\n annotationProcessor \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-web-api-service:4.0.0-milestone4'\u003c/span\u003e\n compile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-web-api-service:4.0.0-milestone4'\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou need to import \u003ccode\u003evertx-codegen\u003c/code\u003e to trigger the code generation from annotated interfaces\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf you want to use the interface you write in different languages, you will need to add the \u003cem\u003elanguage\u003c/em\u003e dependency such as\n\u003ccode\u003evertx-lang-groovy\u003c/code\u003e for Groovy.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_recap_on_vert_x_web_api_contract\"\u003eRecap on Vert.x Web API Contract\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x Web API Contract helps you to build a Vert.x Web router compliant to an OpenAPI spec, for example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003erouterFactory.addHandlerByOperationId(\u003cspan class=\"hljs-string\"\u003e\"operationId\"\u003c/span\u003e, routingContext -\u0026gt; {\n  RequestParameters parameters = routingContext.get(\u003cspan class=\"hljs-string\"\u003e\"parsedParameters\"\u003c/span\u003e);\n  \u003cspan class=\"hljs-comment\"\u003e// Process the request\u003c/span\u003e\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWith Vert.x Web API Service you can define an event bus service that connects automatically to the router factory, allowing automatic request routing to Vert.x Event Bus.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWe encourage you to read \u003ca href=\"https://vertx.io/docs/vertx-service-proxy/java/\"\u003eService Proxy documentation\u003c/a\u003e before going further\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_define_your_service_interface\"\u003eDefine your Service interface\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eLet\u0026#8217;s start with defining your service interface. We want to define the service interface for this OpenAPI operations definition:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-yaml\" data-lang=\"yaml\"\u003e\u003cspan class=\"hljs-string\"\u003e/api/transactions:\u003c/span\u003e\n \u003cspan class=\"hljs-attr\"\u003eget:\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eoperationId:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003egetTransactionsList\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eparameters:\u003c/span\u003e\n     \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003efrom\u003c/span\u003e\n       \u003cspan class=\"hljs-attr\"\u003ein:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003equery\u003c/span\u003e\n       \u003cspan class=\"hljs-attr\"\u003estyle:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eform\u003c/span\u003e\n       \u003cspan class=\"hljs-attr\"\u003eexplode:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n       \u003cspan class=\"hljs-attr\"\u003erequired:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n       \u003cspan class=\"hljs-attr\"\u003eschema:\u003c/span\u003e\n         \u003cspan class=\"hljs-attr\"\u003etype:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003estring\u003c/span\u003e\n     \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eto\u003c/span\u003e\n       \u003cspan class=\"hljs-attr\"\u003ein:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003equery\u003c/span\u003e\n       \u003cspan class=\"hljs-attr\"\u003estyle:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eform\u003c/span\u003e\n       \u003cspan class=\"hljs-attr\"\u003eexplode:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n       \u003cspan class=\"hljs-attr\"\u003erequired:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n       \u003cspan class=\"hljs-attr\"\u003eschema:\u003c/span\u003e\n         \u003cspan class=\"hljs-attr\"\u003etype:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003estring\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eresponses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e...\u003c/span\u003e\n \u003cspan class=\"hljs-attr\"\u003eput:\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eoperationId:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eputTransaction\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003erequestBody:\u003c/span\u003e\n     \u003cspan class=\"hljs-attr\"\u003erequired:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n     \u003cspan class=\"hljs-attr\"\u003econtent:\u003c/span\u003e\n       \u003cspan class=\"hljs-attr\"\u003eapplication/json:\u003c/span\u003e\n         \u003cspan class=\"hljs-attr\"\u003eschema:\u003c/span\u003e\n           \u003cspan class=\"hljs-attr\"\u003etype:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eobject\u003c/span\u003e\n           \u003cspan class=\"hljs-attr\"\u003eproperties:\u003c/span\u003e\n             \u003cspan class=\"hljs-attr\"\u003efrom:\u003c/span\u003e\n               \u003cspan class=\"hljs-attr\"\u003etype:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003estring\u003c/span\u003e\n               \u003cspan class=\"hljs-attr\"\u003eformat:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eemail\u003c/span\u003e\n             \u003cspan class=\"hljs-attr\"\u003eto:\u003c/span\u003e\n               \u003cspan class=\"hljs-attr\"\u003etype:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003estring\u003c/span\u003e\n               \u003cspan class=\"hljs-attr\"\u003eformat:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eemail\u003c/span\u003e\n             \u003cspan class=\"hljs-attr\"\u003evalue:\u003c/span\u003e\n               \u003cspan class=\"hljs-attr\"\u003etype:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003enumber\u003c/span\u003e\n               \u003cspan class=\"hljs-attr\"\u003eformat:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003edouble\u003c/span\u003e\n           \u003cspan class=\"hljs-attr\"\u003eadditionalProperties:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n           \u003cspan class=\"hljs-attr\"\u003erequired:\u003c/span\u003e\n             \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003efrom\u003c/span\u003e\n             \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eto\u003c/span\u003e\n             \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003evalue\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eresponses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e...\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eNow we can build the interface that specifies a \u003cstrong\u003eTransactionService\u003c/strong\u003e that handles \u003cem\u003egetTransactionsList\u003c/em\u003e and \u003cem\u003eputTransaction\u003c/em\u003e operations. For each operation you need to write a method with name corresponding to operation id with following parameters:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eLast parameter must be a \u003ccode\u003eHandler\u0026lt;AsyncResult\u0026lt;OperationResponse\u0026gt;\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eSecond to last parameter must be a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/OperationRequest.html\"\u003eOperationRequest\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAll parameters from first to second to last (excluded) are extracted from \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/RequestParameter.html\"\u003eRequestParameter\u003c/a\u003e\u003c/code\u003e with specified type automatically, but they need to respect \u003ca href=\"https://vertx.io/docs/vertx-service-proxy/java/#_restrictions_for_service_interface\"\u003eservice proxy restrictions\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-meta\"\u003e@WebApiServiceGen\u003c/span\u003e\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003einterface\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eTransactionService\u003c/span\u003e \u003c/span\u003e{\n \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetTransactionsList\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String from, String to, OperationRequest context, Handler\u0026lt;AsyncResult\u0026lt;OperationResponse\u0026gt;\u0026gt; resultHandler)\u003c/span\u003e\u003c/span\u003e;\n \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eputTransaction\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(JsonObject body, OperationRequest context, Handler\u0026lt;AsyncResult\u0026lt;OperationResponse\u0026gt;\u0026gt; resultHandler)\u003c/span\u003e\u003c/span\u003e;\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you receive a request at \u003ccode\u003eTransactionService.getTransactionsList()\u003c/code\u003e the generated service handler will automatically extract \u003ccode\u003efrom\u003c/code\u003e and \u003ccode\u003eto\u003c/code\u003e parameter (if present) from \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/OperationRequest.html\"\u003eOperationRequest\u003c/a\u003e\u003c/code\u003e. In \u003ccode\u003eputTransaction()\u003c/code\u003e we use the \u003ccode\u003ebody\u003c/code\u003e parameter name to extract the json body.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe service handler is also capable to translate \u003ccode\u003eJsonObject\u003c/code\u003e to Vert.x data objects automatically, for example if you have a \u003ccode\u003eTransaction\u003c/code\u003e data object that matches the json schema above, you can rewrite the \u003ccode\u003eputTransaction()\u003c/code\u003e signature as:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eputTransaction\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Transaction body, OperationRequest context, Handler\u0026lt;AsyncResult\u0026lt;OperationResponse\u0026gt;\u0026gt; resultHandler)\u003c/span\u003e\u003c/span\u003e;\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eNote that generated service handler matches method parameters with spec\u0026#8217;s parameter name and not with the location of parameter, so avoid duplicated parameter names in your spec\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWe also encourage to extract with \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/RequestParameter.html\"\u003eRequestParameter\u003c/a\u003e\u003c/code\u003e parameters that uses json schema allOf/anyOf/oneOf/not keywords because the extraction can produce undefined behaviours\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_implement_your_service\"\u003eImplement your service\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eNow you can implement your service. The \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/OperationRequest.html\"\u003eOperationRequest\u003c/a\u003e\u003c/code\u003e object contains headers and parameters maps.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo write the request you must call the \u003ccode\u003eresultHandler\u003c/code\u003e with an \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/OperationResponse.html\"\u003eOperationResponse\u003c/a\u003e\u003c/code\u003e. To construct the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/OperationResponse.html\"\u003eOperationResponse\u003c/a\u003e\u003c/code\u003e you can use some handy methods like \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/OperationResponse.html#completedWithJson-io.vertx.core.buffer.Buffer-\"\u003eOperationResponse.completedWithJson\u003c/a\u003e\u003c/code\u003e or \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/OperationResponse.html#completedWithPlainText-io.vertx.core.buffer.Buffer-\"\u003eOperationResponse.completedWithPlainText\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eresultHandler.handle(\n  Future.succeededFuture(\n    OperationResponse.completedWithPlainText(Buffer.buffer(\u003cspan class=\"hljs-string\"\u003e\"Hello world!\"\u003c/span\u003e))\n  )\n);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_the_operationrequest_data_object\"\u003eThe \u003ccode\u003eOperationRequest\u003c/code\u003e data object\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003eOperationRequest\u003c/code\u003e it\u0026#8217;s a \u003cem\u003eserializable\u003c/em\u003e version of \u003ccode\u003eRoutingContext\u003c/code\u003e. It doesn\u0026#8217;t contain all data encapsulated in \u003ccode\u003eRoutingContext\u003c/code\u003e. It transports to your service:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/OperationRequest.html#getHeaders--\"\u003egetHeaders\u003c/a\u003e\u003c/code\u003e: Headers of the request\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/OperationRequest.html#getParams--\"\u003egetParams\u003c/a\u003e\u003c/code\u003e: Contains \u003ccode\u003eroutingContext.get(\"parsedParameters\")\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/OperationRequest.html#getUser--\"\u003egetUser\u003c/a\u003e\u003c/code\u003e: Contains \u003ccode\u003eroutingContext.user().principal()\u003c/code\u003e, null if no user is authenticated\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/OperationRequest.html#getExtra--\"\u003egetExtra\u003c/a\u003e\u003c/code\u003e: Contains an extra configurable payload\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can configure a lambda that builds the extra payload with \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/contract/RouterFactory.html#setExtraOperationContextPayloadMapper-java.util.function.Function-\"\u003esetExtraOperationContextPayloadMapper\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_the_operationresponse_data_object\"\u003eThe \u003ccode\u003eOperationResponse\u003c/code\u003e data object\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003eOperationResponse\u003c/code\u003e is composed by:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eHeaders of the response\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eStatus code/Status message\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eBody as a payload. If you set the payload as null no body will be sent\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_mount_to_router_factory\"\u003eMount to Router Factory\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eNow that your service is ready you need to mount it to \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/contract/openapi3/OpenAPI3RouterFactory.html\"\u003eOpenAPI3RouterFactory\u003c/a\u003e\u003c/code\u003e. When you use one of the methods below, the router factory mounts an handler that routes the request through the event bus to the service at the address specified. Pay attention to specify the correct address to event bus endpoint.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou have four methods to match the service with router operation handlers:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMount manually every operation to a specified address with \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/contract/openapi3/OpenAPI3RouterFactory.html#mountOperationToEventBus-java.lang.String-java.lang.String-\"\u003emountOperationToEventBus\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMount operations matching a tag[\u003ca href=\"https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#operation-object\" class=\"bare\"\u003ehttps://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#operation-object\u003c/a\u003e] to a specified address with \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/contract/openapi3/OpenAPI3RouterFactory.html#mountServiceFromTag-java.lang.String-java.lang.String-\"\u003emountServiceFromTag\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eSpecify the class interface and the address of the service with \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/contract/openapi3/OpenAPI3RouterFactory.html#mountServiceInterface-java.lang.Class-java.lang.String-\"\u003emountServiceInterface\u003c/a\u003e\u003c/code\u003e. This method introspects the interface public methods and mounts all matching method names with operation ids\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eSpecify inside the OpenAPI specification the \u003ccode\u003ex-vertx-event-bus\u003c/code\u003e extension for operations you want to route to your service and scan all operations that contains it with \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/contract/openapi3/OpenAPI3RouterFactory.html#mountServicesFromExtensions--\"\u003emountServicesFromExtensions\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWe suggest you to use the extension \u003ccode\u003ex-vertx-event-bus\u003c/code\u003e over all other methods. If you don\u0026#8217;t want to modify your spec adding extensions, we recommend you to use \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/contract/openapi3/OpenAPI3RouterFactory.html#mountServiceInterface-java.lang.Class-java.lang.String-\"\u003emountServiceInterface\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_using_the_extension_x_vertx_event_bus\"\u003eUsing the extension \u003ccode\u003ex-vertx-event-bus\u003c/code\u003e\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003ex-vertx-event-bus\u003c/code\u003e can be configured both in path item object or in operation object. It can be:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eA string containing the address of service\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAn object containing:\u003c/p\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eThe field \u003ccode\u003eaddress\u003c/code\u003e that specifies the address of the service\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThe field \u003ccode\u003emethod\u003c/code\u003e that specifies the interface method name (valid only when you specify it in operation object)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThe delivery options \u003ccode\u003etimeout\u003c/code\u003e and \u003ccode\u003eheaders\u003c/code\u003e (Look at \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/eventbus/DeliveryOptions.html\"\u003eDeliveryOptions\u003c/a\u003e\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFor example if I want to route \u003cem\u003egetTransactionsList\u003c/em\u003e to \u003ccode\u003eTransactionService\u003c/code\u003e mounted at event bus address \u003ccode\u003etransaction_service.my_application\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-yaml\" data-lang=\"yaml\"\u003e\u003cspan class=\"hljs-string\"\u003e/api/transactions:\u003c/span\u003e\n \u003cspan class=\"hljs-attr\"\u003eget:\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eoperationId:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003egetTransactionsList\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eparameters:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e...\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eresponses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e...\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003ex-vertx-event-bus:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003etransaction_service.my_application\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOr\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-yaml\" data-lang=\"yaml\"\u003e\u003cspan class=\"hljs-string\"\u003e/api/transactions:\u003c/span\u003e\n \u003cspan class=\"hljs-attr\"\u003eget:\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eoperationId:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003egetTransactionsList\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eparameters:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e...\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eresponses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e...\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003ex-vertx-event-bus:\u003c/span\u003e\n     \u003cspan class=\"hljs-attr\"\u003eaddress:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003etransaction_service.my_application\u003c/span\u003e\n     \u003cspan class=\"hljs-attr\"\u003emethod:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003egetTransactionsList\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can specify both in path item and operation the extension and router factory will take care of merging it:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-yaml\" data-lang=\"yaml\"\u003e\u003cspan class=\"hljs-string\"\u003e/api/transactions:\u003c/span\u003e\n \u003cspan class=\"hljs-attr\"\u003ex-vertx-event-bus:\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eaddress:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003etransaction_service.my_application\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003etimeout:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e\n \u003cspan class=\"hljs-attr\"\u003eget:\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eoperationId:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003egetTransactionsList\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eparameters:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e...\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eresponses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e...\u003c/span\u003e\n \u003cspan class=\"hljs-attr\"\u003epost:\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eoperationId:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003epostTransaction\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eparameters:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e...\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003eresponses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e...\u003c/span\u003e\n   \u003cspan class=\"hljs-attr\"\u003ex-vertx-event-bus:\u003c/span\u003e\n     \u003cspan class=\"hljs-attr\"\u003emethod:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003epostTransactionToDb\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn this example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003egetTransactionList\u003c/code\u003e operation is mapped to service at address \u003ccode\u003etransaction_service.my_application\u003c/code\u003e and method \u003ccode\u003egetTransactionList\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003epostTransaction\u003c/code\u003e operation is mapped to service at address \u003ccode\u003etransaction_service.my_application\u003c/code\u003e and method \u003ccode\u003epostTransactionToDb\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThen you can call \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/api/contract/openapi3/OpenAPI3RouterFactory.html#mountServicesFromExtensions--\"\u003emountServicesFromExtensions\u003c/a\u003e\u003c/code\u003e that scans entire spec and mounts the handlers that route to your service the requests\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_run_the_service\"\u003eRun the service\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eNow you can register your service to event bus:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eTransactionService service = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e TransactionServiceImpl();\n\u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e ServiceBinder serviceBinder = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ServiceBinder(vertx).setAddress(\u003cspan class=\"hljs-string\"\u003e\"address\"\u003c/span\u003e);\nMessageConsumer\u0026lt;JsonObject\u0026gt; serviceConsumer = serviceBinder.register(TransactionService\u003cspan class=\"hljs-class\"\u003e.\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e, \u003cspan class=\"hljs-title\"\u003eservice\u003c/span\u003e)\u003c/span\u003e;\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFor more info look at \u003ca href=\"https://vertx.io/docs/vertx-service-proxy/java/#_exposing_your_service\"\u003eVert.x service proxy documentation\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e"},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["vertx-web-api-service","java"]},"buildId":"xr4nQcHtuDpBkcDoGXt7c","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/runtime/polyfills-c8375bd94e53fd10a8dd.js"></script><script async="" data-next-page="/docs/[...slug]" src="/_next/static/xr4nQcHtuDpBkcDoGXt7c/pages/docs/%5B...slug%5D.js"></script><script async="" data-next-page="/_app" src="/_next/static/xr4nQcHtuDpBkcDoGXt7c/pages/_app.js"></script><script src="/_next/static/runtime/webpack-9369c5c69dbf6d4912cb.js" async=""></script><script src="/_next/static/chunks/framework.2452a08f25aa09397355.js" async=""></script><script src="/_next/static/chunks/commons.5e3e47f192c8968126d4.js" async=""></script><script src="/_next/static/chunks/styles.f5552069d03a8eb9c249.js" async=""></script><script src="/_next/static/runtime/main-590ad82901df6081bdd1.js" async=""></script><script src="/_next/static/chunks/b61f7acbdb6756fa918c6ba2f93c2a728232d13d.1462234e73ffb671bf4b.js" async=""></script><script src="/_next/static/xr4nQcHtuDpBkcDoGXt7c/_buildManifest.js" async=""></script><script src="/_next/static/xr4nQcHtuDpBkcDoGXt7c/_ssgManifest.js" async=""></script></body></html>